<!DOCTYPE html>
<html lang="en"><head>
<script src="Rworkshop_presentation_files/libs/clipboard/clipboard.min.js"></script>
<script src="Rworkshop_presentation_files/libs/quarto-html/tabby.min.js"></script>
<script src="Rworkshop_presentation_files/libs/quarto-html/popper.min.js"></script>
<script src="Rworkshop_presentation_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Rworkshop_presentation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Rworkshop_presentation_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Rworkshop_presentation_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Rworkshop_presentation_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.353">

  <meta name="author" content="R4 박재영">
  <title>2023 R workshop</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Rworkshop_presentation_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Rworkshop_presentation_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; background-color: #2a0f15; font-weight: bold; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="Rworkshop_presentation_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="css/logo.css">
  <link href="Rworkshop_presentation_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Rworkshop_presentation_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Rworkshop_presentation_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Rworkshop_presentation_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="Rworkshop_presentation_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="Rworkshop_presentation_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">2023 R workshop</h1>
  <p class="subtitle">가톨릭대학교 서울성모병원 직업환경의학과</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
R4 박재영 
</div>
</div>
</div>

</section>
<section>
<section id="introduction" class="title-slide slide level1 center">
<h1>Introduction</h1>
<ul>
<li>What is R?</li>
<li>R studio</li>
<li>R : Object</li>
<li>R : Functions</li>
<li>R : Packages</li>
<li>R : Scripts</li>
</ul>
</section>
<section id="워크샵-시작-전-준비" class="slide level2 smaller scollable">
<h2>워크샵 시작 전 준비</h2>
<ul>
<li><a href="https://cran.r-project.org/bin/windows/base/">R 설치</a></li>
<li><a href="https://posit.co/download/rstudio-desktop/">R studio 설치</a></li>
<li><a href="https://drive.google.com/drive/folders/1z2l-_h-e7A7Y1SLaVjrBLBvzQvR0y4yy?usp=sharing">R 워크샵 자료 다운</a> 받기
<ul>
<li>압축 파일 다운 후 원하는 곳에 풀기(전체 다운로드!)</li>
<li>슬라이드 : presentation &gt; Rworkshop_presentation.html</li>
<li>코드 : scripts &gt; workshop.R</li>
<li>교과서(참고용) : _book &gt; index.html</li>
</ul></li>
<li><strong>R_workshop.Rproj 더블클릭</strong></li>
</ul>

<img data-src="images/prerequisite.png" class="r-stretch"></section>
<section id="통계-프로그램" class="slide level2">
<h2>통계 프로그램</h2>
<ul>
<li>Excel(?)</li>
<li>SAS</li>
<li>Stata</li>
<li><strong>R</strong></li>
</ul>
</section>
<section id="r의-장점" class="slide level2 smaller">
<h2>R의 장점</h2>
<div class="columns">
<div class="column">
<ul>
<li>무료</li>
<li>Reproducibility
<ul>
<li>클릭질 대신 코드를 통해 재현성 확보</li>
</ul></li>
<li>(확장성) 빠른 최신 통계 기법 업데이트</li>
<li>커뮤니티</li>
<li>범용성
<ul>
<li>통계 이외에 사무 자동화에도 이용 가능</li>
</ul></li>
</ul>
</div><div class="column">
<img data-src="images/SASvsR.webp" class="r-stretch">
</div>
</div>
</section>
<section id="ai가-있는데-배워야하나" class="slide level2">
<h2>AI가 있는데 배워야하나</h2>
<div class="columns">
<div class="column">
<ul>
<li>AI가 코드를 다 짜준다?
<ul>
<li>거짓말도 잘 하는 친구</li>
</ul></li>
<li>단순 작업보다 통계의 개념 및 올바른 해석이 더 중요한 시대</li>
</ul>
</div><div class="column">
<p><img data-src="images/chatgpt-4-main-810x456.jpg"></p>
</div>
</div>
</section>
<section id="r-어렵다던데" class="slide level2">
<h2>R 어렵다던데?</h2>
<div class="columns">
<div class="column">
<ul>
<li>R Studio가 없던 시절
<ul>
<li>(2011.02.28 탄생)</li>
</ul></li>
<li>tidyverse가 없던 시절
<ul>
<li>(2016.09.15. tidyverse 1.0.0 release)</li>
</ul></li>
<li>싸이 강남스타일(2012.07.)</li>
<li>다 옛날 이야기..</li>
</ul>
</div><div class="column">
<p><img data-src="images/transition_door.png"></p>
</div>
</div>
</section>
<section id="r-기본용어" class="slide level2">
<h2>R 기본용어</h2>
<ul>
<li><p><strong>RStudio</strong></p></li>
<li><p><strong>Objects</strong></p></li>
<li><p><strong>Functions</strong></p></li>
<li><p><strong>Packages</strong></p></li>
<li><p><strong>Scripts</strong></p></li>
</ul>
</section>
<section id="r-기본용어---r-studio" class="slide level2 smaller">
<h2>R 기본용어 - R Studio</h2>
<div class="columns">
<div class="column">
<ul>
<li><p><strong>RStudio</strong> : 편집기</p>
<ul>
<li>통합개발환경(IDE)</li>
<li>R이랑 함께 깔자</li>
</ul></li>
<li><p><strong>Objects</strong></p></li>
<li><p><strong>Functions</strong></p></li>
<li><p><strong>Packages</strong></p></li>
<li><p><strong>Scripts</strong></p></li>
</ul>
</div><div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/RStudio_overview.png"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="r-기본용어---objects" class="slide level2 smaller">
<h2>R 기본용어 - Objects</h2>
<ul>
<li><p><strong>RStudio</strong> : 편집기</p></li>
<li><p><strong>Objects</strong> : 데이터</p>
<ul>
<li>데이터, 변수, 그래프 등등</li>
<li>RDS 파일로 저장할 수 있음(파일 확장자가 .RDS)</li>
</ul></li>
<li><p><strong>Functions</strong></p></li>
<li><p><strong>Packages</strong></p></li>
<li><p><strong>Scripts</strong></p></li>
</ul>
</section>
<section id="r-기본용어---functions" class="slide level2 smaller">
<h2>R 기본용어 - Functions</h2>
<ul>
<li><p><strong>RStudio</strong> : 편집기</p></li>
<li><p><strong>Objects</strong> : 데이터</p></li>
<li><p><strong>Functions</strong> : 요술항아리</p>
<ul>
<li>Object를 넣으면, Object가 나옴.</li>
<li>내부에서 무슨 일이 일어나는지 정확히 몰라도 됨. 입력 + 출력만 알자.</li>
<li>R에서 배우는 명령어들이 다 Function임.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="1-4|1,4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>check_missing_df <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb1-2"><a href="#cb1-2"></a>  df_missing <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">"Variables"</span> <span class="ot">=</span> <span class="fu">colnames</span>(df), <span class="st">"Number_of_NA"</span> <span class="ot">=</span> <span class="fu">sapply</span>(df, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x))) )</span>
<span id="cb1-3"><a href="#cb1-3"></a>  df_missing</span>
<span id="cb1-4"><a href="#cb1-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><strong>Packages</strong></p></li>
<li><p><strong>Scripts</strong></p></li>
</ul>
</section>
<section id="r-기본용어---packages" class="slide level2 smaller">
<h2>R 기본용어 - Packages</h2>
<div class="columns">
<div class="column">
<ul>
<li><p><strong>RStudio</strong> : 편집기</p></li>
<li><p><strong>Objects</strong> : 데이터</p></li>
<li><p><strong>Functions</strong> : 요술항아리</p></li>
<li><p><strong>Packages</strong> : Function 모음집</p>
<ul>
<li>R 기능의 핵심.</li>
<li>원하는 통계 기법, 기능이 이미 패키지로 만들어져 어딘가에 있다.</li>
</ul></li>
<li><p><strong>Scripts</strong></p></li>
</ul>
</div><div class="column">
<p><img data-src="images/tidy_workflow.png"></p>
</div>
</div>
<div class="footer">
<p>Image from: <a href="https://science.uct.ac.za/seec/stats-toolbox-seminars-r-packages-and-r-related-toolboxes/r-tidyverse">here</a></p>
</div>
</section>
<section id="r-기본용어---scripts" class="slide level2 smaller">
<h2>R 기본용어 - Scripts</h2>
<div class="columns">
<div class="column">
<ul>
<li><p><strong>RStudio</strong> : 편집기</p></li>
<li><p><strong>Objects</strong> : 데이터</p></li>
<li><p><strong>Functions</strong> : 요술항아리</p></li>
<li><p><strong>Packages</strong> : Function 모음집</p></li>
<li><p><strong>Scripts</strong> : 코드</p>
<ul>
<li>.R 파일</li>
</ul></li>
</ul>
</div><div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/scritpt_example.png"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="실행-및-기본화면" class="title-slide slide level1 center">
<h1>실행 및 기본화면</h1>
<ul>
<li>R studio : Script pane</li>
<li>R studio : Console pane</li>
<li>R studio : Plots/pakages/help pane</li>
<li>R studio : Environment pane</li>
</ul>
</section>
<section id="r-studio-기본화면" class="slide level2">
<h2>R Studio 기본화면</h2>

<img data-src="images/RStudio_overview.png" class="r-stretch quarto-figure-center"></section>
<section id="r-studio-기본화면---script" class="slide level2">
<h2>R Studio 기본화면 - Script</h2>
<ul>
<li>File -&gt; New File -&gt; R Script</li>
<li><span id="short_cut" class="short" style="color: yellow;"><strong>Ctrl + Shift + N</strong></span></li>
</ul>
<div class="fragment">
<ul>
<li>File -&gt; Open File -&gt; workshop.R 열기</li>
<li><span class="short" style="color: yellow;"><strong>Ctrl + O</strong></span></li>
</ul>
</div>
</section>
<section id="r-studio-기본화면---script-1" class="slide level2">
<h2>R Studio 기본화면 - Script</h2>
<ul>
<li><p>코드 작성 및 실행(<span class="short" style="color: yellow;">Ctrl + Enter</span>)하는 곳</p>
<ul>
<li>패키지 설치 및 불러오기</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Install &amp; Load</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="r-studio-기본화면---script-2" class="slide level2">
<h2>R Studio 기본화면 - Script</h2>
<ul>
<li><p>코드 작성 및 실행(<span class="short" style="color: yellow;">Ctrl + Enter</span>)하는 곳</p>
<ul>
<li><p>패키지 설치 및 불러오기</p></li>
<li><p>pacman 쓰기</p></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="1-2|3-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">#installs the pacman library if not installed already</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co"># install if needed and load packages</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>pacman<span class="sc">::</span><span class="fu">p_load</span> (tidyverse, readxl , devtools , haven , table1 ,</span>
<span id="cb3-5"><a href="#cb3-5"></a>                here , rstudioapi, janitor, palmerpenguins,rio, <span class="at">update=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="r-추천-패키지" class="slide level2 smaller">
<h2>R 추천 패키지</h2>
<div>
<ul>
<li class="fragment">pacman : 패키지 관리</li>
<li class="fragment">tidyverse : 메타 패키지
<ul>
<li class="fragment">dplyr # data management</li>
<li class="fragment">tidyr # data management</li>
<li class="fragment">ggplot2 # data visualization</li>
<li class="fragment">stringr # work with strings and characters</li>
<li class="fragment">forcats # work with factors</li>
<li class="fragment">lubridate # work with dates</li>
<li class="fragment">purrr # iteration and working with lists</li>
</ul></li>
</ul>
</div>
</section>
<section id="r-추천-패키지-1" class="slide level2 smaller">
<h2>R 추천 패키지</h2>
<div>
<ul>
<li class="fragment"><p>파일 읽기 쓰기</p>
<ul>
<li class="fragment">here : R project 폴더에서 상대경로 지정해줌</li>
<li class="fragment">rio : csv, xlsx, sas 등등 파일 읽어줌</li>
</ul></li>
<li class="fragment"><p>janitor : 테이블 및 데이터 클리닝</p></li>
<li class="fragment"><p>보고서 작성용</p>
<ul>
<li class="fragment">rmarkdown : 리포트 작성</li>
<li class="fragment">knitr : R Markdown report generation and html tables</li>
</ul></li>
<li class="fragment"><p>Interactive</p>
<ul>
<li class="fragment">leaflet : # interactive map</li>
<li class="fragment">plotly : # interactive graphics</li>
<li class="fragment">shiny : # interactive web apps</li>
</ul></li>
</ul>
</div>
</section>
<section id="r-studio-기본화면---console" class="slide level2">
<h2>R Studio 기본화면 - Console</h2>
<ul>
<li><span class="short" style="color: yellow;"><strong>Ctrl + Enter</strong></span>
<ul>
<li>코드가 콘솔창으로 이동&amp;실행</li>
</ul></li>
<li>콘솔창에 직접 입력해도 됨.</li>
<li>평균 등 간단한 결과는 여기에 바로 표시됨</li>
<li><span class="short" style="color: yellow;"><strong>Alt + -</strong></span>
<ul>
<li>&lt;- : Object에 이름을 붙여줌.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" data-code-line-numbers="1-2|3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">#num_1_to_10 Alt + - 1:10</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>num_1_to_10 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>   <span class="co"># 이름은 뜻이 통하도록 길게 + 대소문자 구별 주의</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>num_1_to_10  </span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="fu">mean</span>(num_1_to_10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="r에서-이름-붙이기---valid-name-vs-clean-name" class="slide level2 smaller">
<h2>R에서 이름 붙이기 - Valid name vs Clean name</h2>
<ul>
<li>대소문자 구별</li>
<li>공백 안됨</li>
<li>길이는 약 250자 제한이 있다(10000 바이트)</li>
<li>(추천) janitor::make_clean_names 를 쓰자.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="1-2|4-9|11-12|14-15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">make.names</span>(<span class="st">'number 1 to 10'</span>) <span class="co">#Valid name</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>janitor<span class="sc">::</span><span class="fu">make_clean_names</span>(<span class="st">'number 1 to 10'</span>) <span class="co">#Clean name</span></span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="do">## Read help and run examples</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>?janitor<span class="sc">::</span>make_clean_names</span>
<span id="cb5-6"><a href="#cb5-6"></a>x <span class="ot">&lt;-</span> <span class="fu">structure</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"name with space"</span>, <span class="st">"TwoWords"</span>, <span class="st">"total $ (2009)"</span>))</span>
<span id="cb5-7"><a href="#cb5-7"></a>x</span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="fu">make_clean_names</span>(<span class="fu">names</span>(x))</span>
<span id="cb5-9"><a href="#cb5-9"></a>x</span>
<span id="cb5-10"><a href="#cb5-10"></a></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="fu">make.names</span>(<span class="st">'오늘 워크샵을 주관하는 과는'</span>)</span>
<span id="cb5-12"><a href="#cb5-12"></a>오늘.워크샵을.주관하는.과는 <span class="ot">&lt;-</span> <span class="st">'직업환경의학과'</span></span>
<span id="cb5-13"><a href="#cb5-13"></a></span>
<span id="cb5-14"><a href="#cb5-14"></a>janitor<span class="sc">::</span><span class="fu">make_clean_names</span>(<span class="st">'오늘 워크샵을 주관하는 과는'</span>)</span>
<span id="cb5-15"><a href="#cb5-15"></a>oneul_wokeusyab_eul_jugwanhaneun_gwaneun <span class="ot">&lt;-</span> <span class="st">'직업환경의학과'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="r-studio-기본화면---결과" class="slide level2 smaller scrollable" data-transition="slide">
<h2>R Studio 기본화면 - 결과</h2>
<ul>
<li>그래프, table1 등 표시되는 곳</li>
</ul>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Code</a></li><li><a href="#tabset-1-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span>wt, <span class="at">y=</span>mpg)) <span class="sc">+</span> </span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-7-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="r-studio-기본화면---환경" class="slide level2 smaller">
<h2>R Studio 기본화면 - 환경</h2>
<div class="columns">
<div class="column" style="width:35%;">
<h4 id="mtcars">mtcars</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" data-code-line-numbers="1-2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">data</span>(<span class="st">"mtcars"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#R studio 우측 상단에 mtcars가 생김</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>?mtcars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:3%;">

</div><div class="column" style="width:62%;">
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">mpg</th>
<th style="text-align: right;">cyl</th>
<th style="text-align: right;">disp</th>
<th style="text-align: right;">hp</th>
<th style="text-align: right;">wt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Mazda RX4</td>
<td style="text-align: right;">21.0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">2.620</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mazda RX4 Wag</td>
<td style="text-align: right;">21.0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">2.875</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Datsun 710</td>
<td style="text-align: right;">22.8</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">108</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">2.320</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hornet 4 Drive</td>
<td style="text-align: right;">21.4</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">258</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">3.215</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hornet Sportabout</td>
<td style="text-align: right;">18.7</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">360</td>
<td style="text-align: right;">175</td>
<td style="text-align: right;">3.440</td>
</tr>
<tr class="even">
<td style="text-align: left;">Valiant</td>
<td style="text-align: right;">18.1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">225</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">3.460</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
<section id="r-studio-기본화면복습" class="slide level2">
<h2>R Studio 기본화면(복습)</h2>

<img data-src="images/RStudio_overview.png" class="r-stretch quarto-figure-center"></section>
<section id="r-studio---layout-변경" class="slide level2">
<h2>R Studio - layout 변경!</h2>

<img data-src="images/Change_layout.gif" class="r-stretch quarto-figure-center"></section>
<section id="작업-디렉토리" class="slide level2">
<h2>작업 디렉토리</h2>
<ul>
<li>현재 작업 중인 디렉토리
<ul>
<li>데이터 읽어오는 곳</li>
<li>결과물 저장하는 곳</li>
</ul></li>
<li>Session -&gt; Set Working directory -&gt; To source File location</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" data-code-line-numbers="1|2-3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">getwd</span>()</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">setwd</span>(<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getActiveDocumentContext</span>()<span class="sc">$</span>path)) <span class="co"># set working directory to source file location</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co"># NO! setwd("G:/다른 컴퓨터/의국 컴퓨터/Google 드라이브/coding/asbestos")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>(추천) R project를 쓰자</li>
</ul>
</section>
<section id="작업-디렉토리실습" class="slide level2">
<h2>작업 디렉토리(실습)</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>R project 만들기</p></li>
<li><p>File -&gt; New project</p></li>
<li><p>디렉토리를 하나 선택해주면 .Rproj 파일이 생김</p></li>
<li><p>.Rproj 파일이 있는 곳이 작업디렉토리</p></li>
<li><p>Tools -&gt; Project options 조정(우측 그림)</p></li>
</ul>
</div><div class="column">
<p><img data-src="images/R_project_option.png"></p>
</div>
</div>
</section>
<section id="r-project-왜-쓰나---코드-위생" class="slide level2">
<h2>R project 왜 쓰나? - 코드 위생!</h2>
<ul>
<li>R project 좋은 점
<ul>
<li><strong>Portablity</strong> 폴더 단위로 프로젝트 관리</li>
<li><strong>Reproducibility</strong> 소스 코드에서 모든 것이 나오도록 관리
<ul>
<li>다른 사람이 다른 기계에서 미래에도 돌릴 수 있게</li>
</ul></li>
<li>git 등 버전 관리 툴 이용 가능</li>
</ul></li>
</ul>
<div class="footer">
<p>Why R project? <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">참고</a></p>
</div>
</section>
<section id="코드-위생을-위한-좋은-습관" class="slide level2">
<h2>코드 위생을 위한 좋은 습관</h2>
<ul>
<li>데이터, 결과는 모두 프로젝트 폴더 아래에 관리.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># 작업디렉토리 밑에 data output scripts plots doc 서브 디렉토리 만들기</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>myfolders <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"data"</span>, <span class="st">"output"</span>, <span class="st">"scripts"</span>,<span class="st">"plots"</span>,<span class="st">"doc"</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">lapply</span> (myfolders, dir.create)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>작업 시작할 때는 R을 새로 시작해줌
<ul>
<li><span class="short" style="color: yellow;"><strong>Ctrl + Shift + F10</strong></span> : R 새로 시작 단축키</li>
</ul></li>
<li>Script에 코멘트 잘 달기</li>
<li><a href="https://style.tidyverse.org/">스타일 가이드</a> 에 따른 코드 작성</li>
</ul>
</section></section>
<section>
<section id="data-management" class="title-slide slide level1 center">
<h1>Data Management</h1>
<ul>
<li>Introduction</li>
<li>Tidy data?</li>
<li>데이터 위생</li>
</ul>
</section>
<section id="data-management-1" class="slide level2">
<h2>Data Management</h2>
<div class="columns">
<div class="column">
<ul>
<li><strong>Data 읽고 쓰기</strong></li>
<li>Data 클리닝</li>
</ul>
</div><div class="column">
<p><img data-src="images/Import_Export_1500x500.png"></p>
</div>
</div>
</section>
<section id="data-management-2" class="slide level2">
<h2>Data Management</h2>
<div class="columns">
<div class="column">
<ul>
<li>Data 읽고 쓰기</li>
<li><strong>Data 클리닝</strong>
<ul>
<li>변수명 정리 및 변경</li>
<li>중복 제거</li>
<li>변수명 추가 생성 및 변형</li>
<li>행 추출 혹은 추가</li>
</ul></li>
</ul>
</div><div class="column">
<p><img data-src="images/data_cleaning.png"></p>
</div>
</div>
</section>
<section id="깔끔한-데이터tidy-data" class="slide level2">
<h2>깔끔한 데이터(tidy data)</h2>
<ul>
<li>Each variable is a column; each column is a variable.</li>
<li>Each observation is a row; each row is an observation.</li>
<li>Each value is a cell; each cell is a single value.</li>
</ul>

<img data-src="images/tidy-1.png" class="r-stretch"><div class="footer">
<p>Read more <a href="https://r4ds.hadley.nz/data-tidy.html">here</a></p>
</div>
</section>
<section id="깔끔한-데이터tidy-data-1" class="slide level2">
<h2>깔끔한 데이터(tidy data)</h2>
<ul>
<li>열 = 변수</li>
<li>행 = 관찰(observation)
<ul>
<li>대개는 사람이지만 아닐 수 있다</li>
</ul></li>
<li>셀 = value</li>
</ul>

<img data-src="images/tidy-1.png" class="r-stretch"><div class="footer">
<p>Read more <a href="https://r4ds.hadley.nz/data-tidy.html">here</a></p>
</div>
</section>
<section id="깔끔한-데이터tidy-data---예시" class="slide level2 smaller">
<h2>깔끔한 데이터(tidy data) - 예시</h2>
<ul>
<li>열 = 변수</li>
<li>행 = 관찰(observation)
<ul>
<li>대개는 사람이지만 아닐 수 있다</li>
</ul></li>
<li>셀 = value</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">country</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">cases</th>
<th style="text-align: right;">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">2666</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">80488</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">213766</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="footer">
<p>Read more <a href="https://r4ds.hadley.nz/data-tidy.html">here</a></p>
</div>
</section>
<section id="깔끔한-데이터tidy-data---아닌-것-예시" class="slide level2 smaller scrollable">
<h2>깔끔한 데이터(tidy data) - 아닌 것 예시</h2>
<ul>
<li><strong>열 = 변수</strong> FAIL</li>
<li>행 = 관찰(observation)</li>
<li>셀 = value</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">country</th>
<th style="text-align: right;">cases_1999</th>
<th style="text-align: right;">cases_2000</th>
<th style="text-align: right;">population_1999</th>
<th style="text-align: right;">population_2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">2666</td>
<td style="text-align: right;">19987071</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">80488</td>
<td style="text-align: right;">172006362</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">213766</td>
<td style="text-align: right;">1272915272</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="footer">
<p>Read more <a href="https://r4ds.hadley.nz/data-tidy.html">here</a></p>
</div>
</section>
<section id="깔끔한-데이터tidy-data---아닌-것-예시-1" class="slide level2 smaller scrollable">
<h2>깔끔한 데이터(tidy data) - 아닌 것 예시</h2>
<ul>
<li>열 = 변수</li>
<li><strong>행 = 관찰(observation)</strong> FAIL</li>
<li>셀 = value</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">country</th>
<th style="text-align: right;">year</th>
<th style="text-align: left;">type</th>
<th style="text-align: right;">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">745</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">2666</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">37737</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">80488</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">212258</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">213766</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="footer">
<p>Read more <a href="https://r4ds.hadley.nz/data-tidy.html">here</a></p>
</div>
</section>
<section id="깔끔한-데이터tidy-data---아닌-것-예시-2" class="slide level2 smaller">
<h2>깔끔한 데이터(tidy data) - 아닌 것 예시</h2>
<ul>
<li>열 = 변수</li>
<li>행 = 관찰(observation)</li>
<li><strong>셀 = value</strong> FAIL</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">country</th>
<th style="text-align: right;">year</th>
<th style="text-align: left;">rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">745/19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">2666/20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">37737/172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">80488/174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">212258/1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">213766/1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="footer">
<p>Read more <a href="https://r4ds.hadley.nz/data-tidy.html">here</a></p>
</div>
</section>
<section id="데이터-위생을-위한-좋은-습관" class="slide level2">
<h2>데이터 위생을 위한 좋은 습관</h2>
<div class="columns">
<div class="column">
<ul>
<li>엑셀을 쓰지 않는다
<ul>
<li>merged cell</li>
<li>셀 서식 문제</li>
<li>너무 자유로운 형식</li>
</ul></li>
<li>엑셀을 포기할 수 없다면..
<ul>
<li>사람이 쉽게 읽을 수 있는 자료 vs 컴퓨터가 쉽게 처리할 수 있는 자료</li>
</ul></li>
</ul>
</div><div class="column">
<p><img data-src="images/excel_disaster.png"></p>
</div>
</div>
</section></section>
<section>
<section id="data-생성-및-저장" class="title-slide slide level1 center">
<h1>DATA 생성 및 저장</h1>
<ul>
<li>Create Data</li>
<li>Save &amp; Load Data</li>
</ul>
</section>
<section id="data-생성-및-저장-1" class="slide level2">
<h2>DATA 생성 및 저장</h2>
<ul>
<li>수동으로 만드는 방법 - row</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" data-code-line-numbers="1-2,8|3|4-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># create the dataset manually by row </span></span>
<span id="cb10-2"><a href="#cb10-2"></a>kidney_stone_treatment <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="sc">~</span>treatment, <span class="sc">~</span>stone_size, <span class="sc">~</span>cases, <span class="sc">~</span>success,</span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="st">"A"</span>,        <span class="st">"small"</span>,      <span class="dv">87</span>,     <span class="dv">81</span>,</span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="st">"A"</span>,        <span class="st">"large"</span>,      <span class="dv">263</span>,    <span class="dv">192</span>,</span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="st">"B"</span>,        <span class="st">"small"</span>,      <span class="dv">270</span>,    <span class="dv">234</span>,</span>
<span id="cb10-7"><a href="#cb10-7"></a>  <span class="st">"B"</span>,        <span class="st">"large"</span>,      <span class="dv">80</span>,     <span class="dv">55</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Read more <a href="https://www.bmj.com/content/309/6967/1480.full">here</a></p>
</div>
</section>
<section id="data-생성-및-저장-2" class="slide level2">
<h2>DATA 생성 및 저장</h2>
<ul>
<li>수동으로 만드는 방법 - column</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="1-2,7|3,5-6|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># create the dataset manually  </span></span>
<span id="cb11-2"><a href="#cb11-2"></a>kidney_stone_treatment_2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="at">treatment =</span> <span class="fu">c</span>(<span class="st">'A'</span>,<span class="st">'A'</span>,<span class="st">'B'</span>,<span class="st">'B'</span>),</span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="at">stone_size =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">'small'</span>,<span class="st">'large'</span>),<span class="dv">2</span>),</span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="at">cases =</span> <span class="fu">c</span>(<span class="dv">87</span>,<span class="dv">263</span>,<span class="dv">270</span>,<span class="dv">80</span>),</span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="at">success =</span> <span class="fu">c</span>(<span class="dv">81</span>,<span class="dv">192</span>,<span class="dv">234</span>,<span class="dv">55</span>)</span>
<span id="cb11-7"><a href="#cb11-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>두 데이터가 동일한 지 확인하기</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Check if they are same</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">all.equal</span>(kidney_stone_treatment,kidney_stone_treatment_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-생성-및-저장-3" class="slide level2">
<h2>DATA 생성 및 저장</h2>
<ul>
<li>생성한 데이터 kidney_stone_treatment 를 csv 포맷으로 저장</li>
<li><span class="short" style="color: yellow;"><strong>Ctrl + Shift + m</strong></span>
<ul>
<li>The pipe operator <strong>%&gt;%</strong></li>
<li>읽기 쉬운 코드</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="1-2|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># csv파일 저장하기: pipe를 써보자. Ctrl + Shift + M </span></span>
<span id="cb13-2"><a href="#cb13-2"></a>kidney_stone_treatment <span class="sc">%&gt;%</span> <span class="fu">write.csv</span>(<span class="st">'kidney_stone_treatment.csv'</span>)</span>
<span id="cb13-3"><a href="#cb13-3"></a></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">#같은 효과</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="fu">write.csv</span>(kidney_stone_treatment,<span class="st">'kidney_stone_treatment.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-생성-및-저장-4" class="slide level2">
<h2>DATA 생성 및 저장</h2>
<ul>
<li>잠깐! data는 data 폴더에서 관리하라고 했는데</li>
<li>here 패키지를 쓰자.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="1-2|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># here 패키지를 이용해서 data 폴더에 저장</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>kidney_stone_treatment <span class="sc">%&gt;%</span> <span class="fu">write.csv</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'kidney_stone_treatment.csv'</span>))</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co"># 참고) 예전 상대경로 버전</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>kidney_stone_treatment <span class="sc">%&gt;%</span> <span class="fu">write.csv</span>(<span class="st">'./data/kidney_stone_treatment.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="csv-파일-읽기" class="slide level2 smaller">
<h2>csv 파일 읽기</h2>
<ul>
<li>csv = comma-separated values
<ul>
<li>텍스트 파일인데 comma로 자료를 나눠둔 것</li>
<li>구조가 간단해서 여기저기서 쓸 수 있는 장점</li>
<li>한글 사용자에게는 인코딩 문제를 일으킬 수 있음</li>
</ul></li>
<li>메모장으로 열어보자.
<ul>
<li>우클릭 - 연결프로그램 - 메모장 선택</li>
<li>“글자”와 숫자</li>
</ul></li>
<li>csv 파일 불러오기</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="1-2|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Read csv</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>kidney_stone_treatment_csv  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'kidney_stone_treatment.csv'</span>))</span>
<span id="cb15-3"><a href="#cb15-3"></a></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co"># view data frame</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>kidney_stone_treatment_csv <span class="sc">%&gt;%</span> view</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p><a href="https://en.wikipedia.org/wiki/Comma-separated_values">Read more on csv</a></p>
</div>
</section>
<section id="rds-파일-저장-및-읽기" class="slide level2">
<h2>RDS 파일 저장 및 읽기</h2>
<ul>
<li>RDS 파일: R 전용 포맷
<ul>
<li>R object를 1개 저장</li>
<li>csv 보다 빠르고 효율적</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="1-2|4-5|7-8|10-11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># data 폴더에 RDS 파일로 저장하기</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>kidney_stone_treatment <span class="sc">%&gt;%</span> <span class="fu">saveRDS</span>(<span class="fu">here</span>(<span class="st">'data'</span>, <span class="st">'kidney_stone_treatment.RDS'</span>))</span>
<span id="cb16-3"><a href="#cb16-3"></a></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co"># data 폴더에 있는 RDS 파일 읽어오기</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>kidney_stone_treatment_RDS <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">'data'</span>, <span class="st">'kidney_stone_treatment.RDS'</span>))</span>
<span id="cb16-6"><a href="#cb16-6"></a></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co"># data frame 보기</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>kidney_stone_treatment_RDS <span class="sc">%&gt;%</span> view</span>
<span id="cb16-9"><a href="#cb16-9"></a></span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="co"># Are they same?</span></span>
<span id="cb16-11"><a href="#cb16-11"></a><span class="fu">all.equal</span>(kidney_stone_treatment,kidney_stone_treatment_RDS)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="좀더-편한-데이터-읽기-쓰기" class="slide level2 smaller">
<h2>좀더 편한 데이터 읽기 쓰기</h2>
<ul>
<li>다양한 데이터 파일 포맷들
<ul>
<li>csv, RDS 외에도</li>
<li>엑셀 : xlsx, xls</li>
<li>SAS 파일 : sas7bdat</li>
</ul></li>
<li>(추천) rio 로 해결
<ul>
<li>A Swiss-Army Knife for Data I/O</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" data-code-line-numbers="1-2|4-6|8-10|12-14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># rio 패키지 설치 후 한번 실행해줘야 함.</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>rio<span class="sc">::</span><span class="fu">install_formats</span>()</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co"># export</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>kidney_stone_treatment <span class="sc">%&gt;%</span> <span class="fu">export</span>(<span class="fu">here</span>(<span class="st">'data'</span>, <span class="st">'kidney_stone_treatment.RDS'</span>))</span>
<span id="cb17-6"><a href="#cb17-6"></a>kidney_stone_treatment <span class="sc">%&gt;%</span> <span class="fu">export</span>(<span class="fu">here</span>(<span class="st">'data'</span>, <span class="st">'kidney_stone_treatment.csv'</span>))</span>
<span id="cb17-7"><a href="#cb17-7"></a></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="co">#import RDS and comparison</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>kidney_stone_treatment_RDS <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>, <span class="st">'kidney_stone_treatment.RDS'</span>))</span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="fu">all.equal</span>(kidney_stone_treatment,kidney_stone_treatment_RDS)</span>
<span id="cb17-11"><a href="#cb17-11"></a></span>
<span id="cb17-12"><a href="#cb17-12"></a><span class="co">#import csv and comparison</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>kidney_stone_treatment_csv_rio <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>, <span class="st">'kidney_stone_treatment.csv'</span>))</span>
<span id="cb17-14"><a href="#cb17-14"></a><span class="fu">all.equal</span>(kidney_stone_treatment,kidney_stone_treatment_csv_rio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Read more on <a href="https://bookdown.org/csgillespie/efficientR/input-output.html">Top 5 tips for efficient data I/O</a></p>
</div>
</section></section>
<section>
<section id="data-살펴보기" class="title-slide slide level1 center">
<h1>DATA 살펴보기</h1>
<ul>
<li>Data summary</li>
<li>R markdown 맛보기</li>
</ul>
</section>
<section id="데이터-살펴보기---펭귄" class="slide level2 smaller scrollable">
<h2>데이터 살펴보기 - 펭귄</h2>
<ul>
<li>남극 펭귄의 종, 성별, 부리길이, 부리두께, 날개 길이, 체중 자료</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" data-code-line-numbers="1-2|4-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">data</span>(<span class="st">"penguins"</span>)</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co"># map</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span>  <span class="co"># Add default OpenStreetMap map tiles</span></span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="fu">addMarkers</span>(<span class="at">lng=</span><span class="sc">-</span><span class="fl">64.05379090101796</span>, <span class="at">lat=</span><span class="sc">-</span><span class="fl">64.77437610750401</span>, <span class="at">popup=</span><span class="st">"The palmer station"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="images/penguins.png" class="r-stretch"></section>
<section id="데이터-살펴보기---펭귄---summary" class="slide level2 smaller">
<h2>데이터 살펴보기 - 펭귄 - summary</h2>
<ul>
<li>str : 데이터의 크기, 변수형 등을 알려줌.</li>
<li>head : 첫 6행 보기</li>
<li>view : 엑셀처럼 보여줌.</li>
<li>summary : 데이터 요약</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" data-code-line-numbers="1-3|4-5|6-8|9-10|11-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># 데이터 크기, 변수형 등 확인</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>penguins <span class="sc">%&gt;%</span> str</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="fu">str</span>(penguins)</span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="co"># 보통 너무 커서 보기가 힘들다</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>penguins</span>
<span id="cb19-6"><a href="#cb19-6"></a><span class="co"># 첫 6행 보여줌</span></span>
<span id="cb19-7"><a href="#cb19-7"></a>penguins <span class="sc">%&gt;%</span> head</span>
<span id="cb19-8"><a href="#cb19-8"></a><span class="fu">head</span>(penguins)</span>
<span id="cb19-9"><a href="#cb19-9"></a><span class="co"># 전체 보기 : environment pane에서 클릭해도 같은 효과</span></span>
<span id="cb19-10"><a href="#cb19-10"></a>penguins <span class="sc">%&gt;%</span> view</span>
<span id="cb19-11"><a href="#cb19-11"></a><span class="co"># 데이터 요약</span></span>
<span id="cb19-12"><a href="#cb19-12"></a>penguins <span class="sc">%&gt;%</span> summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="데이터-살펴보기---펭귄---histogram" class="slide level2 smaller">
<h2>데이터 살펴보기 - 펭귄 - histogram</h2>
<ul>
<li>histogram 그리기</li>
<li>R base vs ggplot : ggplot</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="1-4|5-8|9-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># R base</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>penguins<span class="sc">$</span>bill_length_mm <span class="sc">%&gt;%</span> <span class="fu">hist</span>()</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="co"># R ggplot</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>bill_length_mm)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="co"># fill by species</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>bill_length_mm,<span class="at">fill=</span>species)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb20-7"><a href="#cb20-7"></a><span class="co"># facet_grid by species</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>bill_length_mm,<span class="at">fill=</span>species)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span>  <span class="fu">facet_grid</span>(species<span class="sc">~</span>.) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb20-9"><a href="#cb20-9"></a><span class="co"># facet_grid by species, island</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>bill_length_mm,<span class="at">fill=</span>species)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span>  <span class="fu">facet_grid</span>(species<span class="sc">~</span>island) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb20-11"><a href="#cb20-11"></a><span class="co"># facet_wrap by species, island</span></span>
<span id="cb20-12"><a href="#cb20-12"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>bill_length_mm,<span class="at">fill=</span>species)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(species,island)) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="데이터-살펴보기---펭귄---esquisse" class="slide level2">
<h2>데이터 살펴보기 - 펭귄 - esquisse</h2>
<ul>
<li><strong>Don’t panic!</strong></li>
<li>패키지 esquisse를 이용해서 쉽게 ggplot 그래프 그릴 수 있음.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">library</span>(esquisse)</span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="fu">esquisser</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p><a href="https://cran.r-project.org/web/packages/esquisse/vignettes/get-started.html">More on esquisse</a></p>
</div>
</section>
<section id="데이터-살펴보기---펭귄---skim" class="slide level2 smaller">
<h2>데이터 살펴보기 - 펭귄 - skim</h2>
<ul>
<li>skimr 패키지</li>
<li>rmarkdown 문서로 만들면 더 예쁨!</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># 전체 요약</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(penguins)</span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="co"># species 별로 요약</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(penguins <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(species))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="r-markdown-실습" class="slide level2 scrollable">
<h2>R markdown 실습</h2>
<ul>
<li>File -&gt; New File -&gt; R Markdown</li>
<li>R markdown 문서 구성
<ul>
<li>YAML Header</li>
<li>Code chunk : <span class="short" style="color: yellow;"><strong>Ctrl + Alt + I</strong></span></li>
<li>R markdown text</li>
</ul></li>
</ul>

<img data-src="images/rmarkdown.png" class="r-stretch"><div class="footer">
<p><a href="https://blog.zarathu.com/posts/2019-01-03-rmarkdown/">More on rmarkdown</a></p>
</div>
</section>
<section id="r-markdown-실습-1" class="slide level2 scrollable">
<h2>R markdown 실습</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="sc">---</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>title<span class="sc">:</span> <span class="st">"Untitled"</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>author<span class="sc">:</span> <span class="st">"Jaeyoung Park"</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>date<span class="sc">:</span> <span class="st">"`r Sys.Date()`"</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>output<span class="sc">:</span> html_document</span>
<span id="cb23-6"><a href="#cb23-6"></a><span class="sc">---</span></span>
<span id="cb23-7"><a href="#cb23-7"></a></span>
<span id="cb23-8"><a href="#cb23-8"></a><span class="co"># r setup code chunk에 넣기</span></span>
<span id="cb23-9"><a href="#cb23-9"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb23-10"><a href="#cb23-10"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb23-11"><a href="#cb23-11"></a></span>
<span id="cb23-12"><a href="#cb23-12"></a><span class="co"># Code chunk에 입력하기</span></span>
<span id="cb23-13"><a href="#cb23-13"></a><span class="co"># ```{r penguins}</span></span>
<span id="cb23-14"><a href="#cb23-14"></a><span class="co"># skimr::skim(iris)</span></span>
<span id="cb23-15"><a href="#cb23-15"></a><span class="co"># ```</span></span>
<span id="cb23-16"><a href="#cb23-16"></a><span class="co">#</span></span>
<span id="cb23-17"><a href="#cb23-17"></a><span class="co"># ```{r penguins_species}</span></span>
<span id="cb23-18"><a href="#cb23-18"></a><span class="co"># skimr::skim(penguins %&gt;% group_by(species))</span></span>
<span id="cb23-19"><a href="#cb23-19"></a><span class="co"># ```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p><a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">rmarkdown cheatsheet</a></p>
</div>
</section></section>
<section>
<section id="data-조작" class="title-slide slide level1 center">
<h1>DATA 조작</h1>
<ul>
<li>Operators</li>
<li>filter, select, arrange, count, mutate, group_by</li>
</ul>
</section>
<section id="자주-쓰는-연산자operator---복습" class="slide level2">
<h2>자주 쓰는 연산자(operator) - 복습</h2>
<ul>
<li>&lt;- : “assign operator”,
<ul>
<li>“save as”</li>
<li>“..는”</li>
<li><span class="short" style="color: yellow;">Alt + -</span></li>
</ul></li>
<li>%&gt;% : “pipe operator”
<ul>
<li>“and then”</li>
<li>“..를 가지고 뒤에꺼 해”</li>
<li><span class="short" style="color: yellow;">Ctrl + Shift + M</span></li>
</ul></li>
</ul>
</section>
<section id="data-기본-조작" class="slide level2">
<h2>DATA 기본 조작</h2>
<ul>
<li><strong>rename</strong> : 변수명 바꾸기</li>
<li><strong>filter</strong> : 행선택</li>
<li><strong>select</strong> : 열선택</li>
<li><strong>arrange</strong> : 순서 정렬</li>
<li><strong>count</strong> : 변수별 개수 세기</li>
<li><strong>mutate</strong> : 새 변수 정의</li>
<li><strong>group_by</strong> + <strong>summarise</strong> : 그룹별로 요약</li>
<li><strong>str_*</strong> : 텍스트 관련 조작</li>
</ul>
</section>
<section id="rename" class="slide level2">
<h2>rename</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" data-code-line-numbers="1-3|5-8|9-10|11-12|13-14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># 변수명 확인</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span>
<span id="cb24-3"><a href="#cb24-3"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">colnames</span>()</span>
<span id="cb24-4"><a href="#cb24-4"></a></span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="do">## 한글화 - 추천하지 않으나 예시로 바꿔봄.</span></span>
<span id="cb24-6"><a href="#cb24-6"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb24-7"><a href="#cb24-7"></a>  <span class="fu">rename</span>(<span class="st">'종'</span> <span class="ot">=</span> <span class="st">'species'</span>,</span>
<span id="cb24-8"><a href="#cb24-8"></a>         <span class="st">'섬'</span> <span class="ot">=</span> <span class="st">'island'</span>)</span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="do">## R base : 원본이 바뀜 주의!</span></span>
<span id="cb24-10"><a href="#cb24-10"></a><span class="fu">names</span>(penguins)[<span class="fu">names</span>(penguins) <span class="sc">==</span> <span class="st">"species"</span>] <span class="ot">=</span><span class="st">"종"</span></span>
<span id="cb24-11"><a href="#cb24-11"></a><span class="do">## janitor 이용 변수명 변경</span></span>
<span id="cb24-12"><a href="#cb24-12"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>()</span>
<span id="cb24-13"><a href="#cb24-13"></a><span class="do">## 원래대로 바꿔 줌.</span></span>
<span id="cb24-14"><a href="#cb24-14"></a><span class="fu">names</span>(penguins)[<span class="fu">names</span>(penguins) <span class="sc">==</span> <span class="st">"jong"</span>] <span class="ot">=</span><span class="st">"species"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="filter-1" class="slide level2 smaller">
<h2>filter 1</h2>
<ul>
<li><strong>==</strong> : 동일한지 테스트</li>
<li><strong>is.na</strong> : 결측치인지 확인</li>
<li><strong>!</strong> : Negation operator 참 거짓을 반대로 바꿔줌</li>
<li><strong>!=</strong> : 동일하지 않은 거</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" data-code-line-numbers="1-2|4-7|9-11|13-14|16-17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># 변수명 확인</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span>
<span id="cb25-3"><a href="#cb25-3"></a></span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="co"># species 중에서 Adelie 펭귄만 선택</span></span>
<span id="cb25-5"><a href="#cb25-5"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb25-6"><a href="#cb25-6"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">'Adelie'</span>)</span>
<span id="cb25-7"><a href="#cb25-7"></a>penguins[penguins<span class="sc">$</span>species <span class="sc">==</span> <span class="st">'Adelie'</span>,] <span class="co"># R base</span></span>
<span id="cb25-8"><a href="#cb25-8"></a></span>
<span id="cb25-9"><a href="#cb25-9"></a><span class="co"># sex가 결측치인 것만 선택</span></span>
<span id="cb25-10"><a href="#cb25-10"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">%&gt;%</span> is.na)</span>
<span id="cb25-11"><a href="#cb25-11"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(sex))</span>
<span id="cb25-12"><a href="#cb25-12"></a></span>
<span id="cb25-13"><a href="#cb25-13"></a><span class="co"># sex가 결측치가 아닌 것만 선택</span></span>
<span id="cb25-14"><a href="#cb25-14"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sex))</span>
<span id="cb25-15"><a href="#cb25-15"></a></span>
<span id="cb25-16"><a href="#cb25-16"></a><span class="co"># species 중에서 Adelie 펭귄이 아닌 것만 선택</span></span>
<span id="cb25-17"><a href="#cb25-17"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">filter</span>(species <span class="sc">!=</span> <span class="st">'Adelie'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="filter-2" class="slide level2 smaller">
<h2>filter 2</h2>
<ul>
<li><strong>|</strong> : or</li>
<li><strong>%in%</strong> : in</li>
<li><strong>&amp;</strong> : and</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" data-code-line-numbers="1-4|1,5-6|9-10,11-13|9-10,14-17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># species 중에서 Adelie 펭귄 또는 gentoo 선택</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">'Adelie'</span><span class="sc">|</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>           species <span class="sc">==</span> <span class="st">'Gentoo'</span>)</span>
<span id="cb26-5"><a href="#cb26-5"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb26-6"><a href="#cb26-6"></a>  <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Adelie'</span>,<span class="st">'Gentoo'</span>))</span>
<span id="cb26-7"><a href="#cb26-7"></a></span>
<span id="cb26-8"><a href="#cb26-8"></a></span>
<span id="cb26-9"><a href="#cb26-9"></a><span class="co"># species 중에서 Adelie 펭귄 또는 gentoo 선택</span></span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="co"># + island 는 Dream</span></span>
<span id="cb26-11"><a href="#cb26-11"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb26-12"><a href="#cb26-12"></a>  <span class="fu">filter</span>( (species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Adelie'</span>,<span class="st">'Gentoo'</span>)) <span class="sc">&amp;</span></span>
<span id="cb26-13"><a href="#cb26-13"></a>           island <span class="sc">==</span> <span class="st">'Dream'</span>) </span>
<span id="cb26-14"><a href="#cb26-14"></a><span class="co"># filter를 여러 번 해도 됨</span></span>
<span id="cb26-15"><a href="#cb26-15"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb26-16"><a href="#cb26-16"></a>  <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Adelie'</span>,<span class="st">'Gentoo'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb26-17"><a href="#cb26-17"></a>  <span class="fu">filter</span>(island <span class="sc">==</span> <span class="st">'Dream'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="filter-3" class="slide level2 smaller">
<h2>filter 3</h2>
<ul>
<li><strong>&lt;</strong> : &lt;</li>
<li><strong>&lt;=</strong> : less than or equal to</li>
<li><strong>complete.cases(.)</strong> : 결측치가 없는 거 고르기</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" data-code-line-numbers="1-4|6-8|10-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># species 중에서 Adelie 펭귄 또는 gentoo 선택 + bill_length_mm 39.2 이하</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Adelie'</span>,<span class="st">'Gentoo'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb27-4"><a href="#cb27-4"></a>  <span class="fu">filter</span>(bill_length_mm <span class="sc">&lt;=</span> <span class="fl">39.2</span>) <span class="co"># 결측치는 자동 탈락</span></span>
<span id="cb27-5"><a href="#cb27-5"></a></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="co"># bill_length_mm, bill_depth_mm에 결측치가 없는 자료 선택</span></span>
<span id="cb27-7"><a href="#cb27-7"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb27-8"><a href="#cb27-8"></a>  <span class="fu">filter</span>(<span class="fu">complete.cases</span>(bill_length_mm, bill_depth_mm)) </span>
<span id="cb27-9"><a href="#cb27-9"></a></span>
<span id="cb27-10"><a href="#cb27-10"></a><span class="co"># 모든 변수가 결측치가 없는 자료 선택</span></span>
<span id="cb27-11"><a href="#cb27-11"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb27-12"><a href="#cb27-12"></a>  <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="filter-실습-문제" class="slide level2">
<h2>filter 실습 문제</h2>
<ul>
<li><p><strong>문제</strong> : 어느 변수든 결측치가 하나라도 있는 자료를 선택해서 view</p></li>
<li><p>자료가 많으면 결측치 없는 자료만 가지고 분석해도 되지만, 추정해서 채워넣어야할 때가 있다.</p></li>
</ul>
</section>
<section id="select" class="slide level2">
<h2>select</h2>
<ul>
<li>변수를 선택</li>
<li>제거도 가능</li>
<li>숫자를 이용해도 됨.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28" data-code-line-numbers="1-3|1,4|6-8|10-11|12-13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># 4개 변수 선택. 순서도 정해주는 것에 유의</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">select</span>(species, island, sex, body_mass_g)</span>
<span id="cb28-4"><a href="#cb28-4"></a>penguins[,<span class="fu">c</span>(<span class="st">"species"</span>, <span class="st">"island"</span>, <span class="st">"sex"</span>, <span class="st">"body_mass_g"</span>)] <span class="co"># R base </span></span>
<span id="cb28-5"><a href="#cb28-5"></a></span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="co"># sex 변수 제거</span></span>
<span id="cb28-7"><a href="#cb28-7"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb28-8"><a href="#cb28-8"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex)</span>
<span id="cb28-9"><a href="#cb28-9"></a></span>
<span id="cb28-10"><a href="#cb28-10"></a><span class="co"># 변수명 확인 </span></span>
<span id="cb28-11"><a href="#cb28-11"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span>
<span id="cb28-12"><a href="#cb28-12"></a><span class="co"># 6번째 변수 제거</span></span>
<span id="cb28-13"><a href="#cb28-13"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">7</span>,<span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="arrange" class="slide level2">
<h2>arrange</h2>
<ul>
<li>정렬</li>
<li><strong>desc</strong> : 내림차순 정렬</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" data-code-line-numbers="1-2|3-4|5-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># body_mass_g 오름차순</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(body_mass_g) </span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="co"># body_mass_g 내림차순</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(body_mass_g))</span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="co"># body_mass_g 내림차순 + flipper_length_mm 오름차순</span></span>
<span id="cb29-6"><a href="#cb29-6"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb29-7"><a href="#cb29-7"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(body_mass_g), flipper_length_mm )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="count" class="slide level2">
<h2>count</h2>
<ul>
<li>변수 내용물 종류가 몇개인지 세기</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb30" data-code-line-numbers="1-4|6-7|8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="co"># species 개수 세기 + 정렬</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">count</span>(species)</span>
<span id="cb30-3"><a href="#cb30-3"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">count</span>(species, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-4"><a href="#cb30-4"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">count</span>(species) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb30-5"><a href="#cb30-5"></a></span>
<span id="cb30-6"><a href="#cb30-6"></a><span class="co"># 변수 여러개 조합도 가능</span></span>
<span id="cb30-7"><a href="#cb30-7"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">count</span>(species, island) <span class="co"># long</span></span>
<span id="cb30-8"><a href="#cb30-8"></a><span class="fu">table</span>(penguins<span class="sc">$</span>species, penguins<span class="sc">$</span>island) <span class="co"># wide. R base 유사품</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mutate-1" class="slide level2 smaller scrollable">
<h2>mutate 1</h2>
<ul>
<li><p>새 변수 정의하기</p></li>
<li><p>data를 조작한 후 assign하기</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="1-7|8-10|11-12|13-15|16-17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># TB data 정의</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>tidy_tb_example <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="at">country =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">'Afghanistan'</span>,<span class="dv">2</span>),<span class="fu">rep</span>(<span class="st">'Brazil'</span>,<span class="dv">2</span>),<span class="fu">rep</span>(<span class="st">'China'</span>,<span class="dv">2</span>)),</span>
<span id="cb31-4"><a href="#cb31-4"></a>  <span class="at">year =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1999</span>,<span class="dv">2000</span>),<span class="dv">3</span>)),</span>
<span id="cb31-5"><a href="#cb31-5"></a>  <span class="at">cases =</span> <span class="fu">c</span>(<span class="dv">745</span>,<span class="dv">2666</span>,<span class="dv">37737</span>,<span class="dv">80488</span>,<span class="dv">212258</span>,<span class="dv">213766</span>),</span>
<span id="cb31-6"><a href="#cb31-6"></a>  <span class="at">population =</span> <span class="fu">c</span>(<span class="dv">19987071</span>, <span class="dv">20595360</span>,<span class="dv">172006362</span>,<span class="dv">174504898</span>,<span class="dv">1272915272</span>, <span class="dv">1280428583</span>)</span>
<span id="cb31-7"><a href="#cb31-7"></a>)</span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="co"># rate 정의</span></span>
<span id="cb31-9"><a href="#cb31-9"></a>tidy_tb_example <span class="sc">%&gt;%</span> </span>
<span id="cb31-10"><a href="#cb31-10"></a>  <span class="fu">mutate</span>(<span class="at">rate =</span> cases <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10000</span>)</span>
<span id="cb31-11"><a href="#cb31-11"></a><span class="co"># rate 없음 확인</span></span>
<span id="cb31-12"><a href="#cb31-12"></a>tidy_tb_example</span>
<span id="cb31-13"><a href="#cb31-13"></a><span class="co"># 집어 넣어줘야 됨</span></span>
<span id="cb31-14"><a href="#cb31-14"></a>tidy_tb_example <span class="ot">&lt;-</span> tidy_tb_example <span class="sc">%&gt;%</span> </span>
<span id="cb31-15"><a href="#cb31-15"></a>  <span class="fu">mutate</span>(<span class="at">rate =</span> cases <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10000</span>)</span>
<span id="cb31-16"><a href="#cb31-16"></a><span class="co"># R base </span></span>
<span id="cb31-17"><a href="#cb31-17"></a>tidy_tb_example<span class="sc">$</span>rate <span class="ot">&lt;-</span> tidy_tb_example<span class="sc">$</span>cases <span class="sc">/</span> tidy_tb_example<span class="sc">$</span>population <span class="sc">*</span> <span class="dv">10000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mutate-2" class="slide level2">
<h2>mutate 2</h2>
<ul>
<li>새 변수를 정의</li>
<li>반올림할 때 주의하기 : round vs janitor::round_half_up</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb32" data-code-line-numbers="1-3|4-5|6-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># 반올림을 하고 싶다</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>tidy_tb_example <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="#cb32-3"></a>  <span class="fu">mutate</span>(<span class="at">rate =</span> <span class="fu">round</span>(cases <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10000</span>,<span class="dv">2</span>))</span>
<span id="cb32-4"><a href="#cb32-4"></a><span class="co"># 반올림 시 주의</span></span>
<span id="cb32-5"><a href="#cb32-5"></a><span class="fu">round</span>(<span class="fu">c</span>(<span class="fl">11.5</span>,<span class="fl">12.5</span>),<span class="dv">0</span>)</span>
<span id="cb32-6"><a href="#cb32-6"></a><span class="co"># 반올림 시 주의</span></span>
<span id="cb32-7"><a href="#cb32-7"></a>tidy_tb_example <span class="ot">&lt;-</span> tidy_tb_example <span class="sc">%&gt;%</span> </span>
<span id="cb32-8"><a href="#cb32-8"></a>  <span class="fu">mutate</span>(<span class="at">rate =</span> janitor<span class="sc">::</span><span class="fu">round_half_up</span>(cases <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">10000</span>,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mutate-3" class="slide level2">
<h2>mutate 3</h2>
<ul>
<li>조건문 ifelse으로 변수 정의하기 : 엑셀이랑 비슷!</li>
<li>변수를 숫자형으로 바꾸기 : 최첨단 통계 패키지들을 쓰려면 이런 작업이 필요할 때가 있음.</li>
<li>(추천) case_when</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" data-code-line-numbers="1-2|3-6|7-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># male = 1 female =0으로 새 변수 생성</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">sex_numeric =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">'male'</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="co"># 정의가 잘 되었는지 확인해보기</span></span>
<span id="cb33-4"><a href="#cb33-4"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb33-5"><a href="#cb33-5"></a>  <span class="fu">mutate</span>(<span class="at">sex_numeric =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">'male'</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb33-6"><a href="#cb33-6"></a>  <span class="fu">count</span>(sex, sex_numeric)</span>
<span id="cb33-7"><a href="#cb33-7"></a><span class="co"># case_when으로 같은 작업</span></span>
<span id="cb33-8"><a href="#cb33-8"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb33-9"><a href="#cb33-9"></a>  <span class="fu">mutate</span>(<span class="at">sex_numeric =</span> <span class="fu">case_when</span>(sex <span class="sc">==</span> <span class="st">'male'</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb33-10"><a href="#cb33-10"></a>                                 sex <span class="sc">==</span> <span class="st">'female'</span> <span class="sc">~</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mutate-4" class="slide level2">
<h2>mutate 4</h2>
<ul>
<li>연속형 변수를 이분형 변수로 변환</li>
<li>flipper_length_mm</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb34" data-code-line-numbers="1-3|5-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># 데이터 확인 : 둘로 나누고 싶어짐</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>penguins<span class="sc">$</span>flipper_length_mm <span class="sc">%&gt;%</span> hist</span>
<span id="cb34-3"><a href="#cb34-3"></a>penguins<span class="sc">$</span>flipper_length_mm <span class="sc">%&gt;%</span> summary </span>
<span id="cb34-4"><a href="#cb34-4"></a></span>
<span id="cb34-5"><a href="#cb34-5"></a><span class="co"># 중앙값을 기준으로 long, short 정의</span></span>
<span id="cb34-6"><a href="#cb34-6"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb34-7"><a href="#cb34-7"></a>  <span class="fu">mutate</span>(<span class="at">flipper =</span> </span>
<span id="cb34-8"><a href="#cb34-8"></a>           <span class="fu">case_when</span>(flipper_length_mm <span class="sc">&lt;</span> <span class="fu">median</span>(flipper_length_mm, <span class="at">na.rm=</span> <span class="cn">TRUE</span>) <span class="sc">~</span> <span class="st">'short'</span>,</span>
<span id="cb34-9"><a href="#cb34-9"></a>                     flipper_length_mm <span class="sc">&gt;=</span> <span class="fu">median</span>(flipper_length_mm, <span class="at">na.rm=</span> <span class="cn">TRUE</span>) <span class="sc">~</span> <span class="st">'long'</span>,</span>
<span id="cb34-10"><a href="#cb34-10"></a>                     <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="group_by-summarize" class="slide level2">
<h2>group_by &amp; summarize</h2>
<ul>
<li>그룹화 &amp; 요약
<ul>
<li>그룹화한 변수의 내용물 별로 반복작업을 해주는 거</li>
</ul></li>
<li>(습관) group_by 로 할 일 다한 후 ungroup() 해주자.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb35" data-code-line-numbers="1-3|5-7|5,8-13|5,8,9|5,8,10|5,8,11|5,8,12|5,8,13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="co"># group_by 만 하면 # Groups:   species [3] 만 생기고 별일 없음.</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>penguins <span class="sc">%&gt;%</span>   </span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">group_by</span>(species)</span>
<span id="cb35-4"><a href="#cb35-4"></a></span>
<span id="cb35-5"><a href="#cb35-5"></a><span class="co"># 그룹별로 flipper 평균, 최대, 최소 값을 요약</span></span>
<span id="cb35-6"><a href="#cb35-6"></a>penguins <span class="sc">%&gt;%</span>   </span>
<span id="cb35-7"><a href="#cb35-7"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb35-8"><a href="#cb35-8"></a>  <span class="fu">summarise</span>(</span>
<span id="cb35-9"><a href="#cb35-9"></a>    <span class="at">n_cases  =</span> <span class="fu">n</span>(),</span>
<span id="cb35-10"><a href="#cb35-10"></a>    <span class="at">mean_flipper =</span> <span class="fu">mean</span>(flipper_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-11"><a href="#cb35-11"></a>    <span class="at">max_flipper  =</span> <span class="fu">max</span>(flipper_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-12"><a href="#cb35-12"></a>    <span class="at">min_flipper  =</span> <span class="fu">min</span>(flipper_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-13"><a href="#cb35-13"></a>    <span class="at">n_males  =</span> <span class="fu">sum</span>(sex <span class="sc">==</span> <span class="st">"male"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="group_by-mutate" class="slide level2">
<h2>group_by &amp; mutate</h2>
<ul>
<li>그룹화 &amp; 새 변수 정의</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb36" data-code-line-numbers="1-9|10-11|10,12|13-14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="co"># 중앙값을 기준으로 species 별로 long, short 정의</span></span>
<span id="cb36-2"><a href="#cb36-2"></a>penguins_flipper_classified <span class="ot">&lt;-</span> </span>
<span id="cb36-3"><a href="#cb36-3"></a>  penguins <span class="sc">%&gt;%</span> </span>
<span id="cb36-4"><a href="#cb36-4"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb36-5"><a href="#cb36-5"></a>  <span class="fu">mutate</span>(<span class="at">flipper_by_species =</span> </span>
<span id="cb36-6"><a href="#cb36-6"></a>           <span class="fu">case_when</span>(flipper_length_mm <span class="sc">&lt;</span> <span class="fu">median</span>(flipper_length_mm, <span class="at">na.rm=</span> <span class="cn">TRUE</span>) <span class="sc">~</span> <span class="st">'short'</span>,</span>
<span id="cb36-7"><a href="#cb36-7"></a>                     flipper_length_mm <span class="sc">&gt;=</span> <span class="fu">median</span>(flipper_length_mm, <span class="at">na.rm=</span> <span class="cn">TRUE</span>) <span class="sc">~</span> <span class="st">'long'</span>,</span>
<span id="cb36-8"><a href="#cb36-8"></a>                     <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-9"><a href="#cb36-9"></a>  <span class="fu">ungroup</span>() <span class="co">#잊지마세요</span></span>
<span id="cb36-10"><a href="#cb36-10"></a><span class="co"># 잘 정의되었는지 확인하기</span></span>
<span id="cb36-11"><a href="#cb36-11"></a>penguins_flipper_classified <span class="sc">%&gt;%</span> <span class="fu">count</span>(species, flipper_by_species)</span>
<span id="cb36-12"><a href="#cb36-12"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">filter</span>(species <span class="sc">==</span><span class="st">'Adelie'</span>, flipper_length_mm <span class="sc">==</span> <span class="dv">190</span>) <span class="sc">%&gt;%</span> nrow</span>
<span id="cb36-13"><a href="#cb36-13"></a><span class="co"># view에서 찾기 + 정렬 기능 이용해서 확인하기</span></span>
<span id="cb36-14"><a href="#cb36-14"></a>penguins_flipper_classified <span class="sc">%&gt;%</span> view</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-조작-복습" class="slide level2 smaller">
<h2>DATA 조작 복습</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" data-code-line-numbers="1-2|1,3-5|1,3-6|8-9|8-10|8-11|8-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># A와 B의 합계를 구한다.</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>kidney_stone_treatment_total <span class="ot">&lt;-</span>  <span class="co"># 새로 만드는 데이터 이름 정해줌</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>  kidney_stone_treatment <span class="sc">%&gt;%</span>     </span>
<span id="cb37-4"><a href="#cb37-4"></a>  <span class="fu">group_by</span>(treatment) <span class="sc">%&gt;%</span>        <span class="co"># 치료법 별로    </span></span>
<span id="cb37-5"><a href="#cb37-5"></a>  <span class="fu">summarise</span>(<span class="at">cases=</span><span class="fu">sum</span>(cases), <span class="at">success =</span> <span class="fu">sum</span>(success)) <span class="sc">%&gt;%</span> <span class="co"># cases, success 요약 한다</span></span>
<span id="cb37-6"><a href="#cb37-6"></a>  <span class="fu">mutate</span>(<span class="at">stone_size =</span><span class="st">'both'</span>)     <span class="co"># stone_size는 both. 원래 자료에 붙이려면 변수 개수를 맞춰준다.</span></span>
<span id="cb37-7"><a href="#cb37-7"></a></span>
<span id="cb37-8"><a href="#cb37-8"></a>kidney_stone_treatment <span class="sc">%&gt;%</span> </span>
<span id="cb37-9"><a href="#cb37-9"></a>  <span class="fu">bind_rows</span>(kidney_stone_treatment_total) <span class="sc">%&gt;%</span> <span class="co"># 합체 </span></span>
<span id="cb37-10"><a href="#cb37-10"></a>  <span class="fu">mutate</span>(<span class="at">rate =</span> <span class="fu">format</span>(<span class="fu">round</span>(success<span class="sc">/</span>cases<span class="sc">*</span><span class="dv">100</span>,<span class="dv">1</span>), <span class="at">digits=</span> <span class="dv">1</span>,<span class="at">nsmall=</span><span class="dv">1</span>))<span class="sc">%&gt;%</span>  <span class="co"># 성공률을 구해줌 </span></span>
<span id="cb37-11"><a href="#cb37-11"></a>  <span class="fu">select</span>(treatment, stone_size, rate) <span class="sc">%&gt;%</span>  <span class="co"># 변수 선택</span></span>
<span id="cb37-12"><a href="#cb37-12"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">'treatment'</span>, <span class="at">values_from =</span> <span class="st">'rate'</span>) <span class="co"># wide form으로 변경! 나중에 자세히 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">stone_size</th>
<th style="text-align: left;">A</th>
<th style="text-align: left;">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">small</td>
<td style="text-align: left;">93.1</td>
<td style="text-align: left;">86.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">large</td>
<td style="text-align: left;">73.0</td>
<td style="text-align: left;">68.8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">both</td>
<td style="text-align: left;">78.0</td>
<td style="text-align: left;">82.6</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>A와 B 중 더 효과적인(=성공률이 높은) 치료법은?</li>
<li>Simpson’s paradox</li>
</ul>
<div class="footer">
<p>Read more on <a href="https://en.wikipedia.org/wiki/Simpson%27s_paradox">Simpson’s paradox</a></p>
</div>
</section>
<section id="교란변수" class="slide level2 smaller">
<h2>교란변수 ?</h2>
<div class="columns">
<div class="column">
<ul>
<li>X : 치료법, 노출 등등
<ul>
<li>커피 섭취량</li>
</ul></li>
<li>Y : outcome, 성공률, 생존률 등등
<ul>
<li>췌장암</li>
</ul></li>
<li>C : 교란 변수
<ul>
<li>C는 Y의 알려진 위험요인</li>
<li>C는 X와 연관성이 있으나, X의 결과는 아니다.</li>
<li>흡연</li>
<li>연령, 성별 등등..</li>
</ul></li>
</ul>
</div><div class="column">
<p><img data-src="images/gordie_confounder.png"></p>
</div>
</div>
</section>
<section id="교란변수-통제" class="slide level2">
<h2>교란변수 통제</h2>
<ul>
<li>연구 설계와 수행 단계
<ul>
<li>randomization</li>
<li>restriction</li>
<li>matching</li>
</ul></li>
<li>분석 단계
<ul>
<li>층화 : stratification</li>
<li>보정 : multivariate analysis</li>
</ul></li>
</ul>
</section>
<section id="숨어있는-변수-조심" class="slide level2">
<h2>숨어있는 변수 조심!</h2>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>bill_length_mm, <span class="at">y=</span>bill_depth_mm)) <span class="sc">+</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb38-3"><a href="#cb38-3"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb38-4"><a href="#cb38-4"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-45-1.png" width="960"></p>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>bill_length_mm, <span class="at">y=</span>bill_depth_mm, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb39-3"><a href="#cb39-3"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb39-4"><a href="#cb39-4"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-46-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="data-고급-조작" class="title-slide slide level1 center">
<h1>DATA 고급 조작</h1>
<ul>
<li>De-duplication</li>
<li>NA imputation</li>
<li>Join</li>
<li>Pivot</li>
</ul>
</section>
<section id="중복제거" class="slide level2">
<h2>중복제거</h2>
<ul>
<li>반복되는 행이 있는지 확인</li>
<li>nrow : 행의 개수를 세어서 체크</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb40" data-code-line-numbers="1-2|4-6|8-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="co"># 모든 변수에 대해서 중복 체크</span></span>
<span id="cb40-2"><a href="#cb40-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb40-3"><a href="#cb40-3"></a></span>
<span id="cb40-4"><a href="#cb40-4"></a><span class="co"># 비교 : 중복 없음 확인</span></span>
<span id="cb40-5"><a href="#cb40-5"></a>penguins <span class="sc">%&gt;%</span> nrow</span>
<span id="cb40-6"><a href="#cb40-6"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> nrow</span>
<span id="cb40-7"><a href="#cb40-7"></a></span>
<span id="cb40-8"><a href="#cb40-8"></a><span class="co"># base R</span></span>
<span id="cb40-9"><a href="#cb40-9"></a>penguins[<span class="sc">!</span><span class="fu">duplicated</span>(penguins),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="중복제거-언제" class="slide level2">
<h2>중복제거 : 언제?</h2>
<ul>
<li>보통 Id를 unique 하게 만들어서 인구학적 변수를 붙여준다.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41" data-code-line-numbers="1-5|7-10|12-15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co"># Example df</span></span>
<span id="cb41-2"><a href="#cb41-2"></a>my_handmade_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>( <span class="at">Id =</span> <span class="fu">c</span>(<span class="st">'A'</span>,<span class="st">'A'</span>,<span class="st">'A'</span>,<span class="st">'B'</span>,<span class="st">'B'</span>,<span class="st">'B'</span>,<span class="st">'C'</span>,<span class="st">'C'</span>,<span class="st">'D'</span>,<span class="st">'D'</span>),</span>
<span id="cb41-3"><a href="#cb41-3"></a>                              <span class="at">ALT =</span> <span class="fu">c</span>(<span class="dv">13</span>,<span class="dv">22</span>,<span class="dv">27</span>,<span class="dv">15</span>,<span class="dv">40</span>,<span class="cn">NA</span>,<span class="dv">23</span>,<span class="dv">21</span>,<span class="dv">75</span>,<span class="dv">23</span>),</span>
<span id="cb41-4"><a href="#cb41-4"></a>                              <span class="at">AST =</span> <span class="fu">c</span>(<span class="dv">23</span>,<span class="dv">32</span>,<span class="dv">23</span>,<span class="dv">18</span>,<span class="dv">53</span>,<span class="dv">23</span>,<span class="dv">44</span>,<span class="dv">33</span>,<span class="dv">80</span>,<span class="dv">44</span>),</span>
<span id="cb41-5"><a href="#cb41-5"></a>                              <span class="at">date =</span> <span class="fu">c</span>(<span class="st">'2019-01-23'</span>,<span class="st">'2020-01-10'</span>,<span class="st">'2021-01-22'</span>,<span class="st">'2020-03-03'</span>,<span class="st">'2021-03-15'</span>,<span class="st">'2022-03-31'</span>,<span class="st">'2021-10-14'</span>,<span class="st">'2022-04-30'</span>,<span class="st">'2021-08-17'</span>,<span class="st">'2022-08-16'</span>))</span>
<span id="cb41-6"><a href="#cb41-6"></a></span>
<span id="cb41-7"><a href="#cb41-7"></a><span class="co"># Date 자료형 변환 </span></span>
<span id="cb41-8"><a href="#cb41-8"></a>my_handmade_df <span class="sc">%&gt;%</span> str</span>
<span id="cb41-9"><a href="#cb41-9"></a>my_handmade_df<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(my_handmade_df<span class="sc">$</span>date)</span>
<span id="cb41-10"><a href="#cb41-10"></a>my_handmade_df <span class="sc">%&gt;%</span> str</span>
<span id="cb41-11"><a href="#cb41-11"></a></span>
<span id="cb41-12"><a href="#cb41-12"></a><span class="co"># distinct vs R base vs 벡터</span></span>
<span id="cb41-13"><a href="#cb41-13"></a>my_handmade_df <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(Id)</span>
<span id="cb41-14"><a href="#cb41-14"></a>my_handmade_df[<span class="sc">!</span><span class="fu">duplicated</span>(my_handmade_df<span class="sc">$</span>Id), ] </span>
<span id="cb41-15"><a href="#cb41-15"></a><span class="fu">unique</span>(my_handmade_df<span class="sc">$</span>Id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="중복제거-언제-1" class="slide level2">
<h2>중복제거 : 언제?</h2>
<ul>
<li>인구학적 정보 data와 반복측정 자료의 분리
<ul>
<li>오류 예방</li>
</ul></li>
<li>slice_min : baseline 측정치 추출하기</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb42" data-code-line-numbers="1-3|5-7|8-9|11-13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="co"># 인구학적 정보 추가</span></span>
<span id="cb42-2"><a href="#cb42-2"></a>my_handmade_df_demographic <span class="ot">&lt;-</span> my_handmade_df <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(Id) <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">c</span>(<span class="st">'M'</span>,<span class="st">'F'</span>,<span class="st">'M'</span>,<span class="st">'F'</span>))</span>
<span id="cb42-4"><a href="#cb42-4"></a></span>
<span id="cb42-5"><a href="#cb42-5"></a><span class="co"># 인구학적 정보를 분리하지 않았을 때 발생할 수 있는 오류 예</span></span>
<span id="cb42-6"><a href="#cb42-6"></a>my_handmade_df_wrong <span class="ot">&lt;-</span> my_handmade_df <span class="sc">%&gt;%</span> </span>
<span id="cb42-7"><a href="#cb42-7"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">'M'</span>,<span class="dv">3</span>),<span class="fu">rep</span>(<span class="st">'F'</span>,<span class="dv">2</span>),<span class="fu">rep</span>(<span class="st">'M'</span>,<span class="dv">3</span>),<span class="fu">rep</span>(<span class="st">'F'</span>,<span class="dv">2</span>)))</span>
<span id="cb42-8"><a href="#cb42-8"></a><span class="co"># 성별 입력 오류 찾기</span></span>
<span id="cb42-9"><a href="#cb42-9"></a>my_handmade_df_wrong <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Id) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n_distinct</span>(sex))</span>
<span id="cb42-10"><a href="#cb42-10"></a></span>
<span id="cb42-11"><a href="#cb42-11"></a><span class="co"># 첫번째 측정만 추출</span></span>
<span id="cb42-12"><a href="#cb42-12"></a>my_handmade_df_baseline <span class="ot">&lt;-</span> </span>
<span id="cb42-13"><a href="#cb42-13"></a>  my_handmade_df <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Id) <span class="sc">%&gt;%</span> <span class="fu">slice_min</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="결측치" class="slide level2 smaller">
<h2>결측치</h2>
<ul>
<li>결측치? <strong>예방</strong>이 최선</li>
<li>결측치 종류
<ul>
<li><strong>MCAR</strong>(missing completely at random)
<ul>
<li>연구대상 및 변수값과 무관한 결측(전산 오류 등). 드물다.</li>
</ul></li>
<li><strong>MAR</strong>(missing at random)
<ul>
<li>결측이 되는 정도가 결측된 변수의 값이 아니라 다른 변수와 관련</li>
</ul></li>
<li><strong>MNAR</strong>(missing not at random)
<ul>
<li>결측이 되는 정도가 결측된 변수의 값에 따라 달라짐</li>
</ul></li>
</ul></li>
</ul>
<div class="footer">
<p><a href="https://www.sciencedirect.com/science/article/pii/S0895435622002189">Read more on missing data types</a></p>
</div>
</section>
<section id="결측치-종류-예시" class="slide level2 smaller">
<h2>결측치 종류 예시</h2>
<ul>
<li>결측치 종류 예시
<ul>
<li>서울성모병원에 방문해서 설문지 작성 후 혈압을 측정하는 연구</li>
<li>MCAR(missing completely at random)
<ul>
<li>차가 막혀서 못 왔어요</li>
</ul></li>
<li>MAR(missing at random)
<ul>
<li>직장있는 사람들이 못 왔어요.</li>
</ul></li>
<li>MNAR(missing not at random)
<ul>
<li>집에서 혈압을 재보고 있는데 혈압이 정상이어서 안 왔어요.</li>
</ul></li>
</ul></li>
<li>MAR vs MNAR : 구별 어려움.</li>
</ul>
<div class="footer">
<p><a href="https://www.sciencedirect.com/science/article/pii/S0895435622002189">Read more on missing data types</a></p>
</div>
</section>
<section id="결측치-처리-방법" class="slide level2 smaller scrollable">
<h2>결측치 처리 방법</h2>
<table style="width:99%;">
<colgroup>
<col style="width: 23%">
<col style="width: 22%">
<col style="width: 53%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Missing data mechanism</strong></th>
<th><strong>Analysis</strong></th>
<th><strong>Imputation</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>MCAR</td>
<td>Complete case analysis</td>
<td>No imputation necessary</td>
</tr>
<tr class="even">
<td>MAR</td>
<td>No complete case analysis</td>
<td>Single imputation methods not valid, Multiple imputation needed</td>
</tr>
<tr class="odd">
<td>MNAR</td>
<td>No complete case analysis</td>
<td>All imputation methods not valid</td>
</tr>
</tbody>
</table>
<div class="footer">
<p><a href="https://www.sciencedirect.com/science/article/pii/S0895435622002189">Read more on missing data</a></p>
</div>
</section>
<section id="결측치-처리-방법-1" class="slide level2">
<h2>결측치 처리 방법</h2>
<ul>
<li><p>결측치 버리고 분석</p></li>
<li><p>결측치를 대체</p>
<ul>
<li>평균이나 중앙값, 최빈값 등으로 대체
<ul>
<li>분포가 변할 수 있어 주의 필요. 비추</li>
</ul></li>
<li>MICE(Multivariate Imputation by Chained Equation) Imputation
<ul>
<li>MAR에는 이 방법을 써보자.</li>
<li>mice 패키지 이용</li>
</ul></li>
</ul></li>
</ul>
<div class="footer">
<ol type="1">
<li><a href="https://stefvanbuuren.name/fimd/">결측치 대체하기</a> 2. <a href="https://dining-developer.tistory.com/19">한글블로그</a></li>
</ol>
</div>
</section>
<section id="결측치-처리-예시" class="slide level2 smaller scrollable">
<h2>결측치 처리 예시</h2>
<ul>
<li>펭귄 데이터로 결측치 대체 실습</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43" data-code-line-numbers="1-4|5-6|7-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="do">## NA imputation 실습 : 펭귄에 id 추가</span></span>
<span id="cb43-2"><a href="#cb43-2"></a>penguins_NA <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span> <span class="fu">nrow</span>(penguins)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-4"><a href="#cb43-4"></a>  <span class="fu">relocate</span>(id)  <span class="co"># id 변수를 맨 앞으로 </span></span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="do">## 결측치 있는 id 추출</span></span>
<span id="cb43-6"><a href="#cb43-6"></a>id_with_NA <span class="ot">&lt;-</span> penguins_NA <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">complete.cases</span>(.)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(id)</span>
<span id="cb43-7"><a href="#cb43-7"></a><span class="do">## 결측치 있는 부분 </span></span>
<span id="cb43-8"><a href="#cb43-8"></a>penguins_NA <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">complete.cases</span>(.))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 9
      id species island    bill_length_mm bill_depth_mm flipper_length_mm
   &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
 1     4 Adelie  Torgersen           NA            NA                  NA
 2     9 Adelie  Torgersen           34.1          18.1               193
 3    10 Adelie  Torgersen           42            20.2               190
 4    11 Adelie  Torgersen           37.8          17.1               186
 5    12 Adelie  Torgersen           37.8          17.3               180
 6    48 Adelie  Dream               37.5          18.9               179
 7   179 Gentoo  Biscoe              44.5          14.3               216
 8   219 Gentoo  Biscoe              46.2          14.4               214
 9   257 Gentoo  Biscoe              47.3          13.8               216
10   269 Gentoo  Biscoe              44.5          15.7               217
11   272 Gentoo  Biscoe              NA            NA                  NA
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="결측치-처리-예시-1" class="slide level2 smaller scrollable">
<h2>결측치 처리 예시</h2>
<ul>
<li>펭귄 데이터로 결측치 대체 실습</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb45" data-code-line-numbers="1-4|1,6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># median 으로 대체 </span></span>
<span id="cb45-2"><a href="#cb45-2"></a>penguins_NA_imputed1 <span class="ot">&lt;-</span> penguins_NA <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="#cb45-3"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_mm =</span> </span>
<span id="cb45-4"><a href="#cb45-4"></a>           <span class="fu">replace</span>(bill_length_mm, <span class="fu">is.na</span>(bill_length_mm), <span class="fu">median</span>(bill_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) </span>
<span id="cb45-5"><a href="#cb45-5"></a></span>
<span id="cb45-6"><a href="#cb45-6"></a>penguins_NA_imputed1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>( id <span class="sc">%in%</span> id_with_NA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 9
      id species island    bill_length_mm bill_depth_mm flipper_length_mm
   &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
 1     4 Adelie  Torgersen           44.4          NA                  NA
 2     9 Adelie  Torgersen           34.1          18.1               193
 3    10 Adelie  Torgersen           42            20.2               190
 4    11 Adelie  Torgersen           37.8          17.1               186
 5    12 Adelie  Torgersen           37.8          17.3               180
 6    48 Adelie  Dream               37.5          18.9               179
 7   179 Gentoo  Biscoe              44.5          14.3               216
 8   219 Gentoo  Biscoe              46.2          14.4               214
 9   257 Gentoo  Biscoe              47.3          13.8               216
10   269 Gentoo  Biscoe              44.5          15.7               217
11   272 Gentoo  Biscoe              44.4          NA                  NA
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="결측치-처리-예시-2" class="slide level2 smaller scrollable">
<h2>결측치 처리 예시</h2>
<ul>
<li>펭귄 데이터로 결측치 대체 실습</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb47" data-code-line-numbers="1-6|1,8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co"># 그룹별로 median 으로 대체 </span></span>
<span id="cb47-2"><a href="#cb47-2"></a>penguins_NA_imputed2 <span class="ot">&lt;-</span> penguins_NA <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="fu">group_by</span>(species, island) <span class="sc">%&gt;%</span> </span>
<span id="cb47-4"><a href="#cb47-4"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_mm =</span> </span>
<span id="cb47-5"><a href="#cb47-5"></a>           <span class="fu">replace</span>(bill_length_mm, <span class="fu">is.na</span>(bill_length_mm), <span class="fu">median</span>(bill_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb47-6"><a href="#cb47-6"></a>  <span class="fu">ungroup</span>() <span class="co"># 잊지말자 ungroup</span></span>
<span id="cb47-7"><a href="#cb47-7"></a></span>
<span id="cb47-8"><a href="#cb47-8"></a>penguins_NA_imputed2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>( id <span class="sc">%in%</span> id_with_NA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 9
      id species island    bill_length_mm bill_depth_mm flipper_length_mm
   &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
 1     4 Adelie  Torgersen           38.9          NA                  NA
 2     9 Adelie  Torgersen           34.1          18.1               193
 3    10 Adelie  Torgersen           42            20.2               190
 4    11 Adelie  Torgersen           37.8          17.1               186
 5    12 Adelie  Torgersen           37.8          17.3               180
 6    48 Adelie  Dream               37.5          18.9               179
 7   179 Gentoo  Biscoe              44.5          14.3               216
 8   219 Gentoo  Biscoe              46.2          14.4               214
 9   257 Gentoo  Biscoe              47.3          13.8               216
10   269 Gentoo  Biscoe              44.5          15.7               217
11   272 Gentoo  Biscoe              47.3          NA                  NA
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="결측치-처리-예시-3" class="slide level2 smaller scrollable">
<h2>결측치 처리 예시</h2>
<ul>
<li>펭귄 데이터로 결측치 대체 실습</li>
<li>calculate_mode 는 functions.R에 들어 있는 최빈값 찾아주는 함수</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb49" data-code-line-numbers="1-4|4-7|10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="co"># 그룹별로 median, mean, mode로 대체 </span></span>
<span id="cb49-2"><a href="#cb49-2"></a>penguins_NA_imputed3 <span class="ot">&lt;-</span> penguins_NA <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="fu">group_by</span>(species, island) <span class="sc">%&gt;%</span> </span>
<span id="cb49-4"><a href="#cb49-4"></a>   <span class="fu">mutate</span>(<span class="at">bill_length_mm =</span> <span class="fu">replace</span>(bill_length_mm, <span class="fu">is.na</span>(bill_length_mm), <span class="fu">median</span>(bill_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb49-5"><a href="#cb49-5"></a>         <span class="at">bill_depth_mm  =</span> <span class="fu">replace</span>(bill_depth_mm, <span class="fu">is.na</span>(bill_depth_mm), <span class="fu">mean</span>(bill_depth_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb49-6"><a href="#cb49-6"></a>         <span class="at">flipper_length_mm  =</span> <span class="fu">replace</span>(flipper_length_mm , <span class="fu">is.na</span>(flipper_length_mm ), <span class="fu">calculate_mode</span>(flipper_length_mm)),</span>
<span id="cb49-7"><a href="#cb49-7"></a>         <span class="at">body_mass_g  =</span> <span class="fu">replace</span>(body_mass_g , <span class="fu">is.na</span>(body_mass_g ), <span class="fu">median</span>(body_mass_g , <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb49-8"><a href="#cb49-8"></a>  <span class="fu">ungroup</span>() <span class="co"># 잊지말자 ungroup</span></span>
<span id="cb49-9"><a href="#cb49-9"></a></span>
<span id="cb49-10"><a href="#cb49-10"></a>penguins_NA_imputed3 <span class="sc">%&gt;%</span> <span class="fu">filter</span>( id <span class="sc">%in%</span> id_with_NA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 9
      id species island    bill_length_mm bill_depth_mm flipper_length_mm
   &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
 1     4 Adelie  Torgersen           38.9          18.4               190
 2     9 Adelie  Torgersen           34.1          18.1               193
 3    10 Adelie  Torgersen           42            20.2               190
 4    11 Adelie  Torgersen           37.8          17.1               186
 5    12 Adelie  Torgersen           37.8          17.3               180
 6    48 Adelie  Dream               37.5          18.9               179
 7   179 Gentoo  Biscoe              44.5          14.3               216
 8   219 Gentoo  Biscoe              46.2          14.4               214
 9   257 Gentoo  Biscoe              47.3          13.8               216
10   269 Gentoo  Biscoe              44.5          15.7               217
11   272 Gentoo  Biscoe              47.3          15.0               215
# ℹ 3 more variables: body_mass_g &lt;dbl&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="결측치-처리-예시---mice" class="slide level2 smaller scrollable">
<h2>결측치 처리 예시 - mice</h2>
<ul>
<li>mice 패키지 이용 sex 변수 채우기</li>
<li>다른 변수들을 이용해서 추정해줌
<ul>
<li>pmm : predictive mean matching (업계 추천)<sup>1</sup></li>
</ul></li>
<li>사실은 코드 몇줄 써서 <strong>머신러닝</strong> 한 거!</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb51" data-code-line-numbers="1-2|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>penguins_NA_imputed3_mice <span class="ot">&lt;-</span> penguins_NA_imputed3 <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">complete</span>(<span class="fu">mice</span>(penguins_NA_imputed3, <span class="at">method =</span> <span class="st">"pmm"</span>))<span class="sc">$</span>sex)</span>
<span id="cb51-3"><a href="#cb51-3"></a></span>
<span id="cb51-4"><a href="#cb51-4"></a>penguins_NA_imputed3_mice <span class="sc">%&gt;%</span> <span class="fu">filter</span>( id <span class="sc">%in%</span> id_with_NA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>White, I. R., Royston, P., &amp; Wood, A. M. (2011). Multiple imputation using chained equations: issues and guidance for practice. Statistics in medicine, 30(4), 377-399.</p></li></ol></aside></section>
<section id="데이터-결합join---개념" class="slide level2">
<h2>데이터 결합(join) - 개념</h2>

<img data-src="images/join_cheat_sheet.png" class="r-stretch"><div class="footer">
<p>Image from <a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">Data-wrangling-cheatsheet</a></p>
</div>
</section>
<section id="데이터-결합join---개념-1" class="slide level2">
<h2>데이터 결합(join) - 개념</h2>

<img data-src="images/sql-joins-cheatsheet.webp" class="r-stretch"><div class="footer">
<p>Image from <a href="https://www.ml4devs.com/articles/sql-joins-tutorial-inner-join-left-join-right-join-full-join-cross-join/">here</a></p>
</div>
</section>
<section id="데이터-결합join---예시" class="slide level2">
<h2>데이터 결합(join) - 예시</h2>
<ul>
<li>left_join : 내 자료(left)에 추가자료를(right) 붙여줌.
<ul>
<li>내 자료의 행은 유지됨. 추가자료는 일부 버려질 수 있음.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb52" data-code-line-numbers="1-3|1,4-5|7-9|11-14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="co"># 직업 자료 생성</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>my_handmade_df_job <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Id =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>],</span>
<span id="cb52-3"><a href="#cb52-3"></a>                                 <span class="at">job =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">'shift'</span>,<span class="st">'day'</span>, <span class="cn">NA</span>),<span class="dv">2</span>))</span>
<span id="cb52-4"><a href="#cb52-4"></a>my_handmade_df_job <span class="ot">&lt;-</span> my_handmade_df_job <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb52-5"><a href="#cb52-5"></a>my_handmade_df_job</span>
<span id="cb52-6"><a href="#cb52-6"></a></span>
<span id="cb52-7"><a href="#cb52-7"></a><span class="co"># left join</span></span>
<span id="cb52-8"><a href="#cb52-8"></a>my_handmade_df_demographic_left <span class="ot">&lt;-</span></span>
<span id="cb52-9"><a href="#cb52-9"></a>  <span class="fu">left_join</span>(my_handmade_df_demographic, my_handmade_df_job, <span class="at">by=</span><span class="st">'Id'</span>)</span>
<span id="cb52-10"><a href="#cb52-10"></a></span>
<span id="cb52-11"><a href="#cb52-11"></a><span class="co"># left join : 같은 방법</span></span>
<span id="cb52-12"><a href="#cb52-12"></a>my_handmade_df_demographic_left <span class="ot">&lt;-</span> </span>
<span id="cb52-13"><a href="#cb52-13"></a>  my_handmade_df_demographic <span class="sc">%&gt;%</span></span>
<span id="cb52-14"><a href="#cb52-14"></a>  <span class="fu">left_join</span>(my_handmade_df_job, <span class="at">by=</span><span class="st">'Id'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="데이터-결합join---예시-1" class="slide level2">
<h2>데이터 결합(join) - 예시</h2>
<ul>
<li>full_join : 내 자료(left)에 추가자료를(right) 붙여줌.
<ul>
<li>내 자료, 추가자료 모두 유지.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb53" data-code-line-numbers="1-3|5-7|9-11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="co"># full join</span></span>
<span id="cb53-2"><a href="#cb53-2"></a>my_handmade_df_demographic_full <span class="ot">&lt;-</span></span>
<span id="cb53-3"><a href="#cb53-3"></a>  <span class="fu">full_join</span>(my_handmade_df_demographic, my_handmade_df_job, <span class="at">by=</span><span class="st">'Id'</span>)</span>
<span id="cb53-4"><a href="#cb53-4"></a></span>
<span id="cb53-5"><a href="#cb53-5"></a><span class="co"># right join</span></span>
<span id="cb53-6"><a href="#cb53-6"></a>my_handmade_df_demographic_right <span class="ot">&lt;-</span></span>
<span id="cb53-7"><a href="#cb53-7"></a>  <span class="fu">right_join</span>(my_handmade_df_demographic, my_handmade_df_job, <span class="at">by=</span><span class="st">'Id'</span>)</span>
<span id="cb53-8"><a href="#cb53-8"></a></span>
<span id="cb53-9"><a href="#cb53-9"></a><span class="co"># inner join</span></span>
<span id="cb53-10"><a href="#cb53-10"></a>my_handmade_df_demographic_inner <span class="ot">&lt;-</span></span>
<span id="cb53-11"><a href="#cb53-11"></a>  <span class="fu">inner_join</span>(my_handmade_df_demographic, my_handmade_df_job, <span class="at">by=</span><span class="st">'Id'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="데이터-결합join" class="slide level2 smaller">
<h2>데이터 결합(join)</h2>
<ul>
<li><strong>결합키가 유일</strong>한지 <strong>NA</strong> 없는지 꼭 확인</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>my_handmade_df_demographic<span class="sc">$</span>Id <span class="sc">%&gt;%</span> length</span>
<span id="cb54-2"><a href="#cb54-2"></a>my_handmade_df_demographic<span class="sc">$</span>Id <span class="sc">%&gt;%</span> unique <span class="sc">%&gt;%</span> length</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>두 data 중 <strong>겹치는 열변수는 없는가</strong> 확인</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb55" data-code-line-numbers="1-3|1,4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># 변수가 겹치는 경우 생기는 불상사</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>my_handmade_df_demographic <span class="sc">%&gt;%</span> names</span>
<span id="cb55-3"><a href="#cb55-3"></a>my_handmade_df_demographic_full <span class="sc">%&gt;%</span> names</span>
<span id="cb55-4"><a href="#cb55-4"></a><span class="fu">inner_join</span>(my_handmade_df_demographic,my_handmade_df_demographic_full, <span class="at">by=</span><span class="st">'Id'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>결합 전후에 nrow 개수 확인</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb56" data-code-line-numbers="2-3|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="co"># 키만 가지고 개수를 세보자.</span></span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="co"># inner join한 거 nrow랑 같은가</span></span>
<span id="cb56-3"><a href="#cb56-3"></a><span class="fu">intersect</span>(my_handmade_df_demographic<span class="sc">$</span>Id, my_handmade_df_job<span class="sc">$</span>Id) <span class="sc">%&gt;%</span> length</span>
<span id="cb56-4"><a href="#cb56-4"></a><span class="co"># full join한 거 nrow랑 같은가</span></span>
<span id="cb56-5"><a href="#cb56-5"></a><span class="fu">union</span>(my_handmade_df_demographic<span class="sc">$</span>Id, my_handmade_df_job<span class="sc">$</span>Id) <span class="sc">%&gt;%</span> length</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="데이터-피벗pivot" class="slide level2">
<h2>데이터 피벗(pivot)</h2>
<ul>
<li>엑셀 피벗테이블이랑 다름!</li>
<li>Wide-to-long</li>
<li>Long-to-wide</li>
</ul>
<div class="footer">
<p>Read more on <a href="https://epirhandbook.com/en/pivoting-data.html">pivoting data</a></p>
</div>
</section>
<section id="데이터-피벗pivot-pivot_longer" class="slide level2">
<h2>데이터 피벗(pivot) : pivot_longer</h2>

<img data-src="images/pivot_longer_new.png" class="r-stretch"><div class="footer">
<p>Read more on <a href="https://epirhandbook.com/en/pivoting-data.html">pivoting data</a></p>
</div>
</section>
<section id="데이터-피벗pivot-pivot_longer-1" class="slide level2">
<h2>데이터 피벗(pivot) : pivot_longer</h2>
<ul>
<li>Tidy data를 만들 때 사용</li>
<li>컴퓨터가 long form을 좋아함</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>data_wide <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="sc">~</span>country,      <span class="sc">~</span><span class="st">'1999'</span>, <span class="sc">~</span><span class="st">'2000'</span>, <span class="sc">~</span><span class="st">'2001'</span>, <span class="sc">~</span><span class="st">'2002'</span>,</span>
<span id="cb57-3"><a href="#cb57-3"></a>  <span class="st">"Angola"</span>,        <span class="dv">800</span>,   <span class="dv">750</span>,   <span class="dv">925</span>,  <span class="dv">1020</span>,</span>
<span id="cb57-4"><a href="#cb57-4"></a>  <span class="st">"India"</span>,       <span class="dv">20100</span>, <span class="dv">25650</span>, <span class="dv">26800</span>, <span class="dv">27255</span>,</span>
<span id="cb57-5"><a href="#cb57-5"></a>  <span class="st">"Mongolia"</span>,      <span class="dv">450</span>,   <span class="dv">512</span>,   <span class="dv">510</span>,  <span class="dv">586</span>,</span>
<span id="cb57-6"><a href="#cb57-6"></a>)</span>
<span id="cb57-7"><a href="#cb57-7"></a></span>
<span id="cb57-8"><a href="#cb57-8"></a>data_long <span class="ot">&lt;-</span> data_wide <span class="sc">%&gt;%</span></span>
<span id="cb57-9"><a href="#cb57-9"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb57-10"><a href="#cb57-10"></a>  <span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>, </span>
<span id="cb57-11"><a href="#cb57-11"></a>  <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb57-12"><a href="#cb57-12"></a>  <span class="at">values_to =</span> <span class="st">"cases"</span></span>
<span id="cb57-13"><a href="#cb57-13"></a>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Read more on <a href="https://epirhandbook.com/en/pivoting-data.html">pivoting data</a></p>
</div>
</section>
<section id="데이터-피벗pivot-pivot_wider" class="slide level2">
<h2>데이터 피벗(pivot) : pivot_wider</h2>

<img data-src="images/pivot_wider_new.png" class="r-stretch"><div class="footer">
<p>Read more on <a href="https://epirhandbook.com/en/pivoting-data.html">pivoting data</a></p>
</div>
</section>
<section id="데이터-피벗pivot-pivot_wider-1" class="slide level2">
<h2>데이터 피벗(pivot) : pivot_wider</h2>
<ul>
<li>two way table을 만들고 싶을 때</li>
<li>tidy data가 깨지는 단점.</li>
<li>내 자료는 반복측정 자료인데 공단에서 행 = 사람에 맞춰오라고 할 때..</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>data_long  <span class="sc">%&gt;%</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="at">names_from =</span> <span class="st">"year"</span>,</span>
<span id="cb58-4"><a href="#cb58-4"></a>  <span class="at">values_from =</span> <span class="st">"cases"</span></span>
<span id="cb58-5"><a href="#cb58-5"></a>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>Read more on <a href="https://epirhandbook.com/en/pivoting-data.html">pivoting data</a></p>
</div>
</section>
<section id="wide-form으로-two-way-table-만들기" class="slide level2 smaller" data-transition="none">
<h2>wide form으로 two way table 만들기</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb59" data-code-line-numbers="1-2|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="co"># import csv 파일</span></span>
<span id="cb59-2"><a href="#cb59-2"></a>sample_titanic <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'sample_titanic.csv'</span>))</span>
<span id="cb59-3"><a href="#cb59-3"></a></span>
<span id="cb59-4"><a href="#cb59-4"></a><span class="co"># two way table 만들기 </span></span>
<span id="cb59-5"><a href="#cb59-5"></a>sample_titanic <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Sex, Class) <span class="sc">%&gt;%</span> <span class="fu">tally</span>(n) <span class="sc">%&gt;%</span> <span class="co">#여기까지는 long form</span></span>
<span id="cb59-6"><a href="#cb59-6"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Sex</th>
<th style="text-align: left;">Class</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">1st</td>
<td style="text-align: right;">145</td>
</tr>
<tr class="even">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">2nd</td>
<td style="text-align: right;">106</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">3rd</td>
<td style="text-align: right;">196</td>
</tr>
<tr class="even">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">Crew</td>
<td style="text-align: right;">23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">1st</td>
<td style="text-align: right;">180</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">2nd</td>
<td style="text-align: right;">179</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">3rd</td>
<td style="text-align: right;">510</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">Crew</td>
<td style="text-align: right;">862</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="wide-form으로-two-way-table-만들기-1" class="slide level2 smaller" data-transition="none">
<h2>wide form으로 two way table 만들기</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb60" data-code-line-numbers="4-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co"># import csv 파일</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>sample_titanic <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'sample_titanic.csv'</span>))</span>
<span id="cb60-3"><a href="#cb60-3"></a></span>
<span id="cb60-4"><a href="#cb60-4"></a><span class="co"># two way table 만들기 </span></span>
<span id="cb60-5"><a href="#cb60-5"></a>sample_titanic <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Sex, Class) <span class="sc">%&gt;%</span> <span class="fu">tally</span>(n) <span class="sc">%&gt;%</span> <span class="co">#여기까지는 long form</span></span>
<span id="cb60-6"><a href="#cb60-6"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Class, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb60-7"><a href="#cb60-7"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Sex</th>
<th style="text-align: right;">1st</th>
<th style="text-align: right;">2nd</th>
<th style="text-align: right;">3rd</th>
<th style="text-align: right;">Crew</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: right;">145</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">196</td>
<td style="text-align: right;">23</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: right;">180</td>
<td style="text-align: right;">179</td>
<td style="text-align: right;">510</td>
<td style="text-align: right;">862</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="wide-form으로-two-way-table-만들기-2" class="slide level2 smaller" data-transition="none">
<h2>wide form으로 two way table 만들기</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb61" data-code-line-numbers="4-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="co"># import csv 파일</span></span>
<span id="cb61-2"><a href="#cb61-2"></a>sample_titanic <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'sample_titanic.csv'</span>))</span>
<span id="cb61-3"><a href="#cb61-3"></a></span>
<span id="cb61-4"><a href="#cb61-4"></a><span class="co"># two way table 만들기 </span></span>
<span id="cb61-5"><a href="#cb61-5"></a>sample_titanic <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Sex, Class) <span class="sc">%&gt;%</span> <span class="fu">tally</span>(n) <span class="sc">%&gt;%</span> <span class="co">#여기까지는 long form</span></span>
<span id="cb61-6"><a href="#cb61-6"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Class, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb61-7"><a href="#cb61-7"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>) <span class="sc">%&gt;%</span>             <span class="co"># add a total row</span></span>
<span id="cb61-8"><a href="#cb61-8"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Sex</th>
<th style="text-align: right;">1st</th>
<th style="text-align: right;">2nd</th>
<th style="text-align: right;">3rd</th>
<th style="text-align: right;">Crew</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: right;">145</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">196</td>
<td style="text-align: right;">23</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: right;">180</td>
<td style="text-align: right;">179</td>
<td style="text-align: right;">510</td>
<td style="text-align: right;">862</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: right;">325</td>
<td style="text-align: right;">285</td>
<td style="text-align: right;">706</td>
<td style="text-align: right;">885</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="wide-form으로-two-way-table-만들기-3" class="slide level2 smaller" data-transition="none">
<h2>wide form으로 two way table 만들기</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb62" data-code-line-numbers="4-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># import csv 파일</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>sample_titanic <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'sample_titanic.csv'</span>))</span>
<span id="cb62-3"><a href="#cb62-3"></a></span>
<span id="cb62-4"><a href="#cb62-4"></a><span class="co"># two way table 만들기 </span></span>
<span id="cb62-5"><a href="#cb62-5"></a>sample_titanic <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Sex, Class) <span class="sc">%&gt;%</span> <span class="fu">tally</span>(n) <span class="sc">%&gt;%</span> <span class="co">#여기까지는 long form</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Class, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb62-7"><a href="#cb62-7"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>) <span class="sc">%&gt;%</span>             <span class="co"># add a total row</span></span>
<span id="cb62-8"><a href="#cb62-8"></a>  <span class="fu">adorn_percentages</span>(<span class="at">denominator =</span> <span class="st">"col"</span>) <span class="sc">%&gt;%</span>  <span class="co"># convert to proportions</span></span>
<span id="cb62-9"><a href="#cb62-9"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Sex</th>
<th style="text-align: right;">1st</th>
<th style="text-align: right;">2nd</th>
<th style="text-align: right;">3rd</th>
<th style="text-align: right;">Crew</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: right;">0.4461538</td>
<td style="text-align: right;">0.3719298</td>
<td style="text-align: right;">0.2776204</td>
<td style="text-align: right;">0.0259887</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: right;">0.5538462</td>
<td style="text-align: right;">0.6280702</td>
<td style="text-align: right;">0.7223796</td>
<td style="text-align: right;">0.9740113</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="wide-form으로-two-way-table-만들기-4" class="slide level2 smaller" data-transition="none">
<h2>wide form으로 two way table 만들기</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb63" data-code-line-numbers="4-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="co"># import csv 파일</span></span>
<span id="cb63-2"><a href="#cb63-2"></a>sample_titanic <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'sample_titanic.csv'</span>))</span>
<span id="cb63-3"><a href="#cb63-3"></a></span>
<span id="cb63-4"><a href="#cb63-4"></a><span class="co"># two way table 만들기 </span></span>
<span id="cb63-5"><a href="#cb63-5"></a>sample_titanic <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Sex, Class) <span class="sc">%&gt;%</span> <span class="fu">tally</span>(n) <span class="sc">%&gt;%</span> <span class="co">#여기까지는 long form</span></span>
<span id="cb63-6"><a href="#cb63-6"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Class, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb63-7"><a href="#cb63-7"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>) <span class="sc">%&gt;%</span>             <span class="co"># add a total row</span></span>
<span id="cb63-8"><a href="#cb63-8"></a>  <span class="fu">adorn_percentages</span>(<span class="at">denominator =</span> <span class="st">"col"</span>) <span class="sc">%&gt;%</span>  <span class="co"># convert to proportions</span></span>
<span id="cb63-9"><a href="#cb63-9"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">%&gt;%</span>                  <span class="co"># convert to percents</span></span>
<span id="cb63-10"><a href="#cb63-10"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Sex</th>
<th style="text-align: left;">1st</th>
<th style="text-align: left;">2nd</th>
<th style="text-align: left;">3rd</th>
<th style="text-align: left;">Crew</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">44.6%</td>
<td style="text-align: left;">37.2%</td>
<td style="text-align: left;">27.8%</td>
<td style="text-align: left;">2.6%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">55.4%</td>
<td style="text-align: left;">62.8%</td>
<td style="text-align: left;">72.2%</td>
<td style="text-align: left;">97.4%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: left;">100.0%</td>
<td style="text-align: left;">100.0%</td>
<td style="text-align: left;">100.0%</td>
<td style="text-align: left;">100.0%</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="wide-form으로-two-way-table-만들기-5" class="slide level2 smaller" data-transition="none">
<h2>wide form으로 two way table 만들기</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb64" data-code-line-numbers="4-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="co"># import csv 파일</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>sample_titanic <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'sample_titanic.csv'</span>))</span>
<span id="cb64-3"><a href="#cb64-3"></a></span>
<span id="cb64-4"><a href="#cb64-4"></a><span class="co"># two way table 만들기 </span></span>
<span id="cb64-5"><a href="#cb64-5"></a>sample_titanic <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Sex, Class) <span class="sc">%&gt;%</span> <span class="fu">tally</span>(n) <span class="sc">%&gt;%</span> <span class="co">#여기까지는 long form</span></span>
<span id="cb64-6"><a href="#cb64-6"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Class, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb64-7"><a href="#cb64-7"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>) <span class="sc">%&gt;%</span>             <span class="co"># add a total row</span></span>
<span id="cb64-8"><a href="#cb64-8"></a>  <span class="fu">adorn_percentages</span>(<span class="at">denominator =</span> <span class="st">"col"</span>) <span class="sc">%&gt;%</span>  <span class="co"># convert to proportions</span></span>
<span id="cb64-9"><a href="#cb64-9"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">%&gt;%</span>                  <span class="co"># convert to percents</span></span>
<span id="cb64-10"><a href="#cb64-10"></a>  <span class="fu">adorn_ns</span>(<span class="at">position =</span> <span class="st">"front"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb64-11"><a href="#cb64-11"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Sex</th>
<th style="text-align: left;">1st</th>
<th style="text-align: left;">2nd</th>
<th style="text-align: left;">3rd</th>
<th style="text-align: left;">Crew</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: left;">145 (44.6%)</td>
<td style="text-align: left;">106 (37.2%)</td>
<td style="text-align: left;">196 (27.8%)</td>
<td style="text-align: left;">23 (2.6%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: left;">180 (55.4%)</td>
<td style="text-align: left;">179 (62.8%)</td>
<td style="text-align: left;">510 (72.2%)</td>
<td style="text-align: left;">862 (97.4%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: left;">325 (100.0%)</td>
<td style="text-align: left;">285 (100.0%)</td>
<td style="text-align: left;">706 (100.0%)</td>
<td style="text-align: left;">885 (100.0%)</td>
</tr>
</tbody>
</table>
</div>
</div>
</section></section>
<section>
<section id="기술-통계" class="title-slide slide level1 center">
<h1>기술 통계</h1>
<ul>
<li>명목형 변수 요약</li>
<li>연속형 변수 요약</li>
</ul>
</section>
<section id="기술통계" class="slide level2">
<h2>기술통계?</h2>
<ul>
<li>기술 통계 (Descriptive statistics)
<ul>
<li>내가 가진 자료의 변수별 요약</li>
</ul></li>
<li>vs 추론 통계 (Statistical inference)
<ul>
<li>내가 가진 자료를 통해 모집단의 특성을 추론</li>
</ul></li>
</ul>
</section>
<section id="변수" class="slide level2 smaller">
<h2>변수</h2>
<ul>
<li>범주형 변수(Categorical variables)
<ul>
<li>Nominal
<ul>
<li>성별, 진단명</li>
</ul></li>
<li>Ordinal
<ul>
<li>5-Point Likert Scale</li>
</ul></li>
</ul></li>
<li>연속형 변수(Numerical variables)
<ul>
<li>Interval
<ul>
<li>온도(C), 청력(dB)</li>
</ul></li>
<li>Ratio : 0이 있다!
<ul>
<li>나이, 키</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="명목형-변수-요약" class="slide level2 smaller">
<h2>명목형 변수 요약</h2>
<ul>
<li>빈도, 퍼센트
<ul>
<li>skim</li>
<li>count</li>
<li>tabyl</li>
</ul></li>
<li>그래프
<ul>
<li>histogram</li>
<li>ggplot() + geom_bar</li>
<li>mosaicplot</li>
</ul></li>
<li>변수 1개 vs 2개 vs 그 이상
<ul>
<li>ggplot2::facet_grid</li>
<li>색상 이용</li>
</ul></li>
</ul>
<div class="footer">
<p>More on <a href="https://epirhandbook.com/en/descriptive-tables.html">Descriptive tables</a></p>
</div>
</section>
<section id="명목형-변수-요약---변수-1개" class="slide level2">
<h2>명목형 변수 요약 - 변수 1개</h2>
<ul>
<li>count, table, tabyl</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb65" data-code-line-numbers="1-3|5-6|4-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="co"># count</span></span>
<span id="cb65-2"><a href="#cb65-2"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb65-3"><a href="#cb65-3"></a>  <span class="fu">count</span>(species)</span>
<span id="cb65-4"><a href="#cb65-4"></a></span>
<span id="cb65-5"><a href="#cb65-5"></a><span class="co"># table</span></span>
<span id="cb65-6"><a href="#cb65-6"></a><span class="fu">table</span>(penguins<span class="sc">$</span>species)</span>
<span id="cb65-7"><a href="#cb65-7"></a></span>
<span id="cb65-8"><a href="#cb65-8"></a><span class="co"># janitor::tabyl </span></span>
<span id="cb65-9"><a href="#cb65-9"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb65-10"><a href="#cb65-10"></a>  <span class="fu">tabyl</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb65-11"><a href="#cb65-11"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">%&gt;%</span>  <span class="co"># convert proportions to percents</span></span>
<span id="cb65-12"><a href="#cb65-12"></a>  flextable<span class="sc">::</span><span class="fu">flextable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb65-13"><a href="#cb65-13"></a>  flextable<span class="sc">::</span><span class="fu">autofit</span>()  <span class="sc">%&gt;%</span> </span>
<span id="cb65-14"><a href="#cb65-14"></a>  flextable<span class="sc">::</span><span class="fu">save_as_docx</span>(<span class="at">path =</span> <span class="fu">here</span>(<span class="st">'output'</span>,<span class="st">"tabyl.docx"</span>)) <span class="co"># save as Word document to filepath</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p>More on <a href="https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html">tabyl</a></p>
</div>
</section>
<section id="명목형-변수-요약---변수-1개-1" class="slide level2">
<h2>명목형 변수 요약 - 변수 1개</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb66-2"><a href="#cb66-2"></a>    <span class="fu">aes</span>(<span class="at">x =</span> species) <span class="sc">+</span></span>
<span id="cb66-3"><a href="#cb66-3"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb66-4"><a href="#cb66-4"></a>    <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-69-1.png" width="960" class="r-stretch"></section>
<section id="명목형-변수-요약---변수-2개" class="slide level2">
<h2>명목형 변수 요약 - 변수 2개</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67" data-code-line-numbers="1-7|9-10|9,11-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href="#cb67-2"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3"></a>  <span class="fu">tabyl</span>(species, island) <span class="sc">%&gt;%</span> </span>
<span id="cb67-4"><a href="#cb67-4"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"row"</span>) <span class="sc">%&gt;%</span>             <span class="co"># add a total row</span></span>
<span id="cb67-5"><a href="#cb67-5"></a>  <span class="fu">adorn_percentages</span>(<span class="at">denominator =</span> <span class="st">"col"</span>) <span class="sc">%&gt;%</span>  <span class="co"># convert to proportions</span></span>
<span id="cb67-6"><a href="#cb67-6"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">%&gt;%</span>                  <span class="co"># convert to percents</span></span>
<span id="cb67-7"><a href="#cb67-7"></a>  <span class="fu">adorn_ns</span>(<span class="at">position =</span> <span class="st">"front"</span>)</span>
<span id="cb67-8"><a href="#cb67-8"></a></span>
<span id="cb67-9"><a href="#cb67-9"></a><span class="co"># R base &amp; mosaic plot</span></span>
<span id="cb67-10"><a href="#cb67-10"></a><span class="fu">table</span>(penguins<span class="sc">$</span>species, penguins<span class="sc">$</span>island)</span>
<span id="cb67-11"><a href="#cb67-11"></a><span class="fu">table</span>(penguins<span class="sc">$</span>species, penguins<span class="sc">$</span>island) <span class="sc">%&gt;%</span></span>
<span id="cb67-12"><a href="#cb67-12"></a>  <span class="fu">mosaicplot</span>() <span class="co"># 빈도에 따른 면적 증가</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="명목형-변수-요약---변수-2개-그래프" class="slide level2 smaller scrollable">
<h2>명목형 변수 요약 - 변수 2개 그래프</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">2변수</a></li><li><a href="#tabset-2-2">2변수와 색깔 변수</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co"># species, island</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb68-3"><a href="#cb68-3"></a>    <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">fill =</span> species) <span class="sc">+</span></span>
<span id="cb68-4"><a href="#cb68-4"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb68-5"><a href="#cb68-5"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span> <span class="fu">facet_grid</span>(.<span class="sc">~</span>island)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-71-1.png" width="960"></p>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="co"># species, island and sex</span></span>
<span id="cb69-2"><a href="#cb69-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb69-3"><a href="#cb69-3"></a>    <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">fill =</span> sex) <span class="sc">+</span></span>
<span id="cb69-4"><a href="#cb69-4"></a>    <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">'dodge'</span>) <span class="sc">+</span></span>
<span id="cb69-5"><a href="#cb69-5"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span> <span class="fu">facet_grid</span>(.<span class="sc">~</span>island)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-72-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="연속형-변수-요약" class="slide level2 smaller">
<h2>연속형 변수 요약</h2>
<ul>
<li>평균, 분산, 최대, 최소, 사분위수, 백분위수
<ul>
<li>skim</li>
<li>summary</li>
<li>gtsummary::tbl_summary</li>
</ul></li>
<li>그래프
<ul>
<li>histogram</li>
<li>ggplot2::geom_boxplot</li>
<li>q-q plot</li>
</ul></li>
<li>변수 2개 이상
<ul>
<li>산점도 ggplot2::geom_point()</li>
</ul></li>
</ul>
</section>
<section id="연속형-변수-요약---표" class="slide level2">
<h2>연속형 변수 요약 - 표</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb70" data-code-line-numbers="1-2|4-7|4-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="co"># summary</span></span>
<span id="cb70-2"><a href="#cb70-2"></a>penguins<span class="sc">$</span>flipper_length_mm <span class="sc">%&gt;%</span> summary</span>
<span id="cb70-3"><a href="#cb70-3"></a></span>
<span id="cb70-4"><a href="#cb70-4"></a><span class="co"># tbl_summary</span></span>
<span id="cb70-5"><a href="#cb70-5"></a>penguins <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_summary</span>()</span>
<span id="cb70-6"><a href="#cb70-6"></a>penguins <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_summary</span>(<span class="at">by=</span><span class="st">'species'</span>)</span>
<span id="cb70-7"><a href="#cb70-7"></a>penguins <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_summary</span>(<span class="at">by=</span><span class="st">'species'</span>) <span class="sc">%&gt;%</span> <span class="fu">add_p</span>()</span>
<span id="cb70-8"><a href="#cb70-8"></a></span>
<span id="cb70-9"><a href="#cb70-9"></a><span class="co"># summary table + p value</span></span>
<span id="cb70-10"><a href="#cb70-10"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb70-11"><a href="#cb70-11"></a>  <span class="fu">select</span>(species, sex, year, island, </span>
<span id="cb70-12"><a href="#cb70-12"></a>         bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g) <span class="sc">%&gt;%</span> </span>
<span id="cb70-13"><a href="#cb70-13"></a>  gtsummary<span class="sc">::</span><span class="fu">tbl_summary</span>(<span class="at">by=</span><span class="st">'species'</span>) <span class="sc">%&gt;%</span> <span class="fu">add_p</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p><a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/gtsummary.pdf">gtsummary cheatsheet</a></p>
</div>
</section>
<section id="연속형-변수-요약---그래프" class="slide level2">
<h2>연속형 변수 요약 - 그래프</h2>
<ul>
<li>히스토그램</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-74-1.png" width="960" class="r-stretch"></section>
<section id="연속형-변수-요약---그래프-1" class="slide level2">
<h2>연속형 변수 요약 - 그래프</h2>
<ul>
<li>히스토그램</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="co"># fill by species</span></span>
<span id="cb72-2"><a href="#cb72-2"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="#cb72-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm,<span class="at">fill=</span>species)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> </span>
<span id="cb72-4"><a href="#cb72-4"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-75-1.png" width="960" class="r-stretch"></section>
<section id="연속형-변수-요약---그래프-2" class="slide level2">
<h2>연속형 변수 요약 - 그래프</h2>
<ul>
<li>히스토그램</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># facet_grid by species</span></span>
<span id="cb73-2"><a href="#cb73-2"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb73-3"><a href="#cb73-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>flipper_length_mm,<span class="at">fill=</span>species)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb73-4"><a href="#cb73-4"></a>  <span class="fu">facet_grid</span>(species<span class="sc">~</span>.) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-76-1.png" width="960" class="r-stretch"></section>
<section id="연속형-변수-요약---그래프-3" class="slide level2 scrollable smaller">
<h2>연속형 변수 요약 - 그래프</h2>
<ul>
<li>상자그림 그리기 : geom_boxplot 이용.
<ul>
<li>geom_jitter : 점을 흩뿌려 줌.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="#cb74-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>species, <span class="at">y=</span>flipper_length_mm)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-77-1.png" width="960"></p>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>species, <span class="at">y=</span>flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_jitter</span>() <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-77-2.png" width="960"></p>
</div>
</div>
</section>
<section id="연속형-변수-요약---그래프-4" class="slide level2">
<h2>연속형 변수 요약 - 그래프</h2>
<ul>
<li>q-q plot : 정규분포인지 눈으로 살펴보는 그림
<ul>
<li>직선 위에 점이 많이 있을 수록 정규 분포</li>
</ul></li>
<li>shapiro test : 정규성 테스트</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="co"># 전체 qq plot</span></span>
<span id="cb76-2"><a href="#cb76-2"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">sample =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb76-3"><a href="#cb76-3"></a>  <span class="fu">stat_qq</span>() <span class="sc">+</span></span>
<span id="cb76-4"><a href="#cb76-4"></a>  <span class="fu">stat_qq_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-78-1.png" width="960" class="r-stretch"></section>
<section id="연속형-변수-요약---그래프-5" class="slide level2">
<h2>연속형 변수 요약 - 그래프</h2>
<ul>
<li>q-q plot : 정규분포인지 눈으로 살펴보는 그림
<ul>
<li>직선 위에 점이 많이 있을 수록 정규 분포</li>
</ul></li>
<li>shapiro test : 정규성 테스트</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="co"># 정규성 테스트 : 귀무가설 = 정규분포를 따른다.</span></span>
<span id="cb77-2"><a href="#cb77-2"></a><span class="fu">shapiro.test</span>(penguins<span class="sc">$</span>flipper_length_mm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  penguins$flipper_length_mm
W = 0.95155, p-value = 3.54e-09</code></pre>
</div>
</div>
</section>
<section id="연속형-변수-요약---그래프-6" class="slide level2">
<h2>연속형 변수 요약 - 그래프</h2>
<ul>
<li>q-q plot : 정규분포인지 눈으로 살펴보는 용도</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="co"># species 별로 qq plot</span></span>
<span id="cb79-2"><a href="#cb79-2"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">sample =</span> flipper_length_mm, <span class="at">colour =</span> species)) <span class="sc">+</span></span>
<span id="cb79-3"><a href="#cb79-3"></a>  <span class="fu">stat_qq</span>() <span class="sc">+</span></span>
<span id="cb79-4"><a href="#cb79-4"></a>  <span class="fu">stat_qq_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-80-1.png" width="960" class="r-stretch"></section>
<section id="연속형-변수-요약---그래프-7" class="slide level2">
<h2>연속형 변수 요약 - 그래프</h2>
<ul>
<li>q-q plot : 정규분포인지 눈으로 살펴보는 용도</li>
<li>shapiro.test를 통해 정규성 테스트를 해볼 수 있다</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="#cb80-3"></a>  <span class="fu">summarise</span>(<span class="at">statistic =</span> <span class="fu">shapiro.test</span>(flipper_length_mm)<span class="sc">$</span>statistic,</span>
<span id="cb80-4"><a href="#cb80-4"></a>              <span class="at">p.value =</span> <span class="fu">shapiro.test</span>(flipper_length_mm)<span class="sc">$</span>p.value) <span class="sc">%&gt;%</span> </span>
<span id="cb80-5"><a href="#cb80-5"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">species</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Adelie</td>
<td style="text-align: right;">0.9933916</td>
<td style="text-align: right;">0.7200466</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chinstrap</td>
<td style="text-align: right;">0.9889115</td>
<td style="text-align: right;">0.8106447</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gentoo</td>
<td style="text-align: right;">0.9621936</td>
<td style="text-align: right;">0.0016198</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="연속형-변수-요약---산점도" class="slide level2">
<h2>연속형 변수 요약 - 산점도</h2>
<ul>
<li>scatter plot : 연속형 변수 2개 사이의 관계를 살펴보는 용도</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>bill_length_mm, <span class="at">y=</span>bill_depth_mm, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb81-2"><a href="#cb81-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb81-3"><a href="#cb81-3"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-82-1.png" width="960" class="r-stretch"></section>
<section id="연속형-변수-요약---pairs-ggpairs" class="slide level2">
<h2>연속형 변수 요약 - pairs, ggpairs</h2>
<ul>
<li>pairs</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="fu">pairs</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>GGally::ggpairs</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb83-2"><a href="#cb83-2"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>( <span class="fu">aes</span>(<span class="at">color =</span> species) ) <span class="sc">+</span></span>
<span id="cb83-3"><a href="#cb83-3"></a>  nord<span class="sc">::</span><span class="fu">scale_color_nord</span>(<span class="st">'aurora'</span>) <span class="sc">+</span> <span class="co"># 북유럽풍 칼라</span></span>
<span id="cb83-4"><a href="#cb83-4"></a>  nord<span class="sc">::</span><span class="fu">scale_fill_nord</span>(<span class="st">'aurora'</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-84-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="table-1-만들기" class="title-slide slide level1 center">
<h1>Table 1 만들기</h1>
<ul>
<li>국민 건강 영양 조사 자료 이용</li>
<li>코드북 만들기</li>
<li>변수 정리</li>
<li>table1 패키지를 이용한 table 1 작성 실습</li>
</ul>
</section>
<section id="국민-건강-영양-조사" class="slide level2 smaller">
<h2>국민 건강 영양 조사</h2>
<ul>
<li>국민 건강 영양 조사 자료
<ul>
<li><strong>건강설문조사</strong> : 질병이환, 의료이용, 활동제한 및 삶의 질, 손상(사고중독), 예방접종 및 건강검진, 흡연, 음주, 비만 및 체중조절, 신체활동, 정신건강, 안전의식, 가구조사, 교육 및 경제활동 등</li>
<li><strong>검진조사</strong> : 혈압 및 맥박, 신체계측, 근력검사, 혈액검사, 소변검사, 구강검사, 폐기능검사, 결핵, 안검사, 이비인후검사 등</li>
<li><strong>영양조사</strong> : 음식 및 식품섭취내용, 식생활행태, 영양지식, 식이보충제, 식품안정성, 수유현황, 이유보충식 등</li>
</ul></li>
<li><a href="https://knhanes.kdca.go.kr/knhanes/sub03/sub03_02_05.do">원시자료 다운로드 링크</a></li>
</ul>
</section>
<section id="자료-읽기" class="slide level2">
<h2>자료 읽기</h2>
<ul>
<li>측정치 약 7000개 변수 약800개</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="co"># data 폴더에서 sas 파일 HN21_ALL.sas7bdat 읽기</span></span>
<span id="cb84-2"><a href="#cb84-2"></a>KNHANES21_raw <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'HN21_ALL.sas7bdat'</span>))</span>
<span id="cb84-3"><a href="#cb84-3"></a></span>
<span id="cb84-4"><a href="#cb84-4"></a>KNHANES21_raw <span class="sc">%&gt;%</span> str</span>
<span id="cb84-5"><a href="#cb84-5"></a></span>
<span id="cb84-6"><a href="#cb84-6"></a>KNHANES21_raw <span class="sc">%&gt;%</span> view</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="코드북-만들기" class="slide level2 smaller scrollable">
<h2>코드북 만들기</h2>
<ul>
<li>원시자료 이용 지침서를 보고 자료구조, 분석방법, 변수설명 확인해야함.
<ul>
<li><a href="https://www.data.go.kr/data/15076556/fileData.do">원시자료 이용 지침서</a></li>
</ul></li>
<li><em>또는</em> , 변수명에 붙어 있는 라벨을 이용해 코드북을 만들어 볼 수 있음.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="co"># 라벨 추출</span></span>
<span id="cb85-2"><a href="#cb85-2"></a>KNHANES21_raw_label_look_up  <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb85-3"><a href="#cb85-3"></a>  <span class="at">Variables =</span> KNHANES21_raw <span class="sc">%&gt;%</span> <span class="fu">names</span>(),</span>
<span id="cb85-4"><a href="#cb85-4"></a>  <span class="at">labels =</span> KNHANES21_raw <span class="sc">%&gt;%</span> <span class="fu">map_chr</span>(<span class="fu">attr_getter</span>(<span class="st">"label"</span>))</span>
<span id="cb85-5"><a href="#cb85-5"></a>)</span>
<span id="cb85-6"><a href="#cb85-6"></a></span>
<span id="cb85-7"><a href="#cb85-7"></a>KNHANES21_raw_label_look_up <span class="sc">%&gt;%</span> <span class="fu">head</span>() <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="코드북-만들기-1" class="slide level2 smaller scrollable">
<h2>코드북 만들기</h2>
<ul>
<li>list_values_df : functions.R에 들어 있는 내가 만든 function
<ul>
<li>변수이름, 변수 종류, 들어 있는 값들</li>
</ul></li>
<li>라벨 추출한 data와 join</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb86" data-code-line-numbers="1-4|5-7|8-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="fu">list_values_df</span>(KNHANES21_raw) <span class="sc">%&gt;%</span> view</span>
<span id="cb86-2"><a href="#cb86-2"></a><span class="do">## </span></span>
<span id="cb86-3"><a href="#cb86-3"></a><span class="fu">list_values_df</span>(KNHANES21_raw) <span class="sc">%&gt;%</span> nrow</span>
<span id="cb86-4"><a href="#cb86-4"></a><span class="do">## join 하기 전에 체크할 사항을 체크해보세요!</span></span>
<span id="cb86-5"><a href="#cb86-5"></a>KNHANES21_codebook <span class="ot">&lt;-</span> </span>
<span id="cb86-6"><a href="#cb86-6"></a>  <span class="fu">full_join</span>(KNHANES21_raw_label_look_up,</span>
<span id="cb86-7"><a href="#cb86-7"></a>             <span class="fu">list_values_df</span>(KNHANES21_raw),<span class="at">by=</span><span class="st">'Variables'</span>)</span>
<span id="cb86-8"><a href="#cb86-8"></a><span class="do">## 저장하기</span></span>
<span id="cb86-9"><a href="#cb86-9"></a>KNHANES21_raw <span class="sc">%&gt;%</span> <span class="fu">saveRDS</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'KNHANES21_raw.RDS'</span>)) <span class="co">#용량 감소</span></span>
<span id="cb86-10"><a href="#cb86-10"></a>KNHANES21_codebook <span class="sc">%&gt;%</span> <span class="fu">saveRDS</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'KNHANES21_codebook.RDS'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="변수-선택-및-질병-정의" class="slide level2 smaller scrollable">
<h2>변수 선택 및 질병 정의</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb87" data-code-line-numbers="1-2|4-6|8-11|13-17|19-20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="co"># 분석할 변수 선택</span></span>
<span id="cb87-2"><a href="#cb87-2"></a>KNHANES21_main <span class="ot">&lt;-</span> KNHANES21_raw <span class="sc">%&gt;%</span> <span class="fu">select</span>(age, sex, ID, edu)</span>
<span id="cb87-3"><a href="#cb87-3"></a></span>
<span id="cb87-4"><a href="#cb87-4"></a><span class="co"># 가상의 질병 생성</span></span>
<span id="cb87-5"><a href="#cb87-5"></a>KNHANES21_main<span class="sc">$</span>disease <span class="ot">&lt;-</span> </span>
<span id="cb87-6"><a href="#cb87-6"></a>  (<span class="fu">sample.int</span>(<span class="dv">2</span>,<span class="at">size=</span>KNHANES21_main <span class="sc">%&gt;%</span> nrow, <span class="at">replace=</span><span class="cn">TRUE</span>)<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb87-7"><a href="#cb87-7"></a></span>
<span id="cb87-8"><a href="#cb87-8"></a><span class="co"># Case = 1 Control = 0</span></span>
<span id="cb87-9"><a href="#cb87-9"></a>KNHANES21_main <span class="ot">&lt;-</span> KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb87-10"><a href="#cb87-10"></a>  <span class="fu">mutate</span>(<span class="at">Disease =</span> <span class="fu">case_when</span>(disease <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Case'</span>,</span>
<span id="cb87-11"><a href="#cb87-11"></a>                             <span class="cn">TRUE</span>         <span class="sc">~</span> <span class="st">'Control'</span>))</span>
<span id="cb87-12"><a href="#cb87-12"></a></span>
<span id="cb87-13"><a href="#cb87-13"></a><span class="co"># factor 형으로 변환 :</span></span>
<span id="cb87-14"><a href="#cb87-14"></a>KNHANES21_main <span class="ot">&lt;-</span>KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb87-15"><a href="#cb87-15"></a>  <span class="fu">mutate</span>(<span class="at">Disease =</span> <span class="fu">structure</span>(</span>
<span id="cb87-16"><a href="#cb87-16"></a>    <span class="fu">factor</span>(Disease, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Case'</span>, <span class="st">'Control'</span>) )</span>
<span id="cb87-17"><a href="#cb87-17"></a>    )    )</span>
<span id="cb87-18"><a href="#cb87-18"></a></span>
<span id="cb87-19"><a href="#cb87-19"></a><span class="co"># 잘 정의되었는지 확인</span></span>
<span id="cb87-20"><a href="#cb87-20"></a>KNHANES21_main <span class="sc">%&gt;%</span> <span class="fu">count</span>(disease, Disease)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="변수-정리---나이" class="slide level2">
<h2>변수 정리 - 나이</h2>
<ul>
<li>나이는 그룹으로 나누는 경우가 많음(ordinal)</li>
<li>몇살로 나누는 게 좋은가? : 선행연구랑 일치</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb88" data-code-line-numbers="1-6|8-12|14-15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a>KNHANES21_main <span class="ot">&lt;-</span> KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb88-2"><a href="#cb88-2"></a>  <span class="fu">mutate</span>(<span class="at">Agegp =</span> <span class="fu">case_when</span>(age <span class="sc">&lt;</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">'&lt;35'</span>,</span>
<span id="cb88-3"><a href="#cb88-3"></a>                           age <span class="sc">&lt;</span> <span class="dv">45</span> <span class="sc">~</span> <span class="st">'35-44'</span>,</span>
<span id="cb88-4"><a href="#cb88-4"></a>                           age <span class="sc">&lt;</span> <span class="dv">55</span> <span class="sc">~</span> <span class="st">'45-54'</span>,</span>
<span id="cb88-5"><a href="#cb88-5"></a>                           age <span class="sc">&lt;</span> <span class="dv">65</span> <span class="sc">~</span> <span class="st">'55-64'</span>,</span>
<span id="cb88-6"><a href="#cb88-6"></a>                           <span class="cn">TRUE</span>     <span class="sc">~</span> <span class="st">'65 or above'</span>))</span>
<span id="cb88-7"><a href="#cb88-7"></a></span>
<span id="cb88-8"><a href="#cb88-8"></a>KNHANES21_main <span class="ot">&lt;-</span>KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb88-9"><a href="#cb88-9"></a><span class="fu">mutate</span>(<span class="at">Agegp =</span> <span class="fu">structure</span>(</span>
<span id="cb88-10"><a href="#cb88-10"></a>  <span class="fu">factor</span>(Agegp,</span>
<span id="cb88-11"><a href="#cb88-11"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'&lt;35'</span>,<span class="st">'35-44'</span>,<span class="st">'45-54'</span>,<span class="st">'55-64'</span>,<span class="st">'65 or above'</span>) </span>
<span id="cb88-12"><a href="#cb88-12"></a>         )))</span>
<span id="cb88-13"><a href="#cb88-13"></a></span>
<span id="cb88-14"><a href="#cb88-14"></a><span class="fu">label</span>(KNHANES21_main<span class="sc">$</span>Agegp) <span class="ot">&lt;-</span> <span class="st">"Age group"</span></span>
<span id="cb88-15"><a href="#cb88-15"></a>KNHANES21_main<span class="sc">$</span>Agegp <span class="sc">%&gt;%</span> str</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="변수-정리---성별" class="slide level2">
<h2>변수 정리 - 성별</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb89" data-code-line-numbers="1-3|5-9|11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>KNHANES21_main <span class="ot">&lt;-</span> KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="#cb89-2"></a>  <span class="fu">mutate</span>(<span class="at">Sex =</span> <span class="fu">case_when</span>(sex <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Men'</span>, </span>
<span id="cb89-3"><a href="#cb89-3"></a>                         sex <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Women'</span>))</span>
<span id="cb89-4"><a href="#cb89-4"></a></span>
<span id="cb89-5"><a href="#cb89-5"></a>KNHANES21_main <span class="ot">&lt;-</span>KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb89-6"><a href="#cb89-6"></a>  <span class="fu">mutate</span>(<span class="at">Sex =</span> <span class="fu">structure</span>(</span>
<span id="cb89-7"><a href="#cb89-7"></a>    <span class="fu">factor</span>(Sex,</span>
<span id="cb89-8"><a href="#cb89-8"></a>           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Men'</span>,<span class="st">'Women'</span>) </span>
<span id="cb89-9"><a href="#cb89-9"></a>    )))</span>
<span id="cb89-10"><a href="#cb89-10"></a></span>
<span id="cb89-11"><a href="#cb89-11"></a><span class="fu">label</span>(KNHANES21_main<span class="sc">$</span>Sex) <span class="ot">&lt;-</span> <span class="st">"Sex"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="변수-정리---교육" class="slide level2">
<h2>변수 정리 - 교육</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb90" data-code-line-numbers="1-6|8-12|14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>KNHANES21_main <span class="ot">&lt;-</span> KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="#cb90-2"></a>  <span class="fu">mutate</span>(<span class="at">Education =</span> <span class="fu">case_when</span>(edu <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Primary'</span>,</span>
<span id="cb90-3"><a href="#cb90-3"></a>                               edu <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Middle School'</span>,</span>
<span id="cb90-4"><a href="#cb90-4"></a>                               edu <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">'High School'</span>,</span>
<span id="cb90-5"><a href="#cb90-5"></a>                               edu <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">'College or above'</span>,</span>
<span id="cb90-6"><a href="#cb90-6"></a>                               <span class="fu">is.na</span>(edu) <span class="sc">~</span> <span class="st">'Unknown'</span>))</span>
<span id="cb90-7"><a href="#cb90-7"></a></span>
<span id="cb90-8"><a href="#cb90-8"></a>KNHANES21_main <span class="ot">&lt;-</span>KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb90-9"><a href="#cb90-9"></a>  <span class="fu">mutate</span>(<span class="at">Education =</span> <span class="fu">structure</span>(</span>
<span id="cb90-10"><a href="#cb90-10"></a>    <span class="fu">factor</span>(Education,</span>
<span id="cb90-11"><a href="#cb90-11"></a>           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Primary'</span>,<span class="st">'Middle School'</span>,<span class="st">'High School'</span>,<span class="st">'College or above'</span>,<span class="st">'Unknown'</span>) </span>
<span id="cb90-12"><a href="#cb90-12"></a>    )))</span>
<span id="cb90-13"><a href="#cb90-13"></a></span>
<span id="cb90-14"><a href="#cb90-14"></a><span class="fu">label</span>(KNHANES21_main<span class="sc">$</span>Education) <span class="ot">&lt;-</span> <span class="st">"Education"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="table-1-만들기-1" class="slide level2 scrollable smaller">
<h2>table 1 만들기</h2>
<ul>
<li>지금까지 한 거 : 변수 선택 + 필요시 그룹화 + 변수형 변환</li>
<li>table 만드는 것은 간단함</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">library</span>(table1)</span>
<span id="cb91-2"><a href="#cb91-2"></a><span class="fu">table1</span>(<span class="sc">~</span> age <span class="sc">+</span> Agegp <span class="sc">+</span> Sex <span class="sc">+</span> Education <span class="sc">|</span>Disease, <span class="at">data=</span>KNHANES21_main) <span class="sc">%&gt;%</span></span>
<span id="cb91-3"><a href="#cb91-3"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Case</th>
<th style="text-align: left;">Control</th>
<th style="text-align: left;">Overall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">(N=3589)</td>
<td style="text-align: left;">(N=3501)</td>
<td style="text-align: left;">(N=7090)</td>
</tr>
<tr class="even">
<td style="text-align: left;">만나이</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mean (SD)</td>
<td style="text-align: left;">46.4 (22.8)</td>
<td style="text-align: left;">46.5 (22.6)</td>
<td style="text-align: left;">46.5 (22.7)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Median [Min, Max]</td>
<td style="text-align: left;">49.0 [1.00, 80.0]</td>
<td style="text-align: left;">50.0 [1.00, 80.0]</td>
<td style="text-align: left;">49.0 [1.00, 80.0]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Age group</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">&lt;35</td>
<td style="text-align: left;">1099 (30.6%)</td>
<td style="text-align: left;">1067 (30.5%)</td>
<td style="text-align: left;">2166 (30.6%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">35-44</td>
<td style="text-align: left;">457 (12.7%)</td>
<td style="text-align: left;">409 (11.7%)</td>
<td style="text-align: left;">866 (12.2%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">45-54</td>
<td style="text-align: left;">513 (14.3%)</td>
<td style="text-align: left;">533 (15.2%)</td>
<td style="text-align: left;">1046 (14.8%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">55-64</td>
<td style="text-align: left;">580 (16.2%)</td>
<td style="text-align: left;">594 (17.0%)</td>
<td style="text-align: left;">1174 (16.6%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">65 or above</td>
<td style="text-align: left;">940 (26.2%)</td>
<td style="text-align: left;">898 (25.6%)</td>
<td style="text-align: left;">1838 (25.9%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sex</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Men</td>
<td style="text-align: left;">1612 (44.9%)</td>
<td style="text-align: left;">1599 (45.7%)</td>
<td style="text-align: left;">3211 (45.3%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Women</td>
<td style="text-align: left;">1977 (55.1%)</td>
<td style="text-align: left;">1902 (54.3%)</td>
<td style="text-align: left;">3879 (54.7%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Primary</td>
<td style="text-align: left;">987 (27.5%)</td>
<td style="text-align: left;">913 (26.1%)</td>
<td style="text-align: left;">1900 (26.8%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Middle School</td>
<td style="text-align: left;">340 (9.5%)</td>
<td style="text-align: left;">342 (9.8%)</td>
<td style="text-align: left;">682 (9.6%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">High School</td>
<td style="text-align: left;">926 (25.8%)</td>
<td style="text-align: left;">884 (25.3%)</td>
<td style="text-align: left;">1810 (25.5%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">College or above</td>
<td style="text-align: left;">992 (27.6%)</td>
<td style="text-align: left;">984 (28.1%)</td>
<td style="text-align: left;">1976 (27.9%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Unknown</td>
<td style="text-align: left;">344 (9.6%)</td>
<td style="text-align: left;">378 (10.8%)</td>
<td style="text-align: left;">722 (10.2%)</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-1-만들기-2" class="slide level2 scrollable smaller">
<h2>table 1 만들기</h2>
<ul>
<li>p-value : pvalue 라는 자체 제작 함수 이용</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="fu">table1</span>(<span class="sc">~</span> age <span class="sc">+</span> Agegp <span class="sc">+</span> Sex <span class="sc">+</span> Education <span class="sc">|</span>Disease, <span class="at">data=</span>KNHANES21_main, <span class="at">overall=</span>F, <span class="at">extra.col=</span><span class="fu">list</span>(<span class="st">`</span><span class="at">P-value</span><span class="st">`</span><span class="ot">=</span>pvalue)) <span class="sc">%&gt;%</span></span>
<span id="cb92-2"><a href="#cb92-2"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Case</th>
<th style="text-align: left;">Control</th>
<th style="text-align: left;">P-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">(N=3589)</td>
<td style="text-align: left;">(N=3501)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">만나이</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mean (SD)</td>
<td style="text-align: left;">46.4 (22.8)</td>
<td style="text-align: left;">46.5 (22.6)</td>
<td style="text-align: left;">0.905</td>
</tr>
<tr class="even">
<td style="text-align: left;">Median [Min, Max]</td>
<td style="text-align: left;">49.0 [1.00, 80.0]</td>
<td style="text-align: left;">50.0 [1.00, 80.0]</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Age group</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">&lt;35</td>
<td style="text-align: left;">1099 (30.6%)</td>
<td style="text-align: left;">1067 (30.5%)</td>
<td style="text-align: left;">0.47</td>
</tr>
<tr class="odd">
<td style="text-align: left;">35-44</td>
<td style="text-align: left;">457 (12.7%)</td>
<td style="text-align: left;">409 (11.7%)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">45-54</td>
<td style="text-align: left;">513 (14.3%)</td>
<td style="text-align: left;">533 (15.2%)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">55-64</td>
<td style="text-align: left;">580 (16.2%)</td>
<td style="text-align: left;">594 (17.0%)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">65 or above</td>
<td style="text-align: left;">940 (26.2%)</td>
<td style="text-align: left;">898 (25.6%)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sex</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Men</td>
<td style="text-align: left;">1612 (44.9%)</td>
<td style="text-align: left;">1599 (45.7%)</td>
<td style="text-align: left;">0.537</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Women</td>
<td style="text-align: left;">1977 (55.1%)</td>
<td style="text-align: left;">1902 (54.3%)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Education</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Primary</td>
<td style="text-align: left;">987 (27.5%)</td>
<td style="text-align: left;">913 (26.1%)</td>
<td style="text-align: left;">0.354</td>
</tr>
<tr class="even">
<td style="text-align: left;">Middle School</td>
<td style="text-align: left;">340 (9.5%)</td>
<td style="text-align: left;">342 (9.8%)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">High School</td>
<td style="text-align: left;">926 (25.8%)</td>
<td style="text-align: left;">884 (25.3%)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">College or above</td>
<td style="text-align: left;">992 (27.6%)</td>
<td style="text-align: left;">984 (28.1%)</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Unknown</td>
<td style="text-align: left;">344 (9.6%)</td>
<td style="text-align: left;">378 (10.8%)</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-1-만들기-3" class="slide level2 scrollable smaller">
<h2>table 1 만들기</h2>
<ul>
<li>층화</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="co"># 층화</span></span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="fu">table1</span>(<span class="sc">~</span> age <span class="sc">+</span> Agegp <span class="sc">+</span> Education <span class="sc">|</span>Disease<span class="sc">*</span>Sex, <span class="at">data=</span>KNHANES21_main) <span class="sc">%&gt;%</span> </span>
<span id="cb93-3"><a href="#cb93-3"></a>  htmlTable<span class="sc">::</span><span class="fu">htmlTable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="gmisc_table" data-quarto-postprocess="true" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd" style="border-top: 2px solid grey;">
<td style="text-align: center; border-top: 2px solid grey; border-bottom: 2px solid grey;"><table class="Rtable1" style="width:100%;" data-quarto-postprocess="true">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th class="grouplabel" data-quarto-table-cell-role="th"></th>
<th colspan="2" class="grouplabel" data-quarto-table-cell-role="th"><div>
Case
</div></th>
<th colspan="2" class="grouplabel" data-quarto-table-cell-role="th"><div>
Control
</div></th>
<th colspan="2" class="grouplabel" data-quarto-table-cell-role="th"><div>
Overall
</div></th>
</tr>
<tr class="odd">
<th class="rowlabel firstrow lastrow" data-quarto-table-cell-role="th"></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Men<br>
<span class="stratn">(N=1612)</span></span></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Women<br>
<span class="stratn">(N=1977)</span></span></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Men<br>
<span class="stratn">(N=1599)</span></span></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Women<br>
<span class="stratn">(N=1902)</span></span></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Men<br>
<span class="stratn">(N=3211)</span></span></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Women<br>
<span class="stratn">(N=3879)</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="rowlabel firstrow">만나이</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr class="even">
<td class="rowlabel">Mean (SD)</td>
<td>45.1 (23.3)</td>
<td>47.5 (22.3)</td>
<td>45.0 (22.8)</td>
<td>47.7 (22.3)</td>
<td>45.1 (23.0)</td>
<td>47.6 (22.3)</td>
</tr>
<tr class="odd">
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">48.0 [1.00, 80.0]</td>
<td class="lastrow">50.0 [1.00, 80.0]</td>
<td class="lastrow">48.0 [1.00, 80.0]</td>
<td class="lastrow">52.0 [1.00, 80.0]</td>
<td class="lastrow">48.0 [1.00, 80.0]</td>
<td class="lastrow">51.0 [1.00, 80.0]</td>
</tr>
<tr class="even">
<td class="rowlabel firstrow">Age group</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr class="odd">
<td class="rowlabel">&lt;35</td>
<td>532 (33.0%)</td>
<td>567 (28.7%)</td>
<td>537 (33.6%)</td>
<td>530 (27.9%)</td>
<td>1069 (33.3%)</td>
<td>1097 (28.3%)</td>
</tr>
<tr class="even">
<td class="rowlabel">35-44</td>
<td>201 (12.5%)</td>
<td>256 (12.9%)</td>
<td>178 (11.1%)</td>
<td>231 (12.1%)</td>
<td>379 (11.8%)</td>
<td>487 (12.6%)</td>
</tr>
<tr class="odd">
<td class="rowlabel">45-54</td>
<td>232 (14.4%)</td>
<td>281 (14.2%)</td>
<td>243 (15.2%)</td>
<td>290 (15.2%)</td>
<td>475 (14.8%)</td>
<td>571 (14.7%)</td>
</tr>
<tr class="even">
<td class="rowlabel">55-64</td>
<td>244 (15.1%)</td>
<td>336 (17.0%)</td>
<td>258 (16.1%)</td>
<td>336 (17.7%)</td>
<td>502 (15.6%)</td>
<td>672 (17.3%)</td>
</tr>
<tr class="odd">
<td class="rowlabel lastrow">65 or above</td>
<td class="lastrow">403 (25.0%)</td>
<td class="lastrow">537 (27.2%)</td>
<td class="lastrow">383 (24.0%)</td>
<td class="lastrow">515 (27.1%)</td>
<td class="lastrow">786 (24.5%)</td>
<td class="lastrow">1052 (27.1%)</td>
</tr>
<tr class="even">
<td class="rowlabel firstrow">Education</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr class="odd">
<td class="rowlabel">Primary</td>
<td>413 (25.6%)</td>
<td>574 (29.0%)</td>
<td>368 (23.0%)</td>
<td>545 (28.7%)</td>
<td>781 (24.3%)</td>
<td>1119 (28.8%)</td>
</tr>
<tr class="even">
<td class="rowlabel">Middle School</td>
<td>146 (9.1%)</td>
<td>194 (9.8%)</td>
<td>153 (9.6%)</td>
<td>189 (9.9%)</td>
<td>299 (9.3%)</td>
<td>383 (9.9%)</td>
</tr>
<tr class="odd">
<td class="rowlabel">High School</td>
<td>434 (26.9%)</td>
<td>492 (24.9%)</td>
<td>429 (26.8%)</td>
<td>455 (23.9%)</td>
<td>863 (26.9%)</td>
<td>947 (24.4%)</td>
</tr>
<tr class="even">
<td class="rowlabel">College or above</td>
<td>463 (28.7%)</td>
<td>529 (26.8%)</td>
<td>483 (30.2%)</td>
<td>501 (26.3%)</td>
<td>946 (29.5%)</td>
<td>1030 (26.6%)</td>
</tr>
<tr class="odd">
<td class="rowlabel lastrow">Unknown</td>
<td class="lastrow">156 (9.7%)</td>
<td class="lastrow">188 (9.5%)</td>
<td class="lastrow">166 (10.4%)</td>
<td class="lastrow">212 (11.1%)</td>
<td class="lastrow">322 (10.0%)</td>
<td class="lastrow">400 (10.3%)</td>
</tr>
</tbody>
</table></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="gtsummary를-이용한-table-1" class="slide level2 smaller scrollable">
<h2>gtsummary를 이용한 table 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb94-2"><a href="#cb94-2"></a>KNHANES21_main <span class="sc">%&gt;%</span> <span class="fu">select</span>(age, Agegp, Sex, Education, Disease) <span class="sc">%&gt;%</span> </span>
<span id="cb94-3"><a href="#cb94-3"></a>  <span class="fu">tbl_summary</span>(<span class="at">by =</span> <span class="st">'Disease'</span>) <span class="sc">%&gt;%</span> <span class="fu">add_overall</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="psaveogcbf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#psaveogcbf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#psaveogcbf thead, #psaveogcbf tbody, #psaveogcbf tfoot, #psaveogcbf tr, #psaveogcbf td, #psaveogcbf th {
  border-style: none;
}

#psaveogcbf p {
  margin: 0;
  padding: 0;
}

#psaveogcbf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#psaveogcbf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#psaveogcbf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#psaveogcbf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#psaveogcbf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#psaveogcbf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#psaveogcbf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#psaveogcbf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#psaveogcbf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#psaveogcbf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#psaveogcbf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#psaveogcbf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#psaveogcbf .gt_spanner_row {
  border-bottom-style: hidden;
}

#psaveogcbf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#psaveogcbf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#psaveogcbf .gt_from_md > :first-child {
  margin-top: 0;
}

#psaveogcbf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#psaveogcbf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#psaveogcbf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#psaveogcbf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#psaveogcbf .gt_row_group_first td {
  border-top-width: 2px;
}

#psaveogcbf .gt_row_group_first th {
  border-top-width: 2px;
}

#psaveogcbf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#psaveogcbf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#psaveogcbf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#psaveogcbf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#psaveogcbf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#psaveogcbf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#psaveogcbf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#psaveogcbf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#psaveogcbf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#psaveogcbf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#psaveogcbf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#psaveogcbf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#psaveogcbf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#psaveogcbf .gt_left {
  text-align: left;
}

#psaveogcbf .gt_center {
  text-align: center;
}

#psaveogcbf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#psaveogcbf .gt_font_normal {
  font-weight: normal;
}

#psaveogcbf .gt_font_bold {
  font-weight: bold;
}

#psaveogcbf .gt_font_italic {
  font-style: italic;
}

#psaveogcbf .gt_super {
  font-size: 65%;
}

#psaveogcbf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#psaveogcbf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#psaveogcbf .gt_indent_1 {
  text-indent: 5px;
}

#psaveogcbf .gt_indent_2 {
  text-indent: 10px;
}

#psaveogcbf .gt_indent_3 {
  text-indent: 15px;
}

#psaveogcbf .gt_indent_4 {
  text-indent: 20px;
}

#psaveogcbf .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Overall</strong>, N = 7,090<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Overall</strong>, N = 7,090<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Case</strong>, N = 3,589<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Case</strong>, N = 3,589<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Control</strong>, N = 3,501<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Control</strong>, N = 3,501<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">만나이</td>
<td headers="stat_0" class="gt_row gt_center">49 (28, 65)</td>
<td headers="stat_1" class="gt_row gt_center">49 (28, 65)</td>
<td headers="stat_2" class="gt_row gt_center">50 (28, 65)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Age group</td>
<td headers="stat_0" class="gt_row gt_center"></td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;&lt;35</td>
<td headers="stat_0" class="gt_row gt_center">2,166 (31%)</td>
<td headers="stat_1" class="gt_row gt_center">1,099 (31%)</td>
<td headers="stat_2" class="gt_row gt_center">1,067 (30%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;35-44</td>
<td headers="stat_0" class="gt_row gt_center">866 (12%)</td>
<td headers="stat_1" class="gt_row gt_center">457 (13%)</td>
<td headers="stat_2" class="gt_row gt_center">409 (12%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-54</td>
<td headers="stat_0" class="gt_row gt_center">1,046 (15%)</td>
<td headers="stat_1" class="gt_row gt_center">513 (14%)</td>
<td headers="stat_2" class="gt_row gt_center">533 (15%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;55-64</td>
<td headers="stat_0" class="gt_row gt_center">1,174 (17%)</td>
<td headers="stat_1" class="gt_row gt_center">580 (16%)</td>
<td headers="stat_2" class="gt_row gt_center">594 (17%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 or above</td>
<td headers="stat_0" class="gt_row gt_center">1,838 (26%)</td>
<td headers="stat_1" class="gt_row gt_center">940 (26%)</td>
<td headers="stat_2" class="gt_row gt_center">898 (26%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Sex</td>
<td headers="stat_0" class="gt_row gt_center"></td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Men</td>
<td headers="stat_0" class="gt_row gt_center">3,211 (45%)</td>
<td headers="stat_1" class="gt_row gt_center">1,612 (45%)</td>
<td headers="stat_2" class="gt_row gt_center">1,599 (46%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Women</td>
<td headers="stat_0" class="gt_row gt_center">3,879 (55%)</td>
<td headers="stat_1" class="gt_row gt_center">1,977 (55%)</td>
<td headers="stat_2" class="gt_row gt_center">1,902 (54%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Education</td>
<td headers="stat_0" class="gt_row gt_center"></td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primary</td>
<td headers="stat_0" class="gt_row gt_center">1,900 (27%)</td>
<td headers="stat_1" class="gt_row gt_center">987 (28%)</td>
<td headers="stat_2" class="gt_row gt_center">913 (26%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Middle School</td>
<td headers="stat_0" class="gt_row gt_center">682 (9.6%)</td>
<td headers="stat_1" class="gt_row gt_center">340 (9.5%)</td>
<td headers="stat_2" class="gt_row gt_center">342 (9.8%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;High School</td>
<td headers="stat_0" class="gt_row gt_center">1,810 (26%)</td>
<td headers="stat_1" class="gt_row gt_center">926 (26%)</td>
<td headers="stat_2" class="gt_row gt_center">884 (25%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;College or above</td>
<td headers="stat_0" class="gt_row gt_center">1,976 (28%)</td>
<td headers="stat_1" class="gt_row gt_center">992 (28%)</td>
<td headers="stat_2" class="gt_row gt_center">984 (28%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_0" class="gt_row gt_center">722 (10%)</td>
<td headers="stat_1" class="gt_row gt_center">344 (9.6%)</td>
<td headers="stat_2" class="gt_row gt_center">378 (11%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Median (IQR); n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="gtsummary를-이용한-table-1-1" class="slide level2 smaller scrollable">
<h2>gtsummary를 이용한 table 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>KNHANES21_main <span class="sc">%&gt;%</span> <span class="fu">select</span>(age, Agegp, Sex, Education, Disease) <span class="sc">%&gt;%</span> </span>
<span id="cb95-2"><a href="#cb95-2"></a>  <span class="fu">tbl_summary</span>(<span class="at">by =</span> <span class="st">'Disease'</span>) <span class="sc">%&gt;%</span> <span class="fu">add_p</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="ndpvpgutnx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ndpvpgutnx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ndpvpgutnx thead, #ndpvpgutnx tbody, #ndpvpgutnx tfoot, #ndpvpgutnx tr, #ndpvpgutnx td, #ndpvpgutnx th {
  border-style: none;
}

#ndpvpgutnx p {
  margin: 0;
  padding: 0;
}

#ndpvpgutnx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ndpvpgutnx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ndpvpgutnx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ndpvpgutnx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ndpvpgutnx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ndpvpgutnx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndpvpgutnx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ndpvpgutnx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ndpvpgutnx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ndpvpgutnx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ndpvpgutnx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ndpvpgutnx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ndpvpgutnx .gt_spanner_row {
  border-bottom-style: hidden;
}

#ndpvpgutnx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ndpvpgutnx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ndpvpgutnx .gt_from_md > :first-child {
  margin-top: 0;
}

#ndpvpgutnx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ndpvpgutnx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ndpvpgutnx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ndpvpgutnx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ndpvpgutnx .gt_row_group_first td {
  border-top-width: 2px;
}

#ndpvpgutnx .gt_row_group_first th {
  border-top-width: 2px;
}

#ndpvpgutnx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndpvpgutnx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ndpvpgutnx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ndpvpgutnx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndpvpgutnx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndpvpgutnx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ndpvpgutnx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ndpvpgutnx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ndpvpgutnx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndpvpgutnx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ndpvpgutnx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndpvpgutnx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ndpvpgutnx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndpvpgutnx .gt_left {
  text-align: left;
}

#ndpvpgutnx .gt_center {
  text-align: center;
}

#ndpvpgutnx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ndpvpgutnx .gt_font_normal {
  font-weight: normal;
}

#ndpvpgutnx .gt_font_bold {
  font-weight: bold;
}

#ndpvpgutnx .gt_font_italic {
  font-style: italic;
}

#ndpvpgutnx .gt_super {
  font-size: 65%;
}

#ndpvpgutnx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ndpvpgutnx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ndpvpgutnx .gt_indent_1 {
  text-indent: 5px;
}

#ndpvpgutnx .gt_indent_2 {
  text-indent: 10px;
}

#ndpvpgutnx .gt_indent_3 {
  text-indent: 15px;
}

#ndpvpgutnx .gt_indent_4 {
  text-indent: 20px;
}

#ndpvpgutnx .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Case</strong>, N = 3,589<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Case</strong>, N = 3,589<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Control</strong>, N = 3,501<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Control</strong>, N = 3,501<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>2</sup></span>"><strong>p-value</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">만나이</td>
<td headers="stat_1" class="gt_row gt_center">49 (28, 65)</td>
<td headers="stat_2" class="gt_row gt_center">50 (28, 65)</td>
<td headers="p.value" class="gt_row gt_center">&gt;0.9</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Age group</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.5</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;&lt;35</td>
<td headers="stat_1" class="gt_row gt_center">1,099 (31%)</td>
<td headers="stat_2" class="gt_row gt_center">1,067 (30%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;35-44</td>
<td headers="stat_1" class="gt_row gt_center">457 (13%)</td>
<td headers="stat_2" class="gt_row gt_center">409 (12%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-54</td>
<td headers="stat_1" class="gt_row gt_center">513 (14%)</td>
<td headers="stat_2" class="gt_row gt_center">533 (15%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;55-64</td>
<td headers="stat_1" class="gt_row gt_center">580 (16%)</td>
<td headers="stat_2" class="gt_row gt_center">594 (17%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 or above</td>
<td headers="stat_1" class="gt_row gt_center">940 (26%)</td>
<td headers="stat_2" class="gt_row gt_center">898 (26%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">Sex</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.5</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Men</td>
<td headers="stat_1" class="gt_row gt_center">1,612 (45%)</td>
<td headers="stat_2" class="gt_row gt_center">1,599 (46%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Women</td>
<td headers="stat_1" class="gt_row gt_center">1,977 (55%)</td>
<td headers="stat_2" class="gt_row gt_center">1,902 (54%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">Education</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.4</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primary</td>
<td headers="stat_1" class="gt_row gt_center">987 (28%)</td>
<td headers="stat_2" class="gt_row gt_center">913 (26%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Middle School</td>
<td headers="stat_1" class="gt_row gt_center">340 (9.5%)</td>
<td headers="stat_2" class="gt_row gt_center">342 (9.8%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;High School</td>
<td headers="stat_1" class="gt_row gt_center">926 (26%)</td>
<td headers="stat_2" class="gt_row gt_center">884 (25%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;College or above</td>
<td headers="stat_1" class="gt_row gt_center">992 (28%)</td>
<td headers="stat_2" class="gt_row gt_center">984 (28%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_1" class="gt_row gt_center">344 (9.6%)</td>
<td headers="stat_2" class="gt_row gt_center">378 (11%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Median (IQR); n (%)</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span> Wilcoxon rank sum test; Pearson’s Chi-squared test</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="gtsummary를-이용한-table-1-2" class="slide level2 smaller scrollable">
<h2>gtsummary를 이용한 table 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a>KNHANES21_main <span class="sc">%&gt;%</span> </span>
<span id="cb96-2"><a href="#cb96-2"></a>  <span class="fu">select</span>(age, Agegp, Sex, Education, Disease) <span class="sc">%&gt;%</span></span>
<span id="cb96-3"><a href="#cb96-3"></a>  <span class="fu">tbl_strata</span>(</span>
<span id="cb96-4"><a href="#cb96-4"></a>    <span class="at">strata =</span> Disease,</span>
<span id="cb96-5"><a href="#cb96-5"></a>    <span class="at">.tbl_fun =</span> </span>
<span id="cb96-6"><a href="#cb96-6"></a>      <span class="sc">~</span> .x <span class="sc">%&gt;%</span> </span>
<span id="cb96-7"><a href="#cb96-7"></a>      <span class="fu">tbl_summary</span>( <span class="at">by =</span> Sex)</span>
<span id="cb96-8"><a href="#cb96-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="yhnvkqivwk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yhnvkqivwk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yhnvkqivwk thead, #yhnvkqivwk tbody, #yhnvkqivwk tfoot, #yhnvkqivwk tr, #yhnvkqivwk td, #yhnvkqivwk th {
  border-style: none;
}

#yhnvkqivwk p {
  margin: 0;
  padding: 0;
}

#yhnvkqivwk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yhnvkqivwk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yhnvkqivwk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yhnvkqivwk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yhnvkqivwk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yhnvkqivwk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yhnvkqivwk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yhnvkqivwk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yhnvkqivwk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yhnvkqivwk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yhnvkqivwk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yhnvkqivwk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yhnvkqivwk .gt_spanner_row {
  border-bottom-style: hidden;
}

#yhnvkqivwk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yhnvkqivwk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yhnvkqivwk .gt_from_md > :first-child {
  margin-top: 0;
}

#yhnvkqivwk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yhnvkqivwk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yhnvkqivwk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yhnvkqivwk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yhnvkqivwk .gt_row_group_first td {
  border-top-width: 2px;
}

#yhnvkqivwk .gt_row_group_first th {
  border-top-width: 2px;
}

#yhnvkqivwk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yhnvkqivwk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yhnvkqivwk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yhnvkqivwk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yhnvkqivwk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yhnvkqivwk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yhnvkqivwk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yhnvkqivwk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yhnvkqivwk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yhnvkqivwk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yhnvkqivwk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yhnvkqivwk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yhnvkqivwk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yhnvkqivwk .gt_left {
  text-align: left;
}

#yhnvkqivwk .gt_center {
  text-align: center;
}

#yhnvkqivwk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yhnvkqivwk .gt_font_normal {
  font-weight: normal;
}

#yhnvkqivwk .gt_font_bold {
  font-weight: bold;
}

#yhnvkqivwk .gt_font_italic {
  font-style: italic;
}

#yhnvkqivwk .gt_super {
  font-size: 65%;
}

#yhnvkqivwk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yhnvkqivwk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yhnvkqivwk .gt_indent_1 {
  text-indent: 5px;
}

#yhnvkqivwk .gt_indent_2 {
  text-indent: 10px;
}

#yhnvkqivwk .gt_indent_3 {
  text-indent: 15px;
}

#yhnvkqivwk .gt_indent_4 {
  text-indent: 20px;
}

#yhnvkqivwk .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="<strong>Case</strong>">
        <span class="gt_column_spanner"><strong>Case</strong></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="<strong>Control</strong>">
        <span class="gt_column_spanner"><strong>Control</strong></span>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Men</strong>, N = 1,612<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Men</strong>, N = 1,612<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Women</strong>, N = 1,977<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Women</strong>, N = 1,977<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Men</strong>, N = 1,599<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Men</strong>, N = 1,599<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Women</strong>, N = 1,902<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Women</strong>, N = 1,902<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">만나이</td>
<td headers="stat_1_1" class="gt_row gt_center">48 (26, 64)</td>
<td headers="stat_2_1" class="gt_row gt_center">50 (30, 66)</td>
<td headers="stat_1_2" class="gt_row gt_center">48 (26, 64)</td>
<td headers="stat_2_2" class="gt_row gt_center">52 (31, 66)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Age group</td>
<td headers="stat_1_1" class="gt_row gt_center"></td>
<td headers="stat_2_1" class="gt_row gt_center"></td>
<td headers="stat_1_2" class="gt_row gt_center"></td>
<td headers="stat_2_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;&lt;35</td>
<td headers="stat_1_1" class="gt_row gt_center">532 (33%)</td>
<td headers="stat_2_1" class="gt_row gt_center">567 (29%)</td>
<td headers="stat_1_2" class="gt_row gt_center">537 (34%)</td>
<td headers="stat_2_2" class="gt_row gt_center">530 (28%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;35-44</td>
<td headers="stat_1_1" class="gt_row gt_center">201 (12%)</td>
<td headers="stat_2_1" class="gt_row gt_center">256 (13%)</td>
<td headers="stat_1_2" class="gt_row gt_center">178 (11%)</td>
<td headers="stat_2_2" class="gt_row gt_center">231 (12%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-54</td>
<td headers="stat_1_1" class="gt_row gt_center">232 (14%)</td>
<td headers="stat_2_1" class="gt_row gt_center">281 (14%)</td>
<td headers="stat_1_2" class="gt_row gt_center">243 (15%)</td>
<td headers="stat_2_2" class="gt_row gt_center">290 (15%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;55-64</td>
<td headers="stat_1_1" class="gt_row gt_center">244 (15%)</td>
<td headers="stat_2_1" class="gt_row gt_center">336 (17%)</td>
<td headers="stat_1_2" class="gt_row gt_center">258 (16%)</td>
<td headers="stat_2_2" class="gt_row gt_center">336 (18%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 or above</td>
<td headers="stat_1_1" class="gt_row gt_center">403 (25%)</td>
<td headers="stat_2_1" class="gt_row gt_center">537 (27%)</td>
<td headers="stat_1_2" class="gt_row gt_center">383 (24%)</td>
<td headers="stat_2_2" class="gt_row gt_center">515 (27%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Education</td>
<td headers="stat_1_1" class="gt_row gt_center"></td>
<td headers="stat_2_1" class="gt_row gt_center"></td>
<td headers="stat_1_2" class="gt_row gt_center"></td>
<td headers="stat_2_2" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primary</td>
<td headers="stat_1_1" class="gt_row gt_center">413 (26%)</td>
<td headers="stat_2_1" class="gt_row gt_center">574 (29%)</td>
<td headers="stat_1_2" class="gt_row gt_center">368 (23%)</td>
<td headers="stat_2_2" class="gt_row gt_center">545 (29%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Middle School</td>
<td headers="stat_1_1" class="gt_row gt_center">146 (9.1%)</td>
<td headers="stat_2_1" class="gt_row gt_center">194 (9.8%)</td>
<td headers="stat_1_2" class="gt_row gt_center">153 (9.6%)</td>
<td headers="stat_2_2" class="gt_row gt_center">189 (9.9%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;High School</td>
<td headers="stat_1_1" class="gt_row gt_center">434 (27%)</td>
<td headers="stat_2_1" class="gt_row gt_center">492 (25%)</td>
<td headers="stat_1_2" class="gt_row gt_center">429 (27%)</td>
<td headers="stat_2_2" class="gt_row gt_center">455 (24%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;College or above</td>
<td headers="stat_1_1" class="gt_row gt_center">463 (29%)</td>
<td headers="stat_2_1" class="gt_row gt_center">529 (27%)</td>
<td headers="stat_1_2" class="gt_row gt_center">483 (30%)</td>
<td headers="stat_2_2" class="gt_row gt_center">501 (26%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_1_1" class="gt_row gt_center">156 (9.7%)</td>
<td headers="stat_2_1" class="gt_row gt_center">188 (9.5%)</td>
<td headers="stat_1_2" class="gt_row gt_center">166 (10%)</td>
<td headers="stat_2_2" class="gt_row gt_center">212 (11%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="5"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Median (IQR); n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section></section>
<section>
<section id="추론-통계-개념" class="title-slide slide level1 center">
<h1>추론 통계 개념</h1>
<ul>
<li>모집단</li>
<li>가설 검정</li>
<li>귀무가설, 대립가설</li>
<li>p-value</li>
</ul>
</section>
<section id="추론-통계" class="slide level2">
<h2>추론 통계</h2>
<ul>
<li>내가 가진 표본을 통해서 모집단의 진실을 추론하는 통계
<ul>
<li>신의 진실<sup>1</sup>을 엿보는 것</li>
</ul></li>
<li>모집단
<ul>
<li>내 연구의 관심 집단</li>
<li>표본을 이용해 일반화 + potentially infinite</li>
</ul></li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn2"><p>임현우 교수님 말씀</p></li></ol></aside></section>
<section id="모집단의-진실" class="slide level2">
<h2>모집단의 진실</h2>
<ul>
<li>모집단의 진실이란?
<ul>
<li>평균, 분산, 분포</li>
<li>X에 따른 Y의 증가량(𝛃)</li>
</ul></li>
<li>통계적 추론을 통해 모집단의 진실에 다가가는 법
<ul>
<li>점추정(point estimate)</li>
<li>구간추정(interval estimate)</li>
<li><strong>가설 검정</strong></li>
<li>클러스터링, 분류 등</li>
</ul></li>
</ul>
</section>
<section id="모집단에-대한-가정" class="slide level2 smaller">
<h2>모집단에 대한 가정</h2>
<ul>
<li>모집단이 정규 분포를 따르면 모수 검정할 수 있다
<ul>
<li>가정 체크해야함</li>
<li>내 표본 + 선행연구</li>
</ul></li>
<li>모수 vs 비모수
<ul>
<li>모수 :
<ul>
<li>가정을 체크하려면 표본(&gt; 20)</li>
<li>통계 검정력이 더 큼.</li>
</ul></li>
<li>비모수
<ul>
<li>정규분포 아닐 때</li>
<li>표본 너무 적을 때
<ul>
<li>(추천) 표본을 더 모아라</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<div class="footer">
<p><a href="https://www.healthknowledge.org.uk/public-health-textbook/research-methods/1b-statistical-methods/parametric-nonparametric-tests">Read more here</a></p>
</div>
</section>
<section id="가설-귀무가설-대립가설" class="slide level2">
<h2>가설 : 귀무가설, 대립가설</h2>
<ul>
<li>가설 : 모집단에 관한 통계적인 추정
<ul>
<li>귀무가설 = 영가설 = H0 = null hypothesis
<ul>
<li>예) 개발한 신약은 기존 치료법과 효과 차이가 <strong>없다</strong></li>
</ul></li>
<li>대립가설 = 대안가설 = H1 = Alternative hypothesis
<ul>
<li>예) 개발한 신약은 기존 치료법과 효과 차이가 <strong>있다</strong></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="가설-검정" class="slide level2">
<h2>가설 검정</h2>
<ul>
<li>모집단에 대한 가정(정규 분포 등)과 귀무가설이 참이라는 <em>가정</em>하에</li>
<li><strong>적절하게 선택한 통계 테스트</strong>를 통해
<ul>
<li>내 표본의 통계량(test statistics)을 계산</li>
<li>통계량을 가지고 <strong>p-value</strong>를 계산</li>
</ul></li>
<li>채점기준(보통 5%)에 따라 p-value 값을 평가
<ul>
<li><strong>귀무가설을 기각 또는 기각 실패</strong></li>
</ul></li>
</ul>
</section>
<section id="p-value" class="slide level2 smaller">
<h2>p-value</h2>
<div class="columns">
<div class="column">
<ul>
<li>내 표본의 통계량(test statistics)
<ul>
<li>표본의 개수에 따라 자유도가 정해짐</li>
</ul></li>
<li><strong>p-value</strong>
<ul>
<li>귀무가설이 참이라는 가정 하에 내 표본의 통계량보다 <strong>더 극단적인 값이 나올 확률</strong></li>
</ul></li>
<li><strong>p-value 해석</strong>
<ul>
<li>10% 나왔다
<ul>
<li>귀무가설은 틀린 거야</li>
<li>귀무가설이 맞는데 우리 표본이 특이한 10%였을 뿐이야</li>
</ul></li>
<li>우리 업계 표준은 5%</li>
</ul></li>
</ul>
</div><div class="column">
<p><img data-src="images/t_distribution.webp"></p>
</div>
</div>
<div class="footer">
<p>Read more on <a href="https://www.jmp.com/en_us/statistics-knowledge-portal/t-test/t-distribution.html#:~:text=The%20t%2Ddistribution%20is%20defined,similar%20to%20a%20normal%20distribution.">t distribution</a></p>
</div>
</section>
<section id="p-value에-대한-오해" class="slide level2 smaller scrollable">
<h2>p-value에 대한 오해</h2>
<ul>
<li>낮을 수록 좋아?
<ul>
<li><p>채점 기준보다 낮으면 귀무가설을 기각할 수 있을 뿐.</p></li>
<li><p>귀무가설이 무엇인지 확인해야함.</p>
<ul>
<li>shapiro test : 정규분포다! 가 귀무가설임.</li>
<li>table 1의 p-value : 두 집단이 차이가 없다가 귀무가설</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>KNHANES21_main <span class="sc">%&gt;%</span> <span class="fu">select</span>(age, Agegp, Sex, Education, Disease) <span class="sc">%&gt;%</span> </span>
<span id="cb97-2"><a href="#cb97-2"></a>  <span class="fu">tbl_summary</span>(<span class="at">by =</span> <span class="st">'Disease'</span>) <span class="sc">%&gt;%</span> <span class="fu">add_p</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="hokzvoapbw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hokzvoapbw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hokzvoapbw thead, #hokzvoapbw tbody, #hokzvoapbw tfoot, #hokzvoapbw tr, #hokzvoapbw td, #hokzvoapbw th {
  border-style: none;
}

#hokzvoapbw p {
  margin: 0;
  padding: 0;
}

#hokzvoapbw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hokzvoapbw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hokzvoapbw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hokzvoapbw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hokzvoapbw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hokzvoapbw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hokzvoapbw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hokzvoapbw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hokzvoapbw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hokzvoapbw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hokzvoapbw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hokzvoapbw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hokzvoapbw .gt_spanner_row {
  border-bottom-style: hidden;
}

#hokzvoapbw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hokzvoapbw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hokzvoapbw .gt_from_md > :first-child {
  margin-top: 0;
}

#hokzvoapbw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hokzvoapbw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hokzvoapbw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hokzvoapbw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hokzvoapbw .gt_row_group_first td {
  border-top-width: 2px;
}

#hokzvoapbw .gt_row_group_first th {
  border-top-width: 2px;
}

#hokzvoapbw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hokzvoapbw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hokzvoapbw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hokzvoapbw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hokzvoapbw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hokzvoapbw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hokzvoapbw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hokzvoapbw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hokzvoapbw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hokzvoapbw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hokzvoapbw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hokzvoapbw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hokzvoapbw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hokzvoapbw .gt_left {
  text-align: left;
}

#hokzvoapbw .gt_center {
  text-align: center;
}

#hokzvoapbw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hokzvoapbw .gt_font_normal {
  font-weight: normal;
}

#hokzvoapbw .gt_font_bold {
  font-weight: bold;
}

#hokzvoapbw .gt_font_italic {
  font-style: italic;
}

#hokzvoapbw .gt_super {
  font-size: 65%;
}

#hokzvoapbw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hokzvoapbw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hokzvoapbw .gt_indent_1 {
  text-indent: 5px;
}

#hokzvoapbw .gt_indent_2 {
  text-indent: 10px;
}

#hokzvoapbw .gt_indent_3 {
  text-indent: 15px;
}

#hokzvoapbw .gt_indent_4 {
  text-indent: 20px;
}

#hokzvoapbw .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>

    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Case</strong>, N = 3,589<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Case</strong>, N = 3,589<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Control</strong>, N = 3,501<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>Control</strong>, N = 3,501<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>2</sup></span>"><strong>p-value</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">만나이</td>
<td headers="stat_1" class="gt_row gt_center">49 (28, 65)</td>
<td headers="stat_2" class="gt_row gt_center">50 (28, 65)</td>
<td headers="p.value" class="gt_row gt_center">&gt;0.9</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Age group</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.5</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;&lt;35</td>
<td headers="stat_1" class="gt_row gt_center">1,099 (31%)</td>
<td headers="stat_2" class="gt_row gt_center">1,067 (30%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;35-44</td>
<td headers="stat_1" class="gt_row gt_center">457 (13%)</td>
<td headers="stat_2" class="gt_row gt_center">409 (12%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;45-54</td>
<td headers="stat_1" class="gt_row gt_center">513 (14%)</td>
<td headers="stat_2" class="gt_row gt_center">533 (15%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;55-64</td>
<td headers="stat_1" class="gt_row gt_center">580 (16%)</td>
<td headers="stat_2" class="gt_row gt_center">594 (17%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;65 or above</td>
<td headers="stat_1" class="gt_row gt_center">940 (26%)</td>
<td headers="stat_2" class="gt_row gt_center">898 (26%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">Sex</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.5</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Men</td>
<td headers="stat_1" class="gt_row gt_center">1,612 (45%)</td>
<td headers="stat_2" class="gt_row gt_center">1,599 (46%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Women</td>
<td headers="stat_1" class="gt_row gt_center">1,977 (55%)</td>
<td headers="stat_2" class="gt_row gt_center">1,902 (54%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">Education</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.4</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Primary</td>
<td headers="stat_1" class="gt_row gt_center">987 (28%)</td>
<td headers="stat_2" class="gt_row gt_center">913 (26%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Middle School</td>
<td headers="stat_1" class="gt_row gt_center">340 (9.5%)</td>
<td headers="stat_2" class="gt_row gt_center">342 (9.8%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;High School</td>
<td headers="stat_1" class="gt_row gt_center">926 (26%)</td>
<td headers="stat_2" class="gt_row gt_center">884 (25%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;College or above</td>
<td headers="stat_1" class="gt_row gt_center">992 (28%)</td>
<td headers="stat_2" class="gt_row gt_center">984 (28%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_1" class="gt_row gt_center">344 (9.6%)</td>
<td headers="stat_2" class="gt_row gt_center">378 (11%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
  </tbody>

  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Median (IQR); n (%)</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>2</sup></span> Wilcoxon rank sum test; Pearson’s Chi-squared test</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div></li>
</ul></li>
</ul>
</section>
<section id="p-value에-대한-오해-ox-퀴즈" class="slide level2">
<h2>p-value에 대한 오해 OX 퀴즈</h2>
<ul>
<li>p-value는 귀무가설이 참일 확률이다( )</li>
<li>p-value는 대립가설이 거짓일 확률이다( )</li>
<li>p-value 채점기준 5%는 업계 합의사항일 뿐이다( )</li>
<li>p-value가 작을수록 내 연구 샘플의 effect size는 커진다( )</li>
</ul>
<div class="footer">
<p>Read more on <a href="https://en.wikipedia.org/wiki/Misuse_of_p-values">Misuse of p-value</a></p>
</div>
</section>
<section id="p-value-실습-t-test" class="slide level2 smaller">
<h2>p-value 실습 : t-test</h2>
<ul>
<li><p>연구 : 모집단은 평균 0, 분산 1이지만, 모른다고 치고 샘플을 10개 뽑아서 평균 추정하는 연구</p></li>
<li><p>귀무가설 : 모집단 평균은 0이다.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="do">## 평균 0 분산 1인 모집단에서 표본 10개 추출</span></span>
<span id="cb98-2"><a href="#cb98-2"></a>my_sample <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb98-3"><a href="#cb98-3"></a>my_sample</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1.23780060 -0.66915742 -1.34690201 -0.01622915 -1.06095767  0.85997899
 [7] -1.02009402  0.20865233  0.36622919 -0.91453133</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a><span class="fu">t.test</span>(my_sample) <span class="co"># t.test(my_sample) %&gt;% str 를 해보시면 좋습니다.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  my_sample
t = -0.83505, df = 9, p-value = 0.4253
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 -0.8735511  0.4025090
sample estimates:
mean of x 
-0.235521 </code></pre>
</div>
</div>
</section>
<section id="p-value-실습-t-test-100회" class="slide level2 smaller scrollable">
<h2>p-value 실습 : t-test 100회</h2>
<ul>
<li>앞 슬라이드 연구를 100회 반복</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb102" data-code-line-numbers="1-2|4|5-8|9-15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="co"># random number 발생시킬 때는 재현성을 위해 seed 지정 해줌</span></span>
<span id="cb102-2"><a href="#cb102-2"></a><span class="fu">set.seed</span>(<span class="dv">202308</span>)</span>
<span id="cb102-3"><a href="#cb102-3"></a></span>
<span id="cb102-4"><a href="#cb102-4"></a>ID <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>,<span class="dv">10</span>) <span class="co"># 표본을 10개 씩 추출하는 연구를 100번 수행</span></span>
<span id="cb102-5"><a href="#cb102-5"></a>test_p <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb102-6"><a href="#cb102-6"></a>  <span class="at">ID =</span> ID,  </span>
<span id="cb102-7"><a href="#cb102-7"></a>  <span class="at">value =</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(ID))  <span class="co">#모집단은 평균 0 분산 1인 정규분포를 따름</span></span>
<span id="cb102-8"><a href="#cb102-8"></a>)</span>
<span id="cb102-9"><a href="#cb102-9"></a>test_p <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(ID) <span class="sc">%&gt;%</span> </span>
<span id="cb102-10"><a href="#cb102-10"></a>  <span class="fu">summarise</span>(<span class="at">p_value =</span> <span class="fu">t.test</span>(value)<span class="sc">$</span>p.value,</span>
<span id="cb102-11"><a href="#cb102-11"></a>            <span class="at">mean_estimate =</span> <span class="fu">t.test</span>(value)<span class="sc">$</span>estimate,</span>
<span id="cb102-12"><a href="#cb102-12"></a>            <span class="at">CI_lower =</span> <span class="fu">t.test</span>(value)<span class="sc">$</span>conf.int[<span class="dv">1</span>],</span>
<span id="cb102-13"><a href="#cb102-13"></a>            <span class="at">CI_upper =</span> <span class="fu">t.test</span>(value)<span class="sc">$</span>conf.int[<span class="dv">2</span>],</span>
<span id="cb102-14"><a href="#cb102-14"></a>            <span class="at">statistics =</span> <span class="fu">t.test</span>(value)<span class="sc">$</span>statistic) <span class="sc">%&gt;%</span> </span>
<span id="cb102-15"><a href="#cb102-15"></a>  <span class="fu">arrange</span>(p_value) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
     ID p_value mean_estimate CI_lower CI_upper statistics
  &lt;int&gt;   &lt;dbl&gt;         &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
1    74 0.00156        -0.702  -1.06    -0.347       -4.47
2    56 0.0121         -0.850  -1.46    -0.235       -3.13
3    47 0.0433          0.834   0.0313   1.64         2.35
4    80 0.0559          0.503  -0.0156   1.02         2.19
5    21 0.0822          0.517  -0.0810   1.11         1.96
6    66 0.0831         -0.495  -1.07     0.0796      -1.95</code></pre>
</div>
</div>
</section>
<section id="추론-통계-과정" class="slide level2 smaller scrollable">
<h2>추론 통계 과정</h2>
<ul>
<li><strong>데이터</strong>와 <strong>분석할 가설</strong>에 대해 고민</li>
<li>변수 종류(연속/명목)에 따른 <strong>적절한 통계 테스트</strong> 찾기</li>
<li>통계 테스트 돌릴 수 있는 지 <strong>가정 체크</strong></li>
<li>R로 통계 테스트</li>
<li>p-value를 채점 기준(0.05)과 비교해 <strong>해석</strong></li>
</ul>
</section>
<section id="적절한-통계-테스트-선택" class="slide level2 smaller scrollable">
<h2>적절한 통계 테스트 선택</h2>
<ul>
<li>X = 독립변수 = 원인변수 = 설명변수 = 예측변수</li>
<li>Y = 종속변수 = 결과변수 = 반응변수</li>
<li>Y 가 연속형
<ul>
<li>X에 따라 Y값의 평균 혹은 기울기를 추정하고 유의한 차이가 있는지 검정</li>
<li>T-test : X가 이분형(남자/여자)</li>
<li>ANOVA : X가 범주형(저체중/정상/비만)</li>
<li>선형회귀분석 : X 연속형</li>
</ul></li>
<li>Y 가 범주형
<ul>
<li>X에 따라 Y의 빈도, OR, RR 추정하고 유의한 차이가 있는지 검정</li>
<li>카이제곱 : X가 범주형</li>
<li>로지스틱 회귀 분석 : X 관계 없이</li>
</ul></li>
</ul>
</section>
<section id="적절한-통계-테스트-선택---표" class="slide level2 smaller scrollable">
<h2>적절한 통계 테스트 선택 - 표</h2>
<table style="width:98%;">
<colgroup>
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 27%">
<col style="width: 26%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th></th>
<th>X 변수</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td>범주형</td>
<td>연속형</td>
<td>X 변수 관계없이</td>
</tr>
<tr class="even">
<td><strong>Y 변수</strong></td>
<td>범주형</td>
<td>카이제곱 검정</td>
<td></td>
<td><strong>로지스틱 회귀분석</strong><sup>1</sup></td>
</tr>
<tr class="odd">
<td></td>
<td>연속형</td>
<td><p>(X가 이분형) independent t-test</p>
<p>(X가 3개 이상) ANOVA</p></td>
<td>선형회귀분석</td>
<td><strong>일반화 선형 모델</strong></td>
</tr>
<tr class="even">
<td></td>
<td>용도</td>
<td>table 1에서 집단 특징 정리</td>
<td>변수 보정해서 표2,3 main table</td>
<td></td>
</tr>
</tbody>
</table>
<aside><ol class="aside-footnotes"><li id="fn3"><p>로지스틱 회귀 분석도 일반화 선형 모델에 포함되지만, 초보자용으로 정리.</p></li></ol></aside></section></section>
<section>
<section id="추론-통계---y가-연속형" class="title-slide slide level1 center">
<h1>추론 통계 - Y가 연속형</h1>
<ul>
<li>independent t-test</li>
<li>ANOVA</li>
<li>선형회귀분석</li>
<li>일반화 선형 모델</li>
</ul>
</section>
<section id="independent-t-test" class="slide level2">
<h2>independent t-test</h2>
<ul>
<li><p>X(이분형 변수, 예 - 남녀)에 따라 Y(연속형 변수, 예 - BMI)에 차이가 있는지 테스트 해줌.</p></li>
<li><p>가정</p>
<ul>
<li>X 독립성<sup>1</sup><br>
</li>
<li>Y의 정규성<sup>2</sup></li>
<li>등분산성 : Y의 분산은 각 군마다 동일<sup>3</sup></li>
</ul></li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn4"><p>독립이 아닌 경우 예: 비만 치료 전 후로 BMI를 측정했다</p></li><li id="fn5"><p>It is widely but incorrectly believed that the t-test and linear regression are valid only for Normally distributed outcomes. See <a href="https://www.annualreviews.org/doi/10.1146/annurev.publhealth.23.100901.140546">here</a></p></li><li id="fn6"><p>분산이 다른 경우 p-value에 패널티를 줘서 계산하는 방법이 있음</p></li></ol></aside></section>
<section id="independent-t-test---실습" class="slide level2 smaller scrollable">
<h2>independent t-test - 실습</h2>
<ul>
<li>국민 건강영양조사 자료를 통해 남녀 사이의 BMI 차이가 있는지 확인
<ul>
<li>X = 남/녀 + Y = BMI</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a>KNHANES21_raw <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'KNHANES21_raw.RDS'</span>))</span>
<span id="cb104-2"><a href="#cb104-2"></a></span>
<span id="cb104-3"><a href="#cb104-3"></a>Men_BMI <span class="ot">&lt;-</span> KNHANES21_raw <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="dv">1</span>, <span class="sc">!</span><span class="fu">is.na</span>(HE_BMI)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(HE_BMI)</span>
<span id="cb104-4"><a href="#cb104-4"></a>Women_BMI <span class="ot">&lt;-</span> KNHANES21_raw <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="dv">2</span>, <span class="sc">!</span><span class="fu">is.na</span>(HE_BMI)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(HE_BMI)</span>
<span id="cb104-5"><a href="#cb104-5"></a><span class="co"># 정규성 확인 </span></span>
<span id="cb104-6"><a href="#cb104-6"></a><span class="fu">shapiro.test</span>(Men_BMI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  Men_BMI
W = 0.98494, p-value &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="fu">shapiro.test</span>(Women_BMI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  Women_BMI
W = 0.98611, p-value &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a><span class="co"># 등분산성 확인</span></span>
<span id="cb108-2"><a href="#cb108-2"></a><span class="fu">var.test</span>(Men_BMI, Women_BMI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    F test to compare two variances

data:  Men_BMI and Women_BMI
F = 0.99627, num df = 2988, denom df = 3614, p-value = 0.9159
alternative hypothesis: true ratio of variances is not equal to 1
95 percent confidence interval:
 0.9303743 1.0670812
sample estimates:
ratio of variances 
         0.9962734 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="co"># 등분산성 체크하고 t-test 수행</span></span>
<span id="cb110-2"><a href="#cb110-2"></a><span class="fu">t.test</span>(Men_BMI, Women_BMI, <span class="at">var.equal =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Two Sample t-test

data:  Men_BMI and Women_BMI
t = 8.4703, df = 6602, p-value &lt; 2.2e-16
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 0.6670253 1.0687398
sample estimates:
mean of x mean of y 
 23.81342  22.94554 </code></pre>
</div>
</div>
</section>
<section id="wilcoxon-rank-sum-test" class="slide level2">
<h2>Wilcoxon rank sum test</h2>
<ul>
<li>independent t-test 비모수 버전</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a><span class="fu">wilcox.test</span>(Men_BMI, Women_BMI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wilcoxon rank sum test with continuity correction

data:  Men_BMI and Women_BMI
W = 6194171, p-value &lt; 2.2e-16
alternative hypothesis: true location shift is not equal to 0</code></pre>
</div>
</div>
</section>
<section id="잠깐-우리-연구의-문제점은" class="slide level2">
<h2>잠깐, 우리 연구의 문제점은?</h2>
<div>
<ul>
<li class="fragment"><p>연구 : 국민 건강영양조사 자료를 통해 남녀 사이의 BMI 차이가 있는지 확인</p></li>
<li class="fragment"><p>모집단은?</p></li>
<li class="fragment"><p>층화 샘플링 : 국건영을 비롯해 많은 조사에서 이용.</p>
<ul>
<li class="fragment">표본 수가 적은 strata에서 정확도를 개선하기 위해서 oversampling을 함</li>
</ul></li>
<li class="fragment"><p>가중치는 이종인 교수님과 함께..</p></li>
</ul>
</div>
<div class="footer">
<p>Read more <a href="https://blog.naver.com/stat833/221747335785">here</a></p>
</div>
</section>
<section id="anova" class="slide level2">
<h2>ANOVA</h2>
<ul>
<li><p>X(범주형 변수, 예 - 소득수준 )에 따라 Y(연속형 변수, 예 - BMI)에 차이가 있는지 테스트 해줌.</p></li>
<li><p>가정</p>
<ul>
<li>X 독립성<sup>1</sup><br>
</li>
<li>Y의 정규성<sup>2</sup></li>
<li>등분산성 : Y의 분산은 각 군마다 동일<sup>3</sup></li>
</ul></li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn7"><p>독립이 아닌 경우 예: 비만 치료 전 후로 BMI를 측정했다</p></li><li id="fn8"><p>It is widely but incorrectly believed that the t-test and linear regression are valid only for Normally distributed outcomes. See <a href="https://www.annualreviews.org/doi/10.1146/annurev.publhealth.23.100901.140546">here</a></p></li><li id="fn9"><p>분산이 다른 경우 p-value에 패널티를 줘서 계산하는 방법이 있음</p></li></ol></aside></section>
<section id="anova---실습" class="slide level2">
<h2>ANOVA - 실습</h2>
<ul>
<li>국민 건강영양조사 자료를 통해 소득수준 4단계에 따른 BMI 차이가 있는지 확인
<ul>
<li>X = 최하/중하/중상/최상 + Y = BMI</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb114" data-code-line-numbers="1|2-4|6-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>KNHANES21_temp <span class="ot">&lt;-</span> KNHANES21_raw</span>
<span id="cb114-2"><a href="#cb114-2"></a>KNHANES21_temp<span class="sc">$</span>ho_incm <span class="ot">&lt;-</span> </span>
<span id="cb114-3"><a href="#cb114-3"></a>  <span class="fu">factor</span>(KNHANES21_temp<span class="sc">$</span>ho_incm, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1'</span>,<span class="st">'2'</span>,<span class="st">'3'</span>,<span class="st">'4'</span>),</span>
<span id="cb114-4"><a href="#cb114-4"></a>         <span class="at">labels=</span><span class="fu">c</span>(<span class="st">'lowest'</span>,<span class="st">'mid-low'</span>,<span class="st">'mid-high'</span>,<span class="st">'high'</span>))</span>
<span id="cb114-5"><a href="#cb114-5"></a></span>
<span id="cb114-6"><a href="#cb114-6"></a>KNHANES21_temp <span class="ot">&lt;-</span> KNHANES21_temp <span class="sc">%&gt;%</span></span>
<span id="cb114-7"><a href="#cb114-7"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ho_incm),<span class="sc">!</span><span class="fu">is.na</span>(HE_BMI))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="anova---실습-1" class="slide level2 smaller scrollable">
<h2>ANOVA - 실습</h2>
<ul>
<li>국민 건강영양조사 자료를 통해 소득수준 4단계에 따른 BMI 차이가 있는지 확인
<ul>
<li>X = 최하/중하/중상/최상 + Y = BMI</li>
</ul></li>
</ul>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">표</a></li><li><a href="#tabset-3-2">box plot</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a><span class="co"># 소득수준 별 BMI 평균, 표준편차</span></span>
<span id="cb115-2"><a href="#cb115-2"></a>KNHANES21_temp <span class="sc">%&gt;%</span> </span>
<span id="cb115-3"><a href="#cb115-3"></a>  <span class="fu">group_by</span>(ho_incm) <span class="sc">%&gt;%</span></span>
<span id="cb115-4"><a href="#cb115-4"></a>  <span class="fu">summarise</span>(<span class="at">mean=</span><span class="fu">mean</span>(HE_BMI), <span class="at">sd=</span><span class="fu">sd</span>(HE_BMI)) <span class="sc">%&gt;%</span></span>
<span id="cb115-5"><a href="#cb115-5"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">ho_incm</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">lowest</td>
<td style="text-align: right;">23.91124</td>
<td style="text-align: right;">3.941185</td>
</tr>
<tr class="even">
<td style="text-align: left;">mid-low</td>
<td style="text-align: right;">23.39792</td>
<td style="text-align: right;">4.291055</td>
</tr>
<tr class="odd">
<td style="text-align: left;">mid-high</td>
<td style="text-align: right;">23.07888</td>
<td style="text-align: right;">4.287079</td>
</tr>
<tr class="even">
<td style="text-align: left;">high</td>
<td style="text-align: right;">23.19078</td>
<td style="text-align: right;">4.051623</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a>KNHANES21_temp <span class="sc">%&gt;%</span> </span>
<span id="cb116-2"><a href="#cb116-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ho_incm, <span class="at">y=</span>HE_BMI)) <span class="sc">+</span> </span>
<span id="cb116-3"><a href="#cb116-3"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb116-4"><a href="#cb116-4"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-107-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="anova---실습---정규성" class="slide level2 smaller scrollable">
<h2>ANOVA - 실습 - 정규성</h2>
<ul>
<li>정규성 확인</li>
</ul>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">shapiro test</a></li><li><a href="#tabset-4-2">qq plot</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a>KNHANES21_temp <span class="sc">%&gt;%</span> </span>
<span id="cb117-2"><a href="#cb117-2"></a>  <span class="fu">group_by</span>(ho_incm) <span class="sc">%&gt;%</span> </span>
<span id="cb117-3"><a href="#cb117-3"></a>  <span class="fu">summarise</span>(<span class="at">p_value =</span> <span class="fu">shapiro.test</span>(HE_BMI)<span class="sc">$</span>p.value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  ho_incm   p_value
  &lt;fct&gt;       &lt;dbl&gt;
1 lowest   1.17e- 9
2 mid-low  1.77e- 7
3 mid-high 5.17e-12
4 high     4.41e-13</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a>KNHANES21_temp <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> HE_BMI, <span class="at">color=</span>ho_incm)) <span class="sc">+</span></span>
<span id="cb119-2"><a href="#cb119-2"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb119-3"><a href="#cb119-3"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(ho_incm)) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-109-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="anova---실습---등분산성" class="slide level2">
<h2>ANOVA - 실습 - 등분산성</h2>
<ul>
<li>등분산성 확인</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1"></a><span class="do">## 귀무가설 : 분산이 그룹별로 다 같다.</span></span>
<span id="cb120-2"><a href="#cb120-2"></a><span class="fu">bartlett.test</span>(HE_BMI <span class="sc">~</span> ho_incm,<span class="at">data=</span>KNHANES21_temp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Bartlett test of homogeneity of variances

data:  HE_BMI by ho_incm
Bartlett's K-squared = 15.846, df = 3, p-value = 0.001219</code></pre>
</div>
</div>
</section>
<section id="anova---실습-2" class="slide level2">
<h2>ANOVA - 실습</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1"></a><span class="do">## 귀무가설 : 평균이 그룹별로 다 같다.</span></span>
<span id="cb122-2"><a href="#cb122-2"></a>fit <span class="ot">&lt;-</span> <span class="fu">aov</span>(HE_BMI <span class="sc">~</span> ho_incm, <span class="at">data=</span>KNHANES21_temp)</span>
<span id="cb122-3"><a href="#cb122-3"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Df Sum Sq Mean Sq F value   Pr(&gt;F)    
ho_incm        3    559   186.4   10.78 4.64e-07 ***
Residuals   6567 113628    17.3                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="kruskall-wallis-test" class="slide level2">
<h2>Kruskall-Wallis test</h2>
<ul>
<li>Kruskall-Wallis test
<ul>
<li>ANOVA 비모수 버전</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a><span class="do">## 귀무가설 : 평균이 그룹별로 다 같다.</span></span>
<span id="cb124-2"><a href="#cb124-2"></a><span class="fu">kruskal.test</span>(HE_BMI <span class="sc">~</span> ho_incm,<span class="at">data=</span>KNHANES21_temp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Kruskal-Wallis rank sum test

data:  HE_BMI by ho_incm
Kruskal-Wallis chi-squared = 30.408, df = 3, p-value = 1.133e-06</code></pre>
</div>
</div>
</section>
<section id="anova---post-hoc-analysis" class="slide level2 smaller">
<h2>ANOVA - post hoc analysis</h2>
<div>
<ul>
<li class="fragment">귀무가설을 기각한 다음은..?</li>
<li class="fragment">귀무가설 : 평균이 그룹별로 다 같다.</li>
<li class="fragment">대립가설 : 평균이 그룹별로 다 같은 건 아니다.
<ul>
<li class="fragment">최하 BMI 랑 중하 BMI가 다르다</li>
<li class="fragment">또는, 최하 BMI 랑 중상 BMI가 다르다</li>
<li class="fragment">또는, 최하 BMI 랑 최상 BMI가 다르다.</li>
<li class="fragment">또는, 중하 BMI 랑 중상 BMI가 다르다.</li>
<li class="fragment">또는, 중하 BMI 랑 최상 BMI가 다르다.</li>
<li class="fragment">또는, 중상 BMI 랑 최상 BMI가 다르다.</li>
</ul></li>
<li class="fragment">어떤 그룹끼리 평균이 유의하게 다른지는 <strong>추가분석(Post hoc analysis)</strong> 해야 알 수 있다.</li>
</ul>
</div>
</section>
<section id="anova---post-hoc-analysis-1" class="slide level2 smaller">
<h2>ANOVA - post hoc analysis</h2>
<ul>
<li><p>애초에 t-test를 여러 번 하면 안 되나?</p></li>
<li><p>안됨. test를 할 때마다 오류날 확률이 쌓이게 됨!</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a><span class="co"># 제대로 될 확률이 95%인데 6번 연속하면..</span></span>
<span id="cb126-2"><a href="#cb126-2"></a><span class="fu">round</span>(<span class="fl">0.95</span><span class="sc">^</span><span class="dv">6</span>,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.74</code></pre>
</div>
</div>
</section>
<section id="post-hoc-analysis" class="slide level2 smaller">
<h2>post hoc analysis</h2>
<ul>
<li>?? : 차이가 나는 그룹들을 알아내려면 pairwise 비교 해야하는데</li>
<li>통계학자들 : ㅇㅇ 대신 채점기준을 더 빡세게
<ul>
<li>bonferroni correction : 0.05/N</li>
</ul></li>
<li>(실무) 이미 있는 테스트를 골라서 쓰면 된다.
<ul>
<li>Bonferroni adjustment</li>
<li>Dun-nett’s test</li>
<li><strong>Tukey’s test</strong></li>
<li>Least-significant difference test</li>
<li>NewmanKeuls test</li>
</ul></li>
</ul>
</section>
<section id="사후분석---tukey" class="slide level2">
<h2>사후분석 - Tukey</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1"></a><span class="co"># ANOVA로 만든 fit에 적용해서 비교</span></span>
<span id="cb128-2"><a href="#cb128-2"></a><span class="fu">TukeyHSD</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Tukey multiple comparisons of means
    95% family-wise confidence level

Fit: aov(formula = HE_BMI ~ ho_incm, data = KNHANES21_temp)

$ho_incm
                       diff        lwr        upr     p adj
mid-low-lowest   -0.5133219 -0.9237822 -0.1028616 0.0072051
mid-high-lowest  -0.8323611 -1.2302576 -0.4344645 0.0000005
high-lowest      -0.7204611 -1.1160753 -0.3248470 0.0000174
mid-high-mid-low -0.3190392 -0.6830254  0.0449471 0.1095426
high-mid-low     -0.2071392 -0.5686290  0.1543506 0.4542847
high-mid-high     0.1119000 -0.2352584  0.4590583 0.8410667</code></pre>
</div>
</div>
</section>
<section id="사후분석---pairwise.wilcox.test" class="slide level2">
<h2>사후분석 - pairwise.wilcox.test</h2>
<ul>
<li>비모수 버전</li>
<li>p value 조절 알고리즘을 선택</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a><span class="fu">pairwise.wilcox.test</span>(KNHANES21_temp<span class="sc">$</span>HE_BMI, KNHANES21_temp<span class="sc">$</span>ho_incm,</span>
<span id="cb130-2"><a href="#cb130-2"></a>                     <span class="at">p.adjust.method =</span> <span class="st">"BH"</span>) <span class="co">#Benjamini &amp; Hochberg</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pairwise comparisons using Wilcoxon rank sum test with continuity correction 

data:  KNHANES21_temp$HE_BMI and KNHANES21_temp$ho_incm 

         lowest  mid-low mid-high
mid-low  0.011   -       -       
mid-high 1.5e-06 0.029   -       
high     1.2e-05 0.112   0.422   

P value adjustment method: BH </code></pre>
</div>
</div>
<div class="footer">
<p><a href="https://microbiome.github.io/tutorials/post_hoc.html">Read more on post-hoc test for non-parametric comparison</a></p>
</div>
</section>
<section id="multiple-comparison-problem" class="slide level2">
<h2>Multiple comparison problem</h2>
<ul>
<li><p>한 데이터로 여러 번 p-value를 평가하는 연구는 채점기준에 비해 오류가 증가할 가능성이 높음.</p></li>
<li><p>신약의 효과를 검증하는 연구</p>
<ul>
<li>연구 대상 증상이 늘어나면, 증상 하나 정도는 신의 진실과 관계없이 효과가 있는 걸로 나올 수 있다.</li>
</ul></li>
<li><p>p-value fishing : “여러가지 해보다가 p value 잘 나온 걸로 했어요”</p></li>
<li><p>그래서 사전 연구 계획서를 등록하고 딱 한번만</p></li>
</ul>
</section>
<section id="선형회귀" class="slide level2 smaller">
<h2>선형회귀</h2>
<ul>
<li>X(연속형 변수, 예 - 펭귄부리길이 )에 따라 Y(연속형 변수, 예 - 펭귄부리두께)가 달라지는지 테스트 해줌.
<ul>
<li>기울기가 0인지 아닌지</li>
</ul></li>
<li>가정
<ul>
<li>정규성 : Y 정규분포</li>
<li>선형성 : X와 Y가 선형관계<sup>1</sup></li>
<li>자기상관성 : 오차항은 자기 상관이 없음<sup>2</sup><br>
</li>
<li>등분산성 : X변화에 따라 잔차가 일정하게 분포</li>
<li>비상관성=독립성 : X 변수들 간에 독립성. 실패시 <strong>Multicollinearity</strong>가 있다고 함. <sup>3</sup></li>
</ul></li>
</ul>
<div class="footer">
<p>Read more on <a href="https://www.kellerbiostat.com/introregression/slr#slr-model-assumptions">SLR</a></p>
</div>
<aside><ol class="aside-footnotes"><li id="fn10"><p>안되면, 다른 변수를 추가해보거나, 로그, 지수 변환 등 시도</p></li><li id="fn11"><p>반복 측정시 발생하는 문제</p></li><li id="fn12"><p>변수 제거 등 시도</p></li></ol></aside></section>
<section id="선형회귀-실습" class="slide level2 smaller scrollable">
<h2>선형회귀 실습</h2>
<ul>
<li>펭귄 중 Adelie만 선택해서 실습</li>
<li>R2 : 1에 가까울수록 선형 회귀 모델 적합성이 높음.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1"></a>data_for_lm <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span></span>
<span id="cb132-2"><a href="#cb132-2"></a>                  <span class="fu">filter</span>(species <span class="sc">==</span><span class="st">'Adelie'</span>)</span>
<span id="cb132-3"><a href="#cb132-3"></a></span>
<span id="cb132-4"><a href="#cb132-4"></a>lm_result <span class="ot">&lt;-</span> <span class="fu">lm</span>(bill_length_mm <span class="sc">~</span> bill_depth_mm, </span>
<span id="cb132-5"><a href="#cb132-5"></a>                <span class="at">data =</span> data_for_lm)</span>
<span id="cb132-6"><a href="#cb132-6"></a>lm_result <span class="sc">%&gt;%</span> summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = bill_length_mm ~ bill_depth_mm, data = data_for_lm)

Residuals:
    Min      1Q  Median      3Q     Max 
-6.5513 -1.8016  0.0055  1.6771  6.5341 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)     23.068      3.034   7.603 3.01e-12 ***
bill_depth_mm    0.857      0.165   5.193 6.67e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.459 on 149 degrees of freedom
  (1 observation deleted due to missingness)
Multiple R-squared:  0.1533,    Adjusted R-squared:  0.1476 
F-statistic: 26.97 on 1 and 149 DF,  p-value: 6.674e-07</code></pre>
</div>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1"></a>lm_result <span class="sc">%&gt;%</span> tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term          estimate std.error statistic  p.value
  &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)     23.1       3.03       7.60 3.01e-12
2 bill_depth_mm    0.857     0.165      5.19 6.67e- 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1"></a><span class="do">## 신뢰구간이 궁금하다:</span></span>
<span id="cb136-2"><a href="#cb136-2"></a><span class="fu">confint</span>(lm_result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  2.5 %   97.5 %
(Intercept)   17.072401 29.06376
bill_depth_mm  0.530933  1.18312</code></pre>
</div>
</div>
</section>
<section id="선형회귀-실습---그래프" class="slide level2 smaller">
<h2>선형회귀 실습 - 그래프</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1"></a>points <span class="ot">&lt;-</span> <span class="fu">augment</span>(lm_result)</span>
<span id="cb138-2"><a href="#cb138-2"></a></span>
<span id="cb138-3"><a href="#cb138-3"></a><span class="do">## plot the data using age as the x-axis </span></span>
<span id="cb138-4"><a href="#cb138-4"></a><span class="fu">ggplot</span>(points, <span class="fu">aes</span>(<span class="at">x =</span> bill_depth_mm)) <span class="sc">+</span> </span>
<span id="cb138-5"><a href="#cb138-5"></a>  <span class="do">## add points for height </span></span>
<span id="cb138-6"><a href="#cb138-6"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> bill_length_mm)) <span class="sc">+</span> </span>
<span id="cb138-7"><a href="#cb138-7"></a>  <span class="do">## add your regression line </span></span>
<span id="cb138-8"><a href="#cb138-8"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> .fitted), <span class="at">colour =</span> <span class="st">"red"</span>) <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-117-1.png" width="960" class="r-stretch"></section>
<section id="선형회귀-실습-1" class="slide level2 smaller">
<h2>선형회귀 실습</h2>
<ul>
<li>일반선형회귀모델 glm 이용</li>
<li>family 를 gaussian으로 지정해주면 선형회귀모델임.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a>lm_result_2 <span class="ot">&lt;-</span> <span class="fu">glm</span>(bill_length_mm <span class="sc">~</span> bill_depth_mm, </span>
<span id="cb139-2"><a href="#cb139-2"></a>                <span class="at">data =</span> data_for_lm, <span class="at">family =</span> <span class="st">'gaussian'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="다중-선형-회귀-분석" class="slide level2">
<h2>다중 선형 회귀 분석</h2>
<ul>
<li>단순 선형 회귀 모델 :
<ul>
<li>Y ~ X</li>
</ul></li>
<li>보통 논문을 쓸 때는 변수가 여러 개..
<ul>
<li>Y ~ X1 + X2 + … + Xn</li>
<li>보통 X1 이 주인공, 나머지 X2 … Xn 은 보정 변수</li>
</ul></li>
</ul>
</section>
<section id="다중-선형-회귀-분석-1" class="slide level2 smaller scrollable">
<h2>다중 선형 회귀 분석</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1"></a>lm_result_full <span class="ot">&lt;-</span> <span class="fu">glm</span>(bill_length_mm <span class="sc">~</span></span>
<span id="cb140-2"><a href="#cb140-2"></a>                        bill_depth_mm <span class="sc">+</span> body_mass_g <span class="sc">+</span> flipper_length_mm, </span>
<span id="cb140-3"><a href="#cb140-3"></a>                   <span class="at">data =</span> data_for_lm, <span class="at">family =</span> <span class="st">'gaussian'</span>)</span>
<span id="cb140-4"><a href="#cb140-4"></a></span>
<span id="cb140-5"><a href="#cb140-5"></a>lm_result_full <span class="sc">%&gt;%</span> summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = bill_length_mm ~ bill_depth_mm + body_mass_g + 
    flipper_length_mm, family = "gaussian", data = data_for_lm)

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       18.416563   5.780793   3.186  0.00176 ** 
bill_depth_mm      0.236358   0.183071   1.291  0.19871    
body_mass_g        0.002601   0.000523   4.973 1.81e-06 ***
flipper_length_mm  0.033758   0.031506   1.071  0.28571    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for gaussian family taken to be 4.957766)

    Null deviance: 1064.06  on 150  degrees of freedom
Residual deviance:  728.79  on 147  degrees of freedom
  (1 observation deleted due to missingness)
AIC: 676.21

Number of Fisher Scoring iterations: 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1"></a><span class="co"># Stepwise regression model</span></span>
<span id="cb142-2"><a href="#cb142-2"></a>step.model <span class="ot">&lt;-</span> MASS<span class="sc">::</span><span class="fu">stepAIC</span>(lm_result_full, <span class="at">direction =</span> <span class="st">"both"</span>, </span>
<span id="cb142-3"><a href="#cb142-3"></a>                      <span class="at">trace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb142-4"><a href="#cb142-4"></a></span>
<span id="cb142-5"><a href="#cb142-5"></a><span class="fu">summary</span>(step.model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = bill_length_mm ~ body_mass_g, family = "gaussian", 
    data = data_for_lm)

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 2.699e+01  1.483e+00  18.201  &lt; 2e-16 ***
body_mass_g 3.188e-03  3.977e-04   8.015 2.95e-13 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for gaussian family taken to be 4.989981)

    Null deviance: 1064.06  on 150  degrees of freedom
Residual deviance:  743.51  on 149  degrees of freedom
  (1 observation deleted due to missingness)
AIC: 675.23

Number of Fisher Scoring iterations: 2</code></pre>
</div>
</div>
<div class="footer">
<p><a href="https://hollyemblem.medium.com/handling-dplyr-and-mass-select-clashes-7c88258fd9d0">MASS는 dplyr select와 충돌 가능성이 있음 주의</a></p>
</div>
</section></section>
<section>
<section id="추론-통계---y가-명목형" class="title-slide slide level1 center">
<h1>추론 통계 - Y가 명목형</h1>
<ul>
<li>카이 제곱 검정</li>
<li>로지스틱 회귀분석</li>
</ul>
</section>
<section id="카이제곱-검정" class="slide level2 smaller scrollable">
<h2>카이제곱 검정</h2>
<ul>
<li>X(이분형 변수, 예 - 남녀)에 따라 Y(범주형 변수, 예 - 고혈압 유무)에 차이가 있는지 테스트 해줌.
<ul>
<li>X, Y가 독립이라고 했을 때 기대 빈도와 실제 빈도에 차이가 있는가</li>
</ul></li>
<li>카이제곱 기대 빈도와 실제 빈도를 이용해 통계량 계산 -&gt; Chi-squared distribution</li>
</ul>
<table>
<thead>
<tr class="header">
<th></th>
<th>남자</th>
<th>여자</th>
<th>합계</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>고혈압(+)</td>
<td></td>
<td></td>
<td>25</td>
</tr>
<tr class="even">
<td>고혈압(-)</td>
<td></td>
<td></td>
<td>75</td>
</tr>
<tr class="odd">
<td>합계</td>
<td>50</td>
<td>50</td>
<td>100</td>
</tr>
</tbody>
</table>
</section>
<section id="카이제곱-검정과-비슷비슷한-검정들" class="slide level2">
<h2>카이제곱 검정과 비슷비슷한 검정들</h2>
<ul>
<li>카이제곱 - chisq.test</li>
<li>Cochran–Mantel–Haenszel - mantelhaen.test
<ul>
<li>순서형 명목 변수일 때</li>
</ul></li>
<li>피셔 정확 검정(Fisher’s exact test) - fisher.test
<ul>
<li>기대빈도가 5미만으로 너무 적을 때</li>
</ul></li>
<li>McNemar’s test : paired 된 경우</li>
</ul>
</section>
<section id="카이제곱-검정---실습---변수-준비" class="slide level2 smaller scrollable">
<h2>카이제곱 검정 - 실습 - 변수 준비</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1"></a><span class="co"># 분석할 변수 가공</span></span>
<span id="cb144-2"><a href="#cb144-2"></a>KNHANES21_category <span class="ot">&lt;-</span> KNHANES21_raw</span>
<span id="cb144-3"><a href="#cb144-3"></a></span>
<span id="cb144-4"><a href="#cb144-4"></a><span class="co">#self-rated-health : </span></span>
<span id="cb144-5"><a href="#cb144-5"></a>KNHANES21_category <span class="ot">&lt;-</span> KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-6"><a href="#cb144-6"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(D_1_1)) <span class="sc">%&gt;%</span> </span>
<span id="cb144-7"><a href="#cb144-7"></a>  <span class="fu">mutate</span>(<span class="at">self_rated_health =</span> <span class="fu">case_when</span>(D_1_1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="sc">~</span> <span class="st">'Good'</span>,</span>
<span id="cb144-8"><a href="#cb144-8"></a>                         <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">'Poor'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb144-9"><a href="#cb144-9"></a>  <span class="fu">mutate</span>(<span class="at">self_rated_health =</span> <span class="fu">structure</span>(</span>
<span id="cb144-10"><a href="#cb144-10"></a>  <span class="fu">factor</span>(self_rated_health,</span>
<span id="cb144-11"><a href="#cb144-11"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Good'</span>,<span class="st">'Poor'</span>) </span>
<span id="cb144-12"><a href="#cb144-12"></a>         )))</span>
<span id="cb144-13"><a href="#cb144-13"></a></span>
<span id="cb144-14"><a href="#cb144-14"></a><span class="co">#sex : </span></span>
<span id="cb144-15"><a href="#cb144-15"></a>KNHANES21_category <span class="ot">&lt;-</span> KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-16"><a href="#cb144-16"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">case_when</span>(sex <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Men'</span>,</span>
<span id="cb144-17"><a href="#cb144-17"></a>                         sex <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">'Women'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb144-18"><a href="#cb144-18"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">structure</span>(</span>
<span id="cb144-19"><a href="#cb144-19"></a>  <span class="fu">factor</span>(sex,</span>
<span id="cb144-20"><a href="#cb144-20"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Men'</span>,<span class="st">'Women'</span>) </span>
<span id="cb144-21"><a href="#cb144-21"></a>         )))</span>
<span id="cb144-22"><a href="#cb144-22"></a></span>
<span id="cb144-23"><a href="#cb144-23"></a>KNHANES21_category<span class="sc">$</span>ho_incm <span class="ot">&lt;-</span> </span>
<span id="cb144-24"><a href="#cb144-24"></a>  <span class="fu">factor</span>(KNHANES21_category<span class="sc">$</span>ho_incm, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1'</span>,<span class="st">'2'</span>,<span class="st">'3'</span>,<span class="st">'4'</span>),</span>
<span id="cb144-25"><a href="#cb144-25"></a>         <span class="at">labels=</span><span class="fu">c</span>(<span class="st">'lowest'</span>,<span class="st">'mid-low'</span>,<span class="st">'mid-high'</span>,<span class="st">'high'</span>))</span>
<span id="cb144-26"><a href="#cb144-26"></a></span>
<span id="cb144-27"><a href="#cb144-27"></a><span class="co">#Hypertension</span></span>
<span id="cb144-28"><a href="#cb144-28"></a>KNHANES21_category <span class="ot">&lt;-</span> KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-29"><a href="#cb144-29"></a>  <span class="fu">mutate</span>(<span class="at">Hypertension =</span> <span class="fu">case_when</span>(DI1_dg <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Yes'</span>,</span>
<span id="cb144-30"><a href="#cb144-30"></a>                               DI1_dg <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'No'</span>,</span>
<span id="cb144-31"><a href="#cb144-31"></a>                               <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">'Unknown'</span>))</span>
<span id="cb144-32"><a href="#cb144-32"></a>KNHANES21_category <span class="ot">&lt;-</span>KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-33"><a href="#cb144-33"></a><span class="fu">mutate</span>(<span class="at">Hypertension =</span> <span class="fu">structure</span>(</span>
<span id="cb144-34"><a href="#cb144-34"></a>  <span class="fu">factor</span>(Hypertension,</span>
<span id="cb144-35"><a href="#cb144-35"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'No'</span>,<span class="st">'Yes'</span>,<span class="st">'Unknown'</span>) </span>
<span id="cb144-36"><a href="#cb144-36"></a>         )))</span>
<span id="cb144-37"><a href="#cb144-37"></a><span class="co">#Dyslipidemia</span></span>
<span id="cb144-38"><a href="#cb144-38"></a>KNHANES21_category <span class="ot">&lt;-</span> KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-39"><a href="#cb144-39"></a>  <span class="fu">mutate</span>(<span class="at">Dyslipidemia =</span> <span class="fu">case_when</span>(DI2_dg <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Yes'</span>,</span>
<span id="cb144-40"><a href="#cb144-40"></a>                               DI2_dg <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'No'</span>,</span>
<span id="cb144-41"><a href="#cb144-41"></a>                               <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">'Unknown'</span>))</span>
<span id="cb144-42"><a href="#cb144-42"></a>KNHANES21_category <span class="ot">&lt;-</span>KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-43"><a href="#cb144-43"></a><span class="fu">mutate</span>(<span class="at">Dyslipidemia =</span> <span class="fu">structure</span>(</span>
<span id="cb144-44"><a href="#cb144-44"></a>  <span class="fu">factor</span>(Dyslipidemia,</span>
<span id="cb144-45"><a href="#cb144-45"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'No'</span>,<span class="st">'Yes'</span>,<span class="st">'Unknown'</span>) </span>
<span id="cb144-46"><a href="#cb144-46"></a>         )))</span>
<span id="cb144-47"><a href="#cb144-47"></a><span class="co">#Stroke</span></span>
<span id="cb144-48"><a href="#cb144-48"></a>KNHANES21_category <span class="ot">&lt;-</span> KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-49"><a href="#cb144-49"></a>  <span class="fu">mutate</span>(<span class="at">Stroke =</span> <span class="fu">case_when</span>(DI3_dg <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Yes'</span>,</span>
<span id="cb144-50"><a href="#cb144-50"></a>                               DI3_dg <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'No'</span>,</span>
<span id="cb144-51"><a href="#cb144-51"></a>                               <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">'Unknown'</span>))</span>
<span id="cb144-52"><a href="#cb144-52"></a>KNHANES21_category <span class="ot">&lt;-</span>KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-53"><a href="#cb144-53"></a><span class="fu">mutate</span>(<span class="at">Stroke =</span> <span class="fu">structure</span>(</span>
<span id="cb144-54"><a href="#cb144-54"></a>  <span class="fu">factor</span>(Stroke,</span>
<span id="cb144-55"><a href="#cb144-55"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'No'</span>,<span class="st">'Yes'</span>,<span class="st">'Unknown'</span>) </span>
<span id="cb144-56"><a href="#cb144-56"></a>         )))</span>
<span id="cb144-57"><a href="#cb144-57"></a></span>
<span id="cb144-58"><a href="#cb144-58"></a><span class="co">#Diabetes</span></span>
<span id="cb144-59"><a href="#cb144-59"></a>KNHANES21_category <span class="ot">&lt;-</span> KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-60"><a href="#cb144-60"></a>  <span class="fu">mutate</span>(<span class="at">Diabetes =</span> <span class="fu">case_when</span>(DE1_dg <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'Yes'</span>,</span>
<span id="cb144-61"><a href="#cb144-61"></a>                               DE1_dg <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'No'</span>,</span>
<span id="cb144-62"><a href="#cb144-62"></a>                               <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">'Unknown'</span>))</span>
<span id="cb144-63"><a href="#cb144-63"></a>KNHANES21_category <span class="ot">&lt;-</span>KNHANES21_category <span class="sc">%&gt;%</span> </span>
<span id="cb144-64"><a href="#cb144-64"></a><span class="fu">mutate</span>(<span class="at">Diabetes =</span> <span class="fu">structure</span>(</span>
<span id="cb144-65"><a href="#cb144-65"></a>  <span class="fu">factor</span>(Diabetes,</span>
<span id="cb144-66"><a href="#cb144-66"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'No'</span>,<span class="st">'Yes'</span>,<span class="st">'Unknown'</span>) </span>
<span id="cb144-67"><a href="#cb144-67"></a>         )))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="카이제곱-검정---실습" class="slide level2 smaller scrollable">
<h2>카이제곱 검정 - 실습</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a><span class="do">## 빈도 table 만들기</span></span>
<span id="cb145-2"><a href="#cb145-2"></a><span class="fu">table</span>(KNHANES21_category<span class="sc">$</span>Hypertension , KNHANES21_category<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         
           Men Women
  No      1754  2316
  Yes      741   872
  Unknown  541   504</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a><span class="do">## 카이검정</span></span>
<span id="cb147-2"><a href="#cb147-2"></a><span class="fu">chisq.test</span>(KNHANES21_category<span class="sc">$</span>Hypertension, KNHANES21_category<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test

data:  KNHANES21_category$Hypertension and KNHANES21_category$sex
X-squared = 25.836, df = 2, p-value = 2.454e-06</code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a>Hypertension_sex_table <span class="ot">&lt;-</span> <span class="fu">table</span>(KNHANES21_category<span class="sc">$</span>Hypertension,KNHANES21_category<span class="sc">$</span>sex)[<span class="dv">2</span><span class="sc">:</span><span class="dv">1</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb149-2"><a href="#cb149-2"></a></span>
<span id="cb149-3"><a href="#cb149-3"></a>Hypertension_sex_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     
       Men Women
  Yes  741   872
  No  1754  2316</code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a>Hypertension_sex_table <span class="sc">%&gt;%</span> <span class="fu">chisq.test</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test with Yates' continuity correction

data:  .
X-squared = 3.6777, df = 1, p-value = 0.05514</code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a><span class="fu">fisher.test</span>(Hypertension_sex_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Fisher's Exact Test for Count Data

data:  Hypertension_sex_table
p-value = 0.05399
alternative hypothesis: true odds ratio is not equal to 1
95 percent confidence interval:
 0.9974172 1.2620444
sample estimates:
odds ratio 
  1.122021 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a><span class="fu">fisher.test</span>(Hypertension_sex_table) <span class="sc">%&gt;%</span> tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 6
  estimate p.value conf.low conf.high method                         alternative
     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;                          &lt;chr&gt;      
1     1.12  0.0540    0.997      1.26 Fisher's Exact Test for Count… two.sided  </code></pre>
</div>
</div>
</section>
<section id="로지스틱-회귀분석" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석</h2>
<ul>
<li>X(연속형/명목형 변수)에 따라 Y(이분형 변수, 예 - 고혈압 유무)가 달라지는지 테스트 해줌.</li>
</ul>
</section>
<section id="로지스틱-회귀분석-1" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석</h2>
<ul>
<li>glm 모델에 X 변수로 범주형 하나만 넣으면, 앞서 구한 OR이 또 나옵니다.</li>
<li><strong>familiy = “binomial”</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb157" data-code-line-numbers="1-2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a><span class="do">## Ref 값 변경</span></span>
<span id="cb157-2"><a href="#cb157-2"></a>KNHANES21_category<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">relevel</span>(KNHANES21_category<span class="sc">$</span>sex, <span class="at">ref=</span><span class="st">'Women'</span>)</span>
<span id="cb157-3"><a href="#cb157-3"></a><span class="do">## Hypertension factor 정의할 때 No가 Ref 값으로 정의됨.</span></span>
<span id="cb157-4"><a href="#cb157-4"></a>fit_sex <span class="ot">&lt;-</span> </span>
<span id="cb157-5"><a href="#cb157-5"></a>  <span class="fu">glm</span>(Hypertension <span class="sc">~</span> sex , <span class="at">family=</span><span class="st">'binomial'</span>,</span>
<span id="cb157-6"><a href="#cb157-6"></a>               <span class="at">data=</span>KNHANES21_category <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Hypertension <span class="sc">!=</span><span class="st">'Unknown'</span>)</span>
<span id="cb157-7"><a href="#cb157-7"></a>               ) </span>
<span id="cb157-8"><a href="#cb157-8"></a>fit_sex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:  glm(formula = Hypertension ~ sex, family = "binomial", data = KNHANES21_category %&gt;% 
    filter(Hypertension != "Unknown"))

Coefficients:
(Intercept)       sexMen  
    -0.9768       0.1152  

Degrees of Freedom: 5682 Total (i.e. Null);  5681 Residual
Null Deviance:      6780 
Residual Deviance: 6776     AIC: 6780</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159" data-code-line-numbers="1-2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a><span class="fu">tidy</span>(fit_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term        estimate std.error statistic   p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)   -0.977    0.0397    -24.6  1.81e-133
2 sexMen         0.115    0.0591      1.95 5.15e-  2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb161" data-code-line-numbers="1-2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a><span class="fu">tidy</span>(fit_sex, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term        estimate std.error statistic   p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)    0.377    0.0397    -24.6  1.81e-133
2 sexMen         1.12     0.0591      1.95 5.15e-  2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163" data-code-line-numbers="1-2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a><span class="fu">exp</span>(<span class="fu">coef</span>(fit_sex)) <span class="co"># exponentiated coefficients - 좀 전에 구한 OR과 비슷한 값</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)      sexMen 
  0.3765112   1.1220461 </code></pre>
</div>
</div>
</section>
<section id="로지스틱-회귀분석---gtsummary" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석 - gtsummary</h2>
<ul>
<li>gtsummary를 이용하면 예쁜 표를 바로 만들 수 있습니다.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a>fit_sex <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(<span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="erfpvbjuvy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#erfpvbjuvy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#erfpvbjuvy thead, #erfpvbjuvy tbody, #erfpvbjuvy tfoot, #erfpvbjuvy tr, #erfpvbjuvy td, #erfpvbjuvy th {
  border-style: none;
}

#erfpvbjuvy p {
  margin: 0;
  padding: 0;
}

#erfpvbjuvy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#erfpvbjuvy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#erfpvbjuvy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#erfpvbjuvy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#erfpvbjuvy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#erfpvbjuvy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#erfpvbjuvy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#erfpvbjuvy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#erfpvbjuvy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#erfpvbjuvy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#erfpvbjuvy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#erfpvbjuvy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#erfpvbjuvy .gt_spanner_row {
  border-bottom-style: hidden;
}

#erfpvbjuvy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#erfpvbjuvy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#erfpvbjuvy .gt_from_md > :first-child {
  margin-top: 0;
}

#erfpvbjuvy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#erfpvbjuvy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#erfpvbjuvy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#erfpvbjuvy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#erfpvbjuvy .gt_row_group_first td {
  border-top-width: 2px;
}

#erfpvbjuvy .gt_row_group_first th {
  border-top-width: 2px;
}

#erfpvbjuvy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#erfpvbjuvy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#erfpvbjuvy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#erfpvbjuvy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#erfpvbjuvy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#erfpvbjuvy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#erfpvbjuvy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#erfpvbjuvy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#erfpvbjuvy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#erfpvbjuvy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#erfpvbjuvy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#erfpvbjuvy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#erfpvbjuvy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#erfpvbjuvy .gt_left {
  text-align: left;
}

#erfpvbjuvy .gt_center {
  text-align: center;
}

#erfpvbjuvy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#erfpvbjuvy .gt_font_normal {
  font-weight: normal;
}

#erfpvbjuvy .gt_font_bold {
  font-weight: bold;
}

#erfpvbjuvy .gt_font_italic {
  font-style: italic;
}

#erfpvbjuvy .gt_super {
  font-size: 65%;
}

#erfpvbjuvy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#erfpvbjuvy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#erfpvbjuvy .gt_indent_1 {
  text-indent: 5px;
}

#erfpvbjuvy .gt_indent_2 {
  text-indent: 10px;
}

#erfpvbjuvy .gt_indent_3 {
  text-indent: 15px;
}

#erfpvbjuvy .gt_indent_4 {
  text-indent: 20px;
}

#erfpvbjuvy .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>OR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">sex</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Women</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Men</td>
<td headers="estimate" class="gt_row gt_center">1.12</td>
<td headers="ci" class="gt_row gt_center">1.00, 1.26</td>
<td headers="p.value" class="gt_row gt_center">0.052</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="로지스틱-회귀분석---다중" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석 - 다중</h2>
<ul>
<li>연속형, 명목형 여러 개 넣어서 분석 가능</li>
<li>단, 모델에 설명 변수를 마구 넣으면 해석이 어렵다.</li>
<li>대개 glm 모델 하나로 table 만들지 않음..</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1"></a>fit_full <span class="ot">&lt;-</span> <span class="fu">glm</span>(Hypertension <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> ho_incm <span class="sc">+</span> Diabetes <span class="sc">+</span> Dyslipidemia, <span class="at">family=</span><span class="st">'binomial'</span>,</span>
<span id="cb166-2"><a href="#cb166-2"></a>               <span class="at">data=</span>KNHANES21_category <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Hypertension <span class="sc">!=</span><span class="st">'Unknown'</span>)</span>
<span id="cb166-3"><a href="#cb166-3"></a>               ) </span>
<span id="cb166-4"><a href="#cb166-4"></a></span>
<span id="cb166-5"><a href="#cb166-5"></a>fit_full <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(<span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="ckyvqlxhcg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ckyvqlxhcg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ckyvqlxhcg thead, #ckyvqlxhcg tbody, #ckyvqlxhcg tfoot, #ckyvqlxhcg tr, #ckyvqlxhcg td, #ckyvqlxhcg th {
  border-style: none;
}

#ckyvqlxhcg p {
  margin: 0;
  padding: 0;
}

#ckyvqlxhcg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ckyvqlxhcg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ckyvqlxhcg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ckyvqlxhcg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ckyvqlxhcg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ckyvqlxhcg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ckyvqlxhcg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ckyvqlxhcg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ckyvqlxhcg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ckyvqlxhcg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ckyvqlxhcg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ckyvqlxhcg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ckyvqlxhcg .gt_spanner_row {
  border-bottom-style: hidden;
}

#ckyvqlxhcg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ckyvqlxhcg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ckyvqlxhcg .gt_from_md > :first-child {
  margin-top: 0;
}

#ckyvqlxhcg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ckyvqlxhcg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ckyvqlxhcg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ckyvqlxhcg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ckyvqlxhcg .gt_row_group_first td {
  border-top-width: 2px;
}

#ckyvqlxhcg .gt_row_group_first th {
  border-top-width: 2px;
}

#ckyvqlxhcg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ckyvqlxhcg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ckyvqlxhcg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ckyvqlxhcg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ckyvqlxhcg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ckyvqlxhcg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ckyvqlxhcg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ckyvqlxhcg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ckyvqlxhcg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ckyvqlxhcg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ckyvqlxhcg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ckyvqlxhcg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ckyvqlxhcg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ckyvqlxhcg .gt_left {
  text-align: left;
}

#ckyvqlxhcg .gt_center {
  text-align: center;
}

#ckyvqlxhcg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ckyvqlxhcg .gt_font_normal {
  font-weight: normal;
}

#ckyvqlxhcg .gt_font_bold {
  font-weight: bold;
}

#ckyvqlxhcg .gt_font_italic {
  font-style: italic;
}

#ckyvqlxhcg .gt_super {
  font-size: 65%;
}

#ckyvqlxhcg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ckyvqlxhcg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ckyvqlxhcg .gt_indent_1 {
  text-indent: 5px;
}

#ckyvqlxhcg .gt_indent_2 {
  text-indent: 10px;
}

#ckyvqlxhcg .gt_indent_3 {
  text-indent: 15px;
}

#ckyvqlxhcg .gt_indent_4 {
  text-indent: 20px;
}

#ckyvqlxhcg .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>OR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">만나이</td>
<td headers="estimate" class="gt_row gt_center">1.08</td>
<td headers="ci" class="gt_row gt_center">1.07, 1.08</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">sex</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Women</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Men</td>
<td headers="estimate" class="gt_row gt_center">1.39</td>
<td headers="ci" class="gt_row gt_center">1.21, 1.61</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">ho_incm</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;lowest</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;mid-low</td>
<td headers="estimate" class="gt_row gt_center">0.84</td>
<td headers="ci" class="gt_row gt_center">0.69, 1.03</td>
<td headers="p.value" class="gt_row gt_center">0.10</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;mid-high</td>
<td headers="estimate" class="gt_row gt_center">0.90</td>
<td headers="ci" class="gt_row gt_center">0.73, 1.12</td>
<td headers="p.value" class="gt_row gt_center">0.3</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;high</td>
<td headers="estimate" class="gt_row gt_center">0.84</td>
<td headers="ci" class="gt_row gt_center">0.67, 1.05</td>
<td headers="p.value" class="gt_row gt_center">0.12</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Diabetes</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">2.21</td>
<td headers="ci" class="gt_row gt_center">1.82, 2.67</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Dyslipidemia</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">3.36</td>
<td headers="ci" class="gt_row gt_center">2.89, 3.91</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="로지스틱-회귀분석---table-2" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석 - table 2</h2>
<ul>
<li>table 2 만들기 실습</li>
<li>Y : self_rated_health</li>
<li>X들 : Hypertension, Diabetes, Dyslipidemia, Stroke</li>
<li>보정 변수 : age sex</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1"></a><span class="do">## 질병들 마다 모델이 하나씩 생김</span></span>
<span id="cb167-2"><a href="#cb167-2"></a></span>
<span id="cb167-3"><a href="#cb167-3"></a><span class="do">## Hypertension</span></span>
<span id="cb167-4"><a href="#cb167-4"></a>fit_Hypertension <span class="ot">&lt;-</span> <span class="fu">glm</span>(self_rated_health <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> Hypertension, <span class="at">family=</span><span class="st">'binomial'</span>,</span>
<span id="cb167-5"><a href="#cb167-5"></a>                <span class="at">data=</span>KNHANES21_category ) </span>
<span id="cb167-6"><a href="#cb167-6"></a></span>
<span id="cb167-7"><a href="#cb167-7"></a>Hypertension_summary <span class="ot">&lt;-</span> fit_Hypertension <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(<span class="at">include =</span><span class="st">'Hypertension'</span>,<span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span>
<span id="cb167-8"><a href="#cb167-8"></a></span>
<span id="cb167-9"><a href="#cb167-9"></a>Hypertension_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="bnglwyhfnf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bnglwyhfnf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bnglwyhfnf thead, #bnglwyhfnf tbody, #bnglwyhfnf tfoot, #bnglwyhfnf tr, #bnglwyhfnf td, #bnglwyhfnf th {
  border-style: none;
}

#bnglwyhfnf p {
  margin: 0;
  padding: 0;
}

#bnglwyhfnf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bnglwyhfnf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bnglwyhfnf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bnglwyhfnf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bnglwyhfnf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bnglwyhfnf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bnglwyhfnf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bnglwyhfnf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bnglwyhfnf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bnglwyhfnf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bnglwyhfnf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bnglwyhfnf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bnglwyhfnf .gt_spanner_row {
  border-bottom-style: hidden;
}

#bnglwyhfnf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bnglwyhfnf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bnglwyhfnf .gt_from_md > :first-child {
  margin-top: 0;
}

#bnglwyhfnf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bnglwyhfnf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bnglwyhfnf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bnglwyhfnf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bnglwyhfnf .gt_row_group_first td {
  border-top-width: 2px;
}

#bnglwyhfnf .gt_row_group_first th {
  border-top-width: 2px;
}

#bnglwyhfnf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bnglwyhfnf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bnglwyhfnf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bnglwyhfnf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bnglwyhfnf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bnglwyhfnf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bnglwyhfnf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bnglwyhfnf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bnglwyhfnf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bnglwyhfnf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bnglwyhfnf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bnglwyhfnf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bnglwyhfnf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bnglwyhfnf .gt_left {
  text-align: left;
}

#bnglwyhfnf .gt_center {
  text-align: center;
}

#bnglwyhfnf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bnglwyhfnf .gt_font_normal {
  font-weight: normal;
}

#bnglwyhfnf .gt_font_bold {
  font-weight: bold;
}

#bnglwyhfnf .gt_font_italic {
  font-style: italic;
}

#bnglwyhfnf .gt_super {
  font-size: 65%;
}

#bnglwyhfnf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bnglwyhfnf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bnglwyhfnf .gt_indent_1 {
  text-indent: 5px;
}

#bnglwyhfnf .gt_indent_2 {
  text-indent: 10px;
}

#bnglwyhfnf .gt_indent_3 {
  text-indent: 15px;
}

#bnglwyhfnf .gt_indent_4 {
  text-indent: 20px;
}

#bnglwyhfnf .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>OR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">Hypertension</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.76</td>
<td headers="ci" class="gt_row gt_center">1.53, 2.04</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="estimate" class="gt_row gt_center">0.44</td>
<td headers="ci" class="gt_row gt_center">0.31, 0.63</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="로지스틱-회귀분석---table-2-1" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석 - table 2</h2>
<ul>
<li><p>table 2 만들기 실습</p></li>
<li><p>Y : self_rated_health</p></li>
<li><p>X들 : Hypertension, Diabetes, Dyslipidemia, Stroke</p>
<ul>
<li>Hypertension을 다른 질병 변수로 바꾸면 작업이 편해짐.</li>
</ul></li>
<li><p>보정 변수 : age sex</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1"></a><span class="do">## 질병들 마다 모델이 하나씩 생김</span></span>
<span id="cb168-2"><a href="#cb168-2"></a></span>
<span id="cb168-3"><a href="#cb168-3"></a></span>
<span id="cb168-4"><a href="#cb168-4"></a><span class="do">## Diabetes</span></span>
<span id="cb168-5"><a href="#cb168-5"></a>fit_Diabetes <span class="ot">&lt;-</span> <span class="fu">glm</span>(self_rated_health <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> Diabetes, <span class="at">family=</span><span class="st">'binomial'</span>,</span>
<span id="cb168-6"><a href="#cb168-6"></a>                    <span class="at">data=</span>KNHANES21_category ) </span>
<span id="cb168-7"><a href="#cb168-7"></a></span>
<span id="cb168-8"><a href="#cb168-8"></a>Diabetes_summary <span class="ot">&lt;-</span> fit_Diabetes <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(<span class="at">include =</span><span class="st">'Diabetes'</span>,<span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span>
<span id="cb168-9"><a href="#cb168-9"></a></span>
<span id="cb168-10"><a href="#cb168-10"></a>Diabetes_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="uvduxqzwfq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#uvduxqzwfq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#uvduxqzwfq thead, #uvduxqzwfq tbody, #uvduxqzwfq tfoot, #uvduxqzwfq tr, #uvduxqzwfq td, #uvduxqzwfq th {
  border-style: none;
}

#uvduxqzwfq p {
  margin: 0;
  padding: 0;
}

#uvduxqzwfq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#uvduxqzwfq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#uvduxqzwfq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#uvduxqzwfq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#uvduxqzwfq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uvduxqzwfq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uvduxqzwfq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uvduxqzwfq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#uvduxqzwfq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#uvduxqzwfq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#uvduxqzwfq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#uvduxqzwfq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#uvduxqzwfq .gt_spanner_row {
  border-bottom-style: hidden;
}

#uvduxqzwfq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#uvduxqzwfq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#uvduxqzwfq .gt_from_md > :first-child {
  margin-top: 0;
}

#uvduxqzwfq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#uvduxqzwfq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#uvduxqzwfq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#uvduxqzwfq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#uvduxqzwfq .gt_row_group_first td {
  border-top-width: 2px;
}

#uvduxqzwfq .gt_row_group_first th {
  border-top-width: 2px;
}

#uvduxqzwfq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uvduxqzwfq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#uvduxqzwfq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#uvduxqzwfq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uvduxqzwfq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uvduxqzwfq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#uvduxqzwfq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#uvduxqzwfq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#uvduxqzwfq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uvduxqzwfq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uvduxqzwfq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uvduxqzwfq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uvduxqzwfq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uvduxqzwfq .gt_left {
  text-align: left;
}

#uvduxqzwfq .gt_center {
  text-align: center;
}

#uvduxqzwfq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#uvduxqzwfq .gt_font_normal {
  font-weight: normal;
}

#uvduxqzwfq .gt_font_bold {
  font-weight: bold;
}

#uvduxqzwfq .gt_font_italic {
  font-style: italic;
}

#uvduxqzwfq .gt_super {
  font-size: 65%;
}

#uvduxqzwfq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#uvduxqzwfq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#uvduxqzwfq .gt_indent_1 {
  text-indent: 5px;
}

#uvduxqzwfq .gt_indent_2 {
  text-indent: 10px;
}

#uvduxqzwfq .gt_indent_3 {
  text-indent: 15px;
}

#uvduxqzwfq .gt_indent_4 {
  text-indent: 20px;
}

#uvduxqzwfq .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>OR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">Diabetes</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.82</td>
<td headers="ci" class="gt_row gt_center">1.53, 2.17</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="estimate" class="gt_row gt_center">0.48</td>
<td headers="ci" class="gt_row gt_center">0.34, 0.68</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="로지스틱-회귀분석---table-2-2" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석 - table 2</h2>
<ul>
<li><p>table 2 만들기 실습</p></li>
<li><p>Y : self_rated_health</p></li>
<li><p>X들 : Hypertension, Diabetes, Dyslipidemia, Stroke</p>
<ul>
<li>Hypertension을 다른 질병 변수로 바꾸면 작업이 편해짐.</li>
</ul></li>
<li><p>보정 변수 : age sex</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1"></a><span class="do">## 질병들 마다 모델이 하나씩 생김</span></span>
<span id="cb169-2"><a href="#cb169-2"></a></span>
<span id="cb169-3"><a href="#cb169-3"></a></span>
<span id="cb169-4"><a href="#cb169-4"></a><span class="do">## Dyslipidemia</span></span>
<span id="cb169-5"><a href="#cb169-5"></a>fit_Dyslipidemia <span class="ot">&lt;-</span> <span class="fu">glm</span>(self_rated_health <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> Dyslipidemia, <span class="at">family=</span><span class="st">'binomial'</span>,</span>
<span id="cb169-6"><a href="#cb169-6"></a>                        <span class="at">data=</span>KNHANES21_category ) </span>
<span id="cb169-7"><a href="#cb169-7"></a></span>
<span id="cb169-8"><a href="#cb169-8"></a>Dyslipidemia_summary <span class="ot">&lt;-</span> fit_Dyslipidemia <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(<span class="at">include =</span><span class="st">'Dyslipidemia'</span>,<span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span>
<span id="cb169-9"><a href="#cb169-9"></a></span>
<span id="cb169-10"><a href="#cb169-10"></a>Dyslipidemia_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="adaacnyapt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#adaacnyapt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#adaacnyapt thead, #adaacnyapt tbody, #adaacnyapt tfoot, #adaacnyapt tr, #adaacnyapt td, #adaacnyapt th {
  border-style: none;
}

#adaacnyapt p {
  margin: 0;
  padding: 0;
}

#adaacnyapt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#adaacnyapt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#adaacnyapt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#adaacnyapt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#adaacnyapt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#adaacnyapt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#adaacnyapt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#adaacnyapt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#adaacnyapt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#adaacnyapt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#adaacnyapt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#adaacnyapt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#adaacnyapt .gt_spanner_row {
  border-bottom-style: hidden;
}

#adaacnyapt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#adaacnyapt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#adaacnyapt .gt_from_md > :first-child {
  margin-top: 0;
}

#adaacnyapt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#adaacnyapt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#adaacnyapt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#adaacnyapt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#adaacnyapt .gt_row_group_first td {
  border-top-width: 2px;
}

#adaacnyapt .gt_row_group_first th {
  border-top-width: 2px;
}

#adaacnyapt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#adaacnyapt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#adaacnyapt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#adaacnyapt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#adaacnyapt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#adaacnyapt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#adaacnyapt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#adaacnyapt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#adaacnyapt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#adaacnyapt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#adaacnyapt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#adaacnyapt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#adaacnyapt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#adaacnyapt .gt_left {
  text-align: left;
}

#adaacnyapt .gt_center {
  text-align: center;
}

#adaacnyapt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#adaacnyapt .gt_font_normal {
  font-weight: normal;
}

#adaacnyapt .gt_font_bold {
  font-weight: bold;
}

#adaacnyapt .gt_font_italic {
  font-style: italic;
}

#adaacnyapt .gt_super {
  font-size: 65%;
}

#adaacnyapt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#adaacnyapt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#adaacnyapt .gt_indent_1 {
  text-indent: 5px;
}

#adaacnyapt .gt_indent_2 {
  text-indent: 10px;
}

#adaacnyapt .gt_indent_3 {
  text-indent: 15px;
}

#adaacnyapt .gt_indent_4 {
  text-indent: 20px;
}

#adaacnyapt .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>OR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">Dyslipidemia</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.30</td>
<td headers="ci" class="gt_row gt_center">1.13, 1.50</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="estimate" class="gt_row gt_center">0.50</td>
<td headers="ci" class="gt_row gt_center">0.35, 0.71</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="로지스틱-회귀분석---table-2-3" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석 - table 2</h2>
<ul>
<li><p>table 2 만들기 실습</p></li>
<li><p>Y : self_rated_health</p></li>
<li><p>X들 : Hypertension, Diabetes, Dyslipidemia, Stroke</p>
<ul>
<li>Hypertension을 다른 질병 변수로 바꾸면 작업이 편해짐.</li>
</ul></li>
<li><p>보정 변수 : age sex</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1"></a><span class="do">## 질병들 마다 모델이 하나씩 생김</span></span>
<span id="cb170-2"><a href="#cb170-2"></a></span>
<span id="cb170-3"><a href="#cb170-3"></a></span>
<span id="cb170-4"><a href="#cb170-4"></a><span class="do">## Stroke</span></span>
<span id="cb170-5"><a href="#cb170-5"></a>fit_Stroke <span class="ot">&lt;-</span> <span class="fu">glm</span>(self_rated_health <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> Stroke, <span class="at">family=</span><span class="st">'binomial'</span>,</span>
<span id="cb170-6"><a href="#cb170-6"></a>                  <span class="at">data=</span>KNHANES21_category ) </span>
<span id="cb170-7"><a href="#cb170-7"></a></span>
<span id="cb170-8"><a href="#cb170-8"></a>Stroke_summary <span class="ot">&lt;-</span> fit_Stroke <span class="sc">%&gt;%</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(<span class="at">include =</span><span class="st">'Stroke'</span>,<span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span>
<span id="cb170-9"><a href="#cb170-9"></a></span>
<span id="cb170-10"><a href="#cb170-10"></a>Stroke_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="jnibzmltlt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jnibzmltlt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jnibzmltlt thead, #jnibzmltlt tbody, #jnibzmltlt tfoot, #jnibzmltlt tr, #jnibzmltlt td, #jnibzmltlt th {
  border-style: none;
}

#jnibzmltlt p {
  margin: 0;
  padding: 0;
}

#jnibzmltlt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jnibzmltlt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jnibzmltlt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jnibzmltlt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jnibzmltlt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jnibzmltlt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jnibzmltlt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jnibzmltlt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jnibzmltlt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jnibzmltlt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jnibzmltlt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jnibzmltlt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jnibzmltlt .gt_spanner_row {
  border-bottom-style: hidden;
}

#jnibzmltlt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jnibzmltlt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jnibzmltlt .gt_from_md > :first-child {
  margin-top: 0;
}

#jnibzmltlt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jnibzmltlt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jnibzmltlt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jnibzmltlt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jnibzmltlt .gt_row_group_first td {
  border-top-width: 2px;
}

#jnibzmltlt .gt_row_group_first th {
  border-top-width: 2px;
}

#jnibzmltlt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jnibzmltlt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jnibzmltlt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jnibzmltlt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jnibzmltlt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jnibzmltlt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jnibzmltlt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jnibzmltlt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jnibzmltlt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jnibzmltlt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jnibzmltlt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jnibzmltlt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jnibzmltlt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jnibzmltlt .gt_left {
  text-align: left;
}

#jnibzmltlt .gt_center {
  text-align: center;
}

#jnibzmltlt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jnibzmltlt .gt_font_normal {
  font-weight: normal;
}

#jnibzmltlt .gt_font_bold {
  font-weight: bold;
}

#jnibzmltlt .gt_font_italic {
  font-style: italic;
}

#jnibzmltlt .gt_super {
  font-size: 65%;
}

#jnibzmltlt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jnibzmltlt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jnibzmltlt .gt_indent_1 {
  text-indent: 5px;
}

#jnibzmltlt .gt_indent_2 {
  text-indent: 10px;
}

#jnibzmltlt .gt_indent_3 {
  text-indent: 15px;
}

#jnibzmltlt .gt_indent_4 {
  text-indent: 20px;
}

#jnibzmltlt .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>OR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">Stroke</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.96</td>
<td headers="ci" class="gt_row gt_center">1.35, 2.82</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="estimate" class="gt_row gt_center">6.88</td>
<td headers="ci" class="gt_row gt_center">5.64, 8.44</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section>
<section id="로지스틱-회귀분석---table-2---합체" class="slide level2 smaller scrollable">
<h2>로지스틱 회귀분석 - table 2 - 합체</h2>
<ul>
<li><p>table 2 만들기 실습</p></li>
<li><p>Y : self_rated_health</p></li>
<li><p>X들 : Hypertension, Diabetes, Dyslipidemia, Stroke</p></li>
<li><p>보정 변수 : age sex</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1"></a><span class="co"># 대망의 합체 시간</span></span>
<span id="cb171-2"><a href="#cb171-2"></a></span>
<span id="cb171-3"><a href="#cb171-3"></a><span class="fu">tbl_stack</span>(<span class="fu">list</span>(Hypertension_summary,</span>
<span id="cb171-4"><a href="#cb171-4"></a>               Diabetes_summary,</span>
<span id="cb171-5"><a href="#cb171-5"></a>          Dyslipidemia_summary,</span>
<span id="cb171-6"><a href="#cb171-6"></a>          Stroke_summary))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="konaewvdww" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#konaewvdww table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#konaewvdww thead, #konaewvdww tbody, #konaewvdww tfoot, #konaewvdww tr, #konaewvdww td, #konaewvdww th {
  border-style: none;
}

#konaewvdww p {
  margin: 0;
  padding: 0;
}

#konaewvdww .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#konaewvdww .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#konaewvdww .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#konaewvdww .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#konaewvdww .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#konaewvdww .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#konaewvdww .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#konaewvdww .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#konaewvdww .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#konaewvdww .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#konaewvdww .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#konaewvdww .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#konaewvdww .gt_spanner_row {
  border-bottom-style: hidden;
}

#konaewvdww .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#konaewvdww .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#konaewvdww .gt_from_md > :first-child {
  margin-top: 0;
}

#konaewvdww .gt_from_md > :last-child {
  margin-bottom: 0;
}

#konaewvdww .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#konaewvdww .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#konaewvdww .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#konaewvdww .gt_row_group_first td {
  border-top-width: 2px;
}

#konaewvdww .gt_row_group_first th {
  border-top-width: 2px;
}

#konaewvdww .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#konaewvdww .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#konaewvdww .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#konaewvdww .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#konaewvdww .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#konaewvdww .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#konaewvdww .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#konaewvdww .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#konaewvdww .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#konaewvdww .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#konaewvdww .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#konaewvdww .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#konaewvdww .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#konaewvdww .gt_left {
  text-align: left;
}

#konaewvdww .gt_center {
  text-align: center;
}

#konaewvdww .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#konaewvdww .gt_font_normal {
  font-weight: normal;
}

#konaewvdww .gt_font_bold {
  font-weight: bold;
}

#konaewvdww .gt_font_italic {
  font-style: italic;
}

#konaewvdww .gt_super {
  font-size: 65%;
}

#konaewvdww .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#konaewvdww .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#konaewvdww .gt_indent_1 {
  text-indent: 5px;
}

#konaewvdww .gt_indent_2 {
  text-indent: 10px;
}

#konaewvdww .gt_indent_3 {
  text-indent: 15px;
}

#konaewvdww .gt_indent_4 {
  text-indent: 20px;
}

#konaewvdww .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>OR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>OR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">Hypertension</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.76</td>
<td headers="ci" class="gt_row gt_center">1.53, 2.04</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="estimate" class="gt_row gt_center">0.44</td>
<td headers="ci" class="gt_row gt_center">0.31, 0.63</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Diabetes</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.82</td>
<td headers="ci" class="gt_row gt_center">1.53, 2.17</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="estimate" class="gt_row gt_center">0.48</td>
<td headers="ci" class="gt_row gt_center">0.34, 0.68</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Dyslipidemia</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.30</td>
<td headers="ci" class="gt_row gt_center">1.13, 1.50</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="estimate" class="gt_row gt_center">0.50</td>
<td headers="ci" class="gt_row gt_center">0.35, 0.71</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Stroke</td>
<td headers="estimate" class="gt_row gt_center"></td>
<td headers="ci" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;No</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
<td headers="estimate" class="gt_row gt_center">1.96</td>
<td headers="ci" class="gt_row gt_center">1.35, 2.82</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="estimate" class="gt_row gt_center">6.88</td>
<td headers="ci" class="gt_row gt_center">5.64, 8.44</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> OR = Odds Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</section></section>
<section>
<section id="추론-통계-예제" class="title-slide slide level1 center">
<h1>추론 통계 예제</h1>
<ul>
<li>무슨 통계 테스트를 쓸까</li>
</ul>
</section>
<section id="예제-1" class="slide level2 smaller scrollable">
<h2>예제 1</h2>
<ul>
<li>A 고등학교에서 남학생 200명과 여학생 200명의 수축기 혈압을 비교하고자 한다.</li>
<li>남학생의 이완기 혈압은 여학생 이완기 혈압과 차이가 있는가?</li>
</ul>
<div class="footer">
<p>안준호 교수님의 2023 동계 SAS 워크샵 내용을 참고했습니다.</p>
</div>
</section>
<section id="예제-1-1" class="slide level2 smaller scrollable">
<h2>예제 1</h2>
<ul>
<li>A 고등학교에서 남학생 200명과 여학생 200명의 수축기 혈압을 비교하고자 한다.</li>
<li>남학생의 이완기 혈압은 여학생 이완기 혈압과 차이가 있는가?
<ul>
<li>X: 남학생/여학생(범주형)</li>
<li>Y: 이완기혈압(연속형)</li>
</ul></li>
</ul>
<table style="width:97%;">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 37%">
<col style="width: 14%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th></th>
<th>X 변수</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td><strong>범주형</strong></td>
<td>연속형</td>
<td>X 변수 관계없이</td>
</tr>
<tr class="even">
<td><strong>Y 변수</strong></td>
<td>범주형</td>
<td>카이제곱 검정</td>
<td></td>
<td>로지스틱 회귀분석</td>
</tr>
<tr class="odd">
<td></td>
<td><strong>연속형</strong></td>
<td><p><strong>(X가 이분형) independent t-test</strong></p>
<p>(X가 3개 이상) ANOVA</p></td>
<td>선형회귀분석</td>
<td>일반화 선형 모델</td>
</tr>
</tbody>
</table>
<div class="footer">
<p>안준호 교수님의 2023 동계 SAS 워크샵 내용을 참고했습니다.</p>
</div>
</section>
<section id="예제-2" class="slide level2 smaller scrollable">
<h2>예제 2</h2>
<ul>
<li>환자 연령군에 따른(20대 50명 30대 50명 40대 50명) 약효가 나타나는 시간을 비교하고자 한다.</li>
<li>각 연령군에 따라 약효의 차이가 있는가?</li>
<li>있다면 어느 연령군 사이에서 차이가 있는가?</li>
</ul>
<div class="footer">
<p>안준호 교수님의 2023 동계 SAS 워크샵 내용을 참고했습니다.</p>
</div>
</section>
<section id="예제-2-1" class="slide level2 smaller scrollable">
<h2>예제 2</h2>
<ul>
<li>환자 연령군에 따른(20대 50명 30대 50명 40대 50명) 약효가 나타나는 시간을 비교하고자 한다.</li>
<li>각 연령군에 따라 약효의 차이가 있는가?</li>
<li>있다면 어느 연령군 사이에서 차이가 있는가? <strong>post hoc analysis</strong>
<ul>
<li>X: 20대/30대/40대(범주형)</li>
<li>Y: 약효가 나타나는 시간(연속형)</li>
</ul></li>
</ul>
<table style="width:97%;">
<colgroup>
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 35%">
<col style="width: 15%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th></th>
<th>X 변수</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td><strong>범주형</strong></td>
<td>연속형</td>
<td>X 변수 관계없이</td>
</tr>
<tr class="even">
<td><strong>Y 변수</strong></td>
<td>범주형</td>
<td>카이제곱 검정</td>
<td></td>
<td>로지스틱 회귀분석</td>
</tr>
<tr class="odd">
<td></td>
<td><strong>연속형</strong></td>
<td>(X가 이분형) independent t-test<br>
<strong>(X가 3개 이상) ANOVA</strong></td>
<td>선형회귀분석</td>
<td>일반화 선형 모델</td>
</tr>
</tbody>
</table>
<div class="footer">
<p>안준호 교수님의 2023 동계 SAS 워크샵 내용을 참고했습니다.</p>
</div>
</section>
<section id="예제-3" class="slide level2 smaller scrollable">
<h2>예제 3</h2>
<ul>
<li>담석 치료를 위하여 충격파 쇄석술을 적용한 35명을 대상으로 담석이 효과적으로 파괴될 때까지의 시간과 담석의 총 무게 및 residual stone의 무게, residual stone 중 칼슘의 함량, bilirubin 함량, 그리고 콜레스테롤 함량을 측정하여 결과를 얻었다.</li>
<li>콜레스테롤의 함량은 담석 파괴 소요 시간에 유의한 영향을 미치고 있다고 보겠는가?</li>
</ul>
<div class="footer">
<p>안준호 교수님의 2023 동계 SAS 워크샵 내용을 참고했습니다.</p>
</div>
</section>
<section id="예제-3-1" class="slide level2 smaller scrollable">
<h2>예제 3</h2>
<ul>
<li>담석 치료를 위하여 충격파 쇄석술을 적용한 35명을 대상으로 담석이 효과적으로 파괴될 때까지의 시간과 담석의 총 무게 및 residual stone의 무게, residual stone 중 칼슘의 함량, bilirubin 함량, 그리고 콜레스테롤 함량을 측정하여 결과를 얻었다.</li>
<li>콜레스테롤의 함량은 담석 파괴 소요 시간에 유의한 영향을 미치고 있다고 보겠는가?
<ul>
<li>X: 콜레스테롤 함량(연속형)</li>
<li>Y: 담석 파괴 소요시간(연속형)</li>
</ul></li>
</ul>
<table style="width:97%;">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 25%">
<col style="width: 20%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th></th>
<th>X 변수</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td>범주형</td>
<td>연속형</td>
<td>X변수 관계 없이</td>
</tr>
<tr class="even">
<td><strong>Y 변수</strong></td>
<td>범주형</td>
<td>카이제곱 검정</td>
<td></td>
<td>로지스틱 회귀분석</td>
</tr>
<tr class="odd">
<td></td>
<td><strong>연속형</strong></td>
<td><p>(X가 이분형)</p>
<p>independent t-test</p>
<p>(X가 3개 이상) ANOVA</p></td>
<td><strong>선형회귀분석</strong></td>
<td>일반화 선형 모델</td>
</tr>
</tbody>
</table>
<div class="footer">
<p>안준호 교수님의 2023 동계 SAS 워크샵 내용을 참고했습니다.</p>
</div>
</section>
<section id="예제-4" class="slide level2 smaller scrollable">
<h2>예제 4</h2>
<ul>
<li>간접 흡연이 뇌졸중에 미치는 영향을 조사하기 위해 비흡연 뇌졸중 환자를 환자군으로 환자군과 연령, 직업을 매칭한 대조군으로 환자-대조군 연구를 수행하고자 한다. 간접 흡연 노출 변수는 동거 가족 중에 흡연자가 있는지를 여부로 조사하였다.</li>
<li>동거 가족 흡연자 유무와 뇌졸중 발병에 상관관계가 있는가?</li>
</ul>
<div class="footer">
<p><a href="https://online.stat.psu.edu/stat100/lesson/10/10.1">Need more?</a></p>
</div>
</section>
<section id="예제-4-1" class="slide level2 smaller scrollable">
<h2>예제 4</h2>
<ul>
<li>간접 흡연이 뇌졸중에 미치는 영향을 조사하기 위해 비흡연 뇌졸중 환자를 환자군으로 환자군과 연령, 직업을 매칭한 대조군으로 환자-대조군 연구를 수행하고자 한다. 간접 흡연 노출 변수는 동거 가족 중에 흡연자가 있는지를 여부로 조사하였다.</li>
<li>동거 가족 흡연자 유무와 뇌졸중 발병에 상관관계가 있는가?
<ul>
<li>X: 동거 가족 흡연자 유무(범주형)</li>
<li>Y: 뇌졸중 유무(범주형)</li>
</ul></li>
</ul>
<table style="width:97%;">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 33%">
<col style="width: 14%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th></th>
<th>X 변수</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td><strong>범주형</strong></td>
<td>연속형</td>
<td>X 변수 관계없이</td>
</tr>
<tr class="even">
<td><strong>Y 변수</strong></td>
<td><strong>범주형</strong></td>
<td><strong>카이제곱 검정</strong></td>
<td></td>
<td><strong>로지스틱 회귀분석</strong></td>
</tr>
<tr class="odd">
<td></td>
<td>연속형</td>
<td><p>(X가 이분형) independent t-test</p>
<p>(X가 3개 이상) ANOVA</p></td>
<td>선형회귀분석</td>
<td>일반화 선형 모델</td>
</tr>
</tbody>
</table>
<div class="footer">
<p><a href="https://online.stat.psu.edu/stat100/lesson/10/10.1">Need more?</a></p>
</div>
</section></section>
<section>
<section id="추론-통계---기타" class="title-slide slide level1 center">
<h1>추론 통계 - 기타</h1>
<ul>
<li>paired t-test</li>
<li>생존분석</li>
</ul>
</section>
<section id="paired-t-test---자료-준비" class="slide level2">
<h2>paired t-test - 자료 준비</h2>
<ul>
<li>짝지어진 경우의 t-test</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1"></a>data_paired <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">'data'</span>,<span class="st">'paired t test.xlsx'</span>))</span>
<span id="cb172-2"><a href="#cb172-2"></a>data_paired</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Subject before after Difference
1        1    132   136          4
2        2    146   145          1
3        3    135   140          5
4        4    141   147          6
5        5    139   142          3
6        6    162   160         -2
7        7    128   137          9
8        8    137   136         -1
9        9    145   149          4
10      10    151   158          7
11      11    131   120        -11
12      12    143   150          7</code></pre>
</div>
</div>
</section>
<section id="paired-t-test---자료-그림" class="slide level2 smaller scrollable">
<h2>paired t-test - 자료 그림</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1"></a><span class="do">## ggplot 그림 그릴 때는 long form 쓰세요</span></span>
<span id="cb174-2"><a href="#cb174-2"></a>data_paired_long <span class="ot">&lt;-</span> data_paired <span class="sc">%&gt;%</span> </span>
<span id="cb174-3"><a href="#cb174-3"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb174-4"><a href="#cb174-4"></a>               <span class="at">names_to =</span> <span class="st">'test_point'</span>, <span class="at">values_to =</span> <span class="st">'value'</span>)</span>
<span id="cb174-5"><a href="#cb174-5"></a></span>
<span id="cb174-6"><a href="#cb174-6"></a>data_paired_long<span class="sc">$</span>test_point <span class="ot">&lt;-</span> <span class="fu">factor</span>(data_paired_long<span class="sc">$</span>test_point, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'before'</span>,<span class="st">'after'</span>))</span>
<span id="cb174-7"><a href="#cb174-7"></a></span>
<span id="cb174-8"><a href="#cb174-8"></a>data_paired_long <span class="sc">%&gt;%</span> </span>
<span id="cb174-9"><a href="#cb174-9"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>test_point, <span class="at">y=</span>value, <span class="at">group=</span>test_point)) <span class="sc">+</span> </span>
<span id="cb174-10"><a href="#cb174-10"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb174-11"><a href="#cb174-11"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb174-12"><a href="#cb174-12"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group=</span>Subject)) <span class="sc">+</span></span>
<span id="cb174-13"><a href="#cb174-13"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Rworkshop_presentation_files/figure-revealjs/unnamed-chunk-131-1.png" width="960" class="r-stretch"></section>
<section id="paired-t-test---검정" class="slide level2 smaller scrollable">
<h2>paired t-test - 검정</h2>
<ul>
<li>짝 지은 자료 테스트
<ul>
<li><strong>paired=T 옵션으로 검정</strong></li>
<li>변수의 차이를 계산한 변수를 만들어 이 변수의 평균이 0인지 확인</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a><span class="co"># 정규성</span></span>
<span id="cb175-2"><a href="#cb175-2"></a>data_paired<span class="sc">$</span>before <span class="sc">%&gt;%</span> <span class="fu">shapiro.test</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  .
W = 0.95361, p-value = 0.6902</code></pre>
</div>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a>data_paired<span class="sc">$</span>after <span class="sc">%&gt;%</span> <span class="fu">shapiro.test</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  .
W = 0.95684, p-value = 0.7379</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1"></a><span class="fu">t.test</span>(data_paired<span class="sc">$</span>before, data_paired<span class="sc">$</span>after, <span class="at">paired =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Paired t-test

data:  data_paired$before and data_paired$after
t = -1.574, df = 11, p-value = 0.1438
alternative hypothesis: true mean difference is not equal to 0
95 percent confidence interval:
 -5.9958458  0.9958458
sample estimates:
mean difference 
           -2.5 </code></pre>
</div>
</div>
</section>
<section id="paired-t-test---검정-1" class="slide level2 smaller scrollable">
<h2>paired t-test - 검정</h2>
<ul>
<li>짝 지은 자료 테스트
<ul>
<li>paired=T 옵션으로 검정</li>
<li><strong>변수의 차이를 계산한 변수를 만들어 이 변수의 평균이 0인지 확인</strong></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1"></a><span class="do">## 차이를 가지고 검정</span></span>
<span id="cb181-2"><a href="#cb181-2"></a><span class="fu">t.test</span>(data_paired<span class="sc">$</span>Difference, <span class="at">mu=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  data_paired$Difference
t = 1.7056, df = 11, p-value = 0.1161
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 -0.7745118  6.1078452
sample estimates:
mean of x 
 2.666667 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1"></a><span class="do">## 비모수</span></span>
<span id="cb183-2"><a href="#cb183-2"></a><span class="fu">wilcox.test</span>(data_paired<span class="sc">$</span>before, data_paired<span class="sc">$</span>after, <span class="at">paired =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wilcoxon signed rank test with continuity correction

data:  data_paired$before and data_paired$after
V = 18, p-value = 0.1074
alternative hypothesis: true location shift is not equal to 0</code></pre>
</div>
</div>
</section>
<section id="생존분석-외-기타" class="slide level2 smaller">
<h2>생존분석 외 기타</h2>
<div class="columns">
<div class="column">
<ul>
<li>생존분석
<ul>
<li>성빈센트 병원 문건웅 교수님 패키지를 써보자</li>
<li><a href="https://cardiomoon.github.io/autoReg/articles/Survival.html">autoReg</a></li>
</ul></li>
<li>일반화 가법 모형
<ul>
<li><a href="https://bookdown.org/cardiomoon/gam/">문건웅 교수님 자료</a></li>
</ul></li>
</ul>
</div><div class="column">
<p><img data-src="images/cardiomoon_r_book.jpg"></p>
</div>
</div>
</section></section>
<section id="끝" class="title-slide slide level1 center">
<h1>끝</h1>
<ul>
<li>Learn more R and have fun!</li>
<li>감사합니다.</li>
</ul>
<div class="footer">
<p>이메일 : jae0young.park@gmail.com</p>
</div>

<img src="images/심볼마크 기본형_CMC Blue.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>2023 서울성모병원 직업환경의학과 R 워크샵</p>
</div>
</section>


    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Rworkshop_presentation_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Rworkshop_presentation_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>